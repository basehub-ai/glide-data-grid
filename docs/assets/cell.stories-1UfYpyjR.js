var Fd=Object.defineProperty;var Ld=(e,t,n)=>t in e?Fd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ye=(e,t,n)=>(Ld(e,typeof t!="symbol"?t+"":t,n),n);import{s as Ct,m as Hd,j as Pe,a as mo,b as Ad}from"./marked.esm-0svxPciP.js";import{r as d,R as It}from"./index-BMVQvedj.js";import{h as $d,d as pc,j as zd,v as Vd,_ as Bd,g as Nd,c as Rn,r as qn,t as Wd}from"./throttle-7EuXLZa7.js";import{_ as No,a as _d,b as Qn,t as Gd,c as vc,d as Te,e as ho}from"./toConsumableArray-ppDpjNRJ.js";import{r as Ud}from"./index-wocATsGp.js";import{_ as hl}from"./iframe-vTKsg95g.js";import{u as bc,f as rs}from"./flatten-qRvRBp6y.js";import{u as Xd}from"./index.esm-Ejw8GwRl.js";function wc(e="This should not happen"){throw new Error(e)}function pn(e,t="Assertion failed"){if(!e)return wc(t)}function Yo(e,t){return wc(t??"Hell froze over")}function Yd(e,t){try{return e()}catch{return t}}const os=Object.prototype.hasOwnProperty;function po(e,t){let n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&po(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(os.call(e,n)&&++r&&!os.call(t,n)||!(n in t)||!po(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const Ni=null,gl=void 0;var X;(function(e){e.Uri="uri",e.Text="text",e.Image="image",e.RowID="row-id",e.Number="number",e.Bubble="bubble",e.Boolean="boolean",e.Loading="loading",e.Markdown="markdown",e.Drilldown="drilldown",e.Protected="protected",e.Custom="custom"})(X||(X={}));var is;(function(e){e.HeaderRowID="headerRowID",e.HeaderCode="headerCode",e.HeaderNumber="headerNumber",e.HeaderString="headerString",e.HeaderBoolean="headerBoolean",e.HeaderAudioUri="headerAudioUri",e.HeaderVideoUri="headerVideoUri",e.HeaderEmoji="headerEmoji",e.HeaderImage="headerImage",e.HeaderUri="headerUri",e.HeaderPhone="headerPhone",e.HeaderMarkdown="headerMarkdown",e.HeaderDate="headerDate",e.HeaderTime="headerTime",e.HeaderEmail="headerEmail",e.HeaderReference="headerReference",e.HeaderIfThenElse="headerIfThenElse",e.HeaderSingleValue="headerSingleValue",e.HeaderLookup="headerLookup",e.HeaderTextTemplate="headerTextTemplate",e.HeaderMath="headerMath",e.HeaderRollup="headerRollup",e.HeaderJoinStrings="headerJoinStrings",e.HeaderSplitString="headerSplitString",e.HeaderGeoDistance="headerGeoDistance",e.HeaderArray="headerArray",e.RowOwnerOverlay="rowOwnerOverlay",e.ProtectedColumnOverlay="protectedColumnOverlay"})(is||(is={}));var Wi;(function(e){e.Triangle="triangle",e.Dots="dots"})(Wi||(Wi={}));function Ri(e){return"width"in e&&typeof e.width=="number"}async function as(e){return typeof e=="object"?e:await e()}function lo(e){return!(e.kind===X.Loading||e.kind===X.Bubble||e.kind===X.RowID||e.kind===X.Protected||e.kind===X.Drilldown)}function so(e){return e.kind===En.Marker||e.kind===En.NewRow}function Wo(e){if(!lo(e)||e.kind===X.Image)return!1;if(e.kind===X.Text||e.kind===X.Number||e.kind===X.Markdown||e.kind===X.Uri||e.kind===X.Custom||e.kind===X.Boolean)return e.readonly!==!0;Yo(e,"A cell was passed with an invalid kind")}function Kd(e){return $d(e,"editor")}function ml(e){return!(e.readonly??!1)}var En;(function(e){e.NewRow="new-row",e.Marker="marker"})(En||(En={}));function jd(e){if(e.length===0)return[];const t=[...e],n=[];t.sort(function(r,o){return r[0]-o[0]}),n.push([...t[0]]);for(const r of t.slice(1)){const o=n[n.length-1];o[1]<r[0]?n.push([...r]):o[1]<r[1]&&(o[1]=r[1])}return n}let ls;const lr=class lr{constructor(t){Ye(this,"items");this.items=t}offset(t){if(t===0)return this;const n=this.items.map(r=>[r[0]+t,r[1]+t]);return new lr(n)}add(t){const n=typeof t=="number"?[t,t+1]:t,r=jd([...this.items,n]);return new lr(r)}remove(t){const n=[...this.items],r=typeof t=="number"?t:t[0],o=typeof t=="number"?t+1:t[1];for(const[i,a]of n.entries()){const[s,l]=a;if(s<=o&&r<=l){const c=[];s<r&&c.push([s,r]),o<l&&c.push([o,l]),n.splice(i,1,...c)}}return new lr(n)}first(){if(this.items.length!==0)return this.items[0][0]}last(){if(this.items.length!==0)return this.items.slice(-1)[0][1]-1}hasIndex(t){for(let n=0;n<this.items.length;n++){const[r,o]=this.items[n];if(t>=r&&t<o)return!0}return!1}hasAll(t){for(let n=t[0];n<t[1];n++)if(!this.hasIndex(n))return!1;return!0}some(t){for(const n of this)if(t(n))return!0;return!1}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(let n=0;n<this.items.length;n++){const r=t.items[n],o=this.items[n];if(r[0]!==o[0]||r[1]!==o[1])return!1}return!0}toArray(){const t=[];for(const[n,r]of this.items)for(let o=n;o<r;o++)t.push(o);return t}get length(){let t=0;for(const[n,r]of this.items)t+=r-n;return t}*[Symbol.iterator](){for(const[t,n]of this.items)for(let r=t;r<n;r++)yield r}};Ye(lr,"empty",()=>ls??(ls=new lr([]))),Ye(lr,"fromSingleSelection",t=>lr.empty().add(t));let dt=lr;const qd=Ct("div")({name:"ImageOverlayEditorStyle",class:"gdg-i2iowwq",propsAsIs:!1});function Zt(e,t,n,r,o=!1){const i=d.useRef();i.current=t,d.useEffect(()=>{if(n===null||n.addEventListener===void 0)return;const a=n,s=l=>{var c;(c=i.current)==null||c.call(a,l)};return a.addEventListener(e,s,{passive:r,capture:o}),()=>{a.removeEventListener(e,s,{capture:o})}},[e,n,r,o])}function zr(e,t){return e===void 0?void 0:t}const Zd=Math.PI;function ss(e){return e*Zd/180}const yc=(e,t,n)=>({x1:e-n/2,y1:t-n/2,x2:e+n/2,y2:t+n/2}),Cc=(e,t,n,r,o)=>{switch(e){case"left":return Math.floor(t)+r+o/2;case"center":return Math.floor(t+n/2);case"right":return Math.floor(t+n)-r-o/2}},Sc=(e,t,n)=>Math.min(e,t-n*2),xc=(e,t,n)=>n.x1<=e&&e<=n.x2&&n.y1<=t&&t<=n.y2,pl=e=>{const t=e.fgColor??"currentColor";return d.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),d.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},Jd=e=>{const t=e.fgColor??"currentColor";return d.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function Qd(e,t,n){const[r,o]=d.useState(e),i=d.useRef(!0);d.useEffect(()=>()=>{i.current=!1},[]);const a=d.useRef(pc(s=>{i.current&&o(s)},n));return d.useLayoutEffect(()=>{i.current&&a.current(()=>e())},t),r}const ef="֑-߿יִ-﷽ﹰ-ﻼ",tf="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",nf=new RegExp("^[^"+tf+"]*["+ef+"]");function vl(e){return nf.test(e)?"rtl":"not-rtl"}let Ii;function el(){if(typeof document>"u")return 0;if(Ii!==void 0)return Ii;const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.id="testScrollbar",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.append(e),document.body.append(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),t.remove(),Ii=n-r,Ii}const Hr=Symbol();function rf(e){const t=d.useRef([Hr,e]);t.current[1]!==e&&(t.current[0]=e),t.current[1]=e;const[n,r]=d.useState(e),[,o]=d.useState(),i=d.useCallback(s=>{const l=t.current[0];l!==Hr&&(s=typeof s=="function"?s(l):s,s===l)||(l!==Hr&&o({}),r(c=>typeof s=="function"?s(l===Hr?c:l):s),t.current[0]=Hr)},[]),a=d.useCallback(()=>{t.current[0]=Hr,o({})},[]);return[t.current[0]===Hr?n:t.current[0],i,a]}function kc(e){if(e.length===0)return"";let t=0,n=0;for(const r of e){if(n+=r.length,n>1e4)break;t++}return e.slice(0,t).join(", ")}function of(e){const t=d.useRef(e);return po(e,t.current)||(t.current=e),t.current}const af=e=>{const{urls:t,canWrite:n,onEditClick:r,renderImage:o}=e,i=t.filter(s=>s!=="");if(i.length===0)return null;const a=i.length>1;return d.createElement(qd,{"data-testid":"GDG-default-image-overlay-editor"},d.createElement(zd.Carousel,{showArrows:a,showThumbs:!1,swipeable:a,emulateTouch:a,infiniteLoop:a},i.map(s=>{const l=(o==null?void 0:o(s))??d.createElement("img",{draggable:!1,src:s});return d.createElement("div",{className:"gdg-centering-container",key:s},l)})),n&&r&&d.createElement("button",{className:"gdg-edit-icon",onClick:r},d.createElement(pl,null)))},lf=Ct("div")({name:"MarkdownContainer",class:"gdg-mnuv029",propsAsIs:!1});class sf extends It.PureComponent{constructor(){super(...arguments);Ye(this,"targetElement",null);Ye(this,"containerRefHook",n=>{this.targetElement=n,this.renderMarkdownIntoDiv()})}renderMarkdownIntoDiv(){const{targetElement:n,props:r}=this;if(n===null)return;const{contents:o,createNode:i}=r,a=Hd(o),s=document.createRange();s.selectNodeContents(n),s.deleteContents();let l=i==null?void 0:i(a);if(l===void 0){const u=document.createElement("template");u.innerHTML=a,l=u.content}n.append(l);const c=n.getElementsByTagName("a");for(const u of c)u.target="_blank",u.rel="noreferrer noopener"}render(){return this.renderMarkdownIntoDiv(),It.createElement(lf,{ref:this.containerRefHook})}}const cf=Ct("textarea")({name:"InputBox",class:"gdg-izpuzkl",propsAsIs:!1}),uf=Ct("div")({name:"ShadowBox",class:"gdg-s69h75o",propsAsIs:!1}),df=Ct("div")({name:"GrowingEntryStyle",class:"gdg-g1y0xocz",propsAsIs:!1});let cs=0;const Wr=e=>{const{placeholder:t,value:n,onKeyDown:r,highlight:o,altNewline:i,validatedSelection:a,...s}=e,{onChange:l,className:c}=s,u=d.useRef(null),f=n??"";pn(l!==void 0,"GrowingEntry must be a controlled input area");const[m]=d.useState(()=>"input-box-"+(cs=(cs+1)%1e7));d.useEffect(()=>{const h=u.current;if(h===null||h.disabled)return;const g=f.toString().length;h.focus(),h.setSelectionRange(o?0:g,g)},[]),d.useLayoutEffect(()=>{var h;if(a!==void 0){const g=typeof a=="number"?[a,null]:a;(h=u.current)==null||h.setSelectionRange(g[0],g[1])}},[a]);const p=d.useCallback(h=>{h.key==="Enter"&&h.shiftKey&&i===!0||r==null||r(h)},[i,r]);return d.createElement(df,{className:"gdg-growing-entry"},d.createElement(uf,{className:c},f+`
`),d.createElement(cf,{...s,className:(c??"")+" gdg-input",id:m,ref:u,onKeyDown:p,value:f,placeholder:t,dir:"auto"}))},Aa={};let Cr=null;function ff(){const e=document.createElement("div");return e.style.opacity="0",e.style.pointerEvents="none",e.style.position="fixed",document.body.append(e),e}function Br(e){const t=e.toLowerCase().trim();if(Aa[t]!==void 0)return Aa[t];Cr=Cr||ff(),Cr.style.color="#000",Cr.style.color=t;const n=getComputedStyle(Cr).color;Cr.style.color="#fff",Cr.style.color=t;const r=getComputedStyle(Cr).color;if(r!==n)return[0,0,0,1];let o=r.replace(/[^\d.,]/g,"").split(",").map(Number.parseFloat);return o.length<4&&o.push(1),o=o.map(i=>Number.isNaN(i)?0:i),Aa[t]=o,o}function Nr(e,t){const[n,r,o]=Br(e);return`rgba(${n}, ${r}, ${o}, ${t})`}const us=new Map;function ds(e,t){const n=`${e}-${t}`,r=us.get(n);if(r!==void 0)return r;const o=dn(e,t);return us.set(n,o),o}function dn(e,t){if(t===void 0)return e;const[n,r,o,i]=Br(e);if(i===1)return e;const[a,s,l,c]=Br(t),u=i+c*(1-i),f=(i*n+c*a*(1-i))/u,m=(i*r+c*s*(1-i))/u,p=(i*o+c*l*(1-i))/u;return`rgba(${f}, ${m}, ${p}, ${u})`}function hf(e,t,n){if(n<=0)return e;if(n>=1)return t;const r=[...Br(e)];r[0]=r[0]*r[3],r[1]=r[1]*r[3],r[2]=r[2]*r[3];const o=[...Br(t)];o[0]=o[0]*o[3],o[1]=o[1]*o[3],o[2]=o[2]*o[3];const i=n,a=1-n,s=r[3]*a+o[3]*i,l=Math.floor((r[0]*a+o[0]*i)/s),c=Math.floor((r[1]*a+o[1]*i)/s),u=Math.floor((r[2]*a+o[2]*i)/s);return`rgba(${l}, ${c}, ${u}, ${s})`}function tl(e){if(e==="transparent")return 0;function t(i){const a=i/255;return a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}const[n,r,o]=Br(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function gf(e,t){return It.useMemo(()=>e.map((n,r)=>({group:n.group,grow:n.grow,hasMenu:n.hasMenu,icon:n.icon,id:n.id,menuIcon:n.menuIcon,overlayIcon:n.overlayIcon,sourceIndex:r,sticky:r<t,indicatorIcon:n.indicatorIcon,style:n.style,themeOverride:n.themeOverride,title:n.title,trailingRowOptions:n.trailingRowOptions,width:n.width,growOffset:n.growOffset,rowMarker:n.rowMarker,rowMarkerChecked:n.rowMarkerChecked,headerRowMarkerTheme:n.headerRowMarkerTheme,headerRowMarkerAlwaysVisible:n.headerRowMarkerAlwaysVisible,headerRowMarkerDisabled:n.headerRowMarkerDisabled})),[e,t])}function mf(e,t){const[n,r]=t;if(e.columns.hasIndex(n)||e.rows.hasIndex(r))return!0;if(e.current!==void 0){if(Go(e.current.cell,t))return!0;const o=[e.current.range,...e.current.rangeStack];for(const i of o)if(n>=i.x&&n<i.x+i.width&&r>=i.y&&r<i.y+i.height)return!0}return!1}function Ko(e,t){return(e??"")===(t??"")}function pf(e,t,n){return n.current===void 0||e[1]!==n.current.cell[1]?!1:t.span===void 0?n.current.cell[0]===e[0]:n.current.cell[0]>=t.span[0]&&n.current.cell[0]<=t.span[1]}function Mc(e,t){const[n,r]=e;return n>=t.x&&n<t.x+t.width&&r>=t.y&&r<t.y+t.height}function Go(e,t){return(e==null?void 0:e[0])===(t==null?void 0:t[0])&&(e==null?void 0:e[1])===(t==null?void 0:t[1])}function Rc(e){return[e.x+e.width-1,e.y+e.height-1]}function fs(e,t,n){const r=n.x,o=n.x+n.width-1,i=n.y,a=n.y+n.height-1,[s,l]=e;if(l<i||l>a)return!1;if(t.span===void 0)return s>=r&&s<=o;const[c,u]=t.span;return c>=r&&c<=o||u>=r&&c<=o||c<r&&u>o}function vf(e,t,n,r){let o=0;if(n.current===void 0)return o;const i=n.current.range;(r||i.height*i.width>1)&&fs(e,t,i)&&o++;for(const a of n.current.rangeStack)fs(e,t,a)&&o++;return o}function Ic(e,t){let n=e;if(t!==void 0){let r=[...e];const o=n[t.src];t.src>t.dest?(r.splice(t.src,1),r.splice(t.dest,0,o)):(r.splice(t.dest+1,0,o),r.splice(t.src,1)),r=r.map((i,a)=>({...i,sticky:e[a].sticky})),n=r}return n}function vo(e,t){let n=0;const r=Ic(e,t);for(let o=0;o<r.length;o++){const i=r[o];if(i.sticky)n+=i.width;else break}return n}function _r(e,t,n){if(typeof n=="number")return t*n;{let r=0;for(let o=e-t;o<e;o++)r+=n(o);return r}}function nl(e,t,n,r,o){const i=Ic(e,r),a=[];for(const c of i)if(c.sticky)a.push(c);else break;if(a.length>0)for(const c of a)n-=c.width;let s=t,l=o??0;for(;l<=n&&s<i.length;)l+=i[s].width,s++;for(let c=t;c<s;c++){const u=i[c];u.sticky||a.push(u)}return a}function bf(e,t,n){let r=0;for(const o of t){const i=o.sticky?r:r+(n??0);if(e<=i+o.width)return o.sourceIndex;r+=o.width}return-1}function wf(e,t,n,r,o,i,a,s,l,c){const u=r+o;if(n&&e<=o)return-2;if(e<=u)return-1;let f=t;for(let h=0;h<c;h++){const g=i-1-h,b=typeof a=="number"?a:a(g);if(f-=b,e>=f)return g}const m=i-c,p=e-(l??0);if(typeof a=="number"){const h=Math.floor((p-u)/a)+s;return h>=m?void 0:h}else{let h=u;for(let g=s;g<m;g++){const b=a(g);if(p<=h+b)return g;h+=b}return}}let Hi=0,Uo={};const yf=typeof window>"u";async function Cf(){var e;yf||((e=document==null?void 0:document.fonts)==null?void 0:e.ready)===void 0||(await document.fonts.ready,Hi=0,Uo={},Vd())}Cf();function Ec(e,t,n,r){return`${e}_${r??(t==null?void 0:t.font)}_${n}`}function fn(e,t,n,r="middle"){const o=Ec(e,t,r,n);let i=Uo[o];return i===void 0&&(i=t.measureText(e),Uo[o]=i,Hi++),Hi>1e4&&(Uo={},Hi=0),i}function Dc(e,t){const n=Ec(e,void 0,"middle",t);return Uo[n]}function Kt(e,t){return typeof t!="string"&&(t=t.baseFontFull),Sf(e,t)}function hs(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";e.save(),e.textBaseline=t;const r=e.measureText(n);return e.restore(),r}const gs=[];function Sf(e,t){for(const i of gs)if(i.key===t)return i.val;const n=hs(e,"alphabetic"),o=-(hs(e,"middle").actualBoundingBoxDescent-n.actualBoundingBoxDescent)+n.actualBoundingBoxAscent/2;return gs.push({key:t,val:o}),o}function xf(e,t,n,r,o,i){const{ctx:a,rect:s,theme:l}=e;let c=Number.MAX_SAFE_INTEGER;const u=500;if(t!==void 0&&(c=n-t,c<u)){const f=1-c/u;a.globalAlpha=f,a.fillStyle=l.bgSearchResult,a.fillRect(s.x+1,s.y+1,s.width-(o?2:1),s.height-(i?2:1)),a.globalAlpha=1,r!==void 0&&(r.fillStyle=l.bgSearchResult)}return c<u}function ei(e,t,n){const{ctx:r,theme:o}=e,i=t??{},a=n??o.textDark;return a!==i.fillStyle&&(r.fillStyle=a,i.fillStyle=a),i}function kf(e,t,n){const{rect:r,ctx:o,theme:i}=e;o.fillStyle=i.textDark,Zn({ctx:o,rect:r,theme:i},t,n)}function Oc(e,t,n,r,o,i,a,s,l){l==="right"?e.fillText(t,n+o-(s.cellHorizontalPadding+.5),r+i/2+a):l==="center"?e.fillText(t,n+o/2,r+i/2+a):e.fillText(t,n+s.cellHorizontalPadding+.5,r+i/2+a)}function Pc(e,t){const n=fn("ABCi09jgqpy",e,t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}function Mf(e,t){e.includes(`
`)&&(e=e.split(/\r?\n/,1)[0]);const n=t/4;return e.length>n&&(e=e.slice(0,n)),e}function Rf(e,t,n,r,o,i,a,s,l,c){const u=s.baseFontFull,f=Bd(e,t,u,o-s.cellHorizontalPadding*2,c??!1),m=Pc(e,u),p=s.lineHeight*m,h=m+p*(f.length-1),g=h+s.cellVerticalPadding>i;g&&(e.save(),e.rect(n,r,o,i),e.clip());const b=r+i/2-h/2;let w=Math.max(r+s.cellVerticalPadding,b);for(const y of f)if(Oc(e,y,n,w,o,m,a,s,l),w+=p,w>r+i)break;g&&e.restore()}function Zn(e,t,n,r,o){const{ctx:i,rect:a,theme:s}=e,{x:l,y:c,width:u,height:f}=a;r=r??!1,r||(t=Mf(t,u));const m=Kt(i,s),p=vl(t)==="rtl";if(n===void 0&&p&&(n="right"),p&&(i.direction="rtl"),t.length>0){let h=!1;n==="right"?(i.textAlign="right",h=!0):n!==void 0&&n!=="left"&&(i.textAlign=n,h=!0),r?Rf(i,t,l,c,u,f,m,s,n,o):Oc(i,t,l,c,u,f,m,s,n),h&&(i.textAlign="start"),p&&(i.direction="inherit")}}function $n(e,t,n,r,o,i){typeof i=="number"&&(i={tl:i,tr:i,br:i,bl:i}),i={tl:Math.max(0,Math.min(i.tl,o/2,r/2)),tr:Math.max(0,Math.min(i.tr,o/2,r/2)),bl:Math.max(0,Math.min(i.bl,o/2,r/2)),br:Math.max(0,Math.min(i.br,o/2,r/2))},e.moveTo(t+i.tl,n),e.arcTo(t+r,n,t+r,n+i.tr,i.tr),e.arcTo(t+r,n+o,t+r-i.br,n+o,i.br),e.arcTo(t,n+o,t,n+o-i.bl,i.bl),e.arcTo(t,n,t+i.tl,n,i.tl)}function If(e,t,n){e.arc(t,n-1.25*3.5,1.25,0,2*Math.PI,!1),e.arc(t,n,1.25,0,2*Math.PI,!1),e.arc(t,n+1.25*3.5,1.25,0,2*Math.PI,!1)}function Ef(e,t,n){const r=function(s,l){const c=l.x-s.x,u=l.y-s.y,f=Math.sqrt(c*c+u*u),m=c/f,p=u/f;return{x:c,y:l.y-s.y,len:f,nx:m,ny:p,ang:Math.atan2(p,m)}};let o;const i=t.length;let a=t[i-1];for(let s=0;s<i;s++){let l=t[s%i];const c=t[(s+1)%i],u=r(l,a),f=r(l,c),m=u.nx*f.ny-u.ny*f.nx,p=u.nx*f.nx-u.ny*-f.ny;let h=Math.asin(m<-1?-1:m>1?1:m),g=1,b=!1;p<0?h<0?h=Math.PI+h:(h=Math.PI-h,g=-1,b=!0):h>0&&(g=-1,b=!0),o=l.radius!==void 0?l.radius:n;const w=h/2;let y=Math.abs(Math.cos(w)*o/Math.sin(w)),S;y>Math.min(u.len/2,f.len/2)?(y=Math.min(u.len/2,f.len/2),S=Math.abs(y*Math.sin(w)/Math.cos(w))):S=o;let E=l.x+f.nx*y,D=l.y+f.ny*y;E+=-f.ny*S*g,D+=f.nx*S*g,e.arc(E,D,S,u.ang+Math.PI/2*g,f.ang-Math.PI/2*g,b),a=l,l=c}e.closePath()}function rl(e,t,n,r,o,i,a,s,l,c,u,f,m,p,h){const g={x:0,y:i+c,width:0,height:0};if(e>=p.length||t>=u||t<-2||e<0)return g;const b=i-o;if(e>=f){const w=a>e?-1:1,y=vo(p);g.x+=y+l;for(let S=a;S!==e;S+=w)g.x+=p[w===1?S:S-1].width*w}else for(let w=0;w<e;w++)g.x+=p[w].width;if(g.width=p[e].width+1,t===-1)g.y=o,g.height=b;else if(t===-2){g.y=0,g.height=o;let w=e;const y=p[e].group,S=p[e].sticky;for(;w>0&&Ko(p[w-1].group,y)&&p[w-1].sticky===S;){const D=p[w-1];g.x-=D.width,g.width+=D.width,w--}let E=e;for(;E+1<p.length&&Ko(p[E+1].group,y)&&p[E+1].sticky===S;){const D=p[E+1];g.width+=D.width,E++}if(!S){const D=vo(p),R=g.x-D;R<0&&(g.x-=R,g.width+=R),g.x+g.width>n&&(g.width=n-g.x)}}else if(t>=u-m){let w=u-t;for(g.y=r;w>0;){const y=t+w-1;g.height=typeof h=="number"?h:h(y),g.y-=g.height,w--}g.height+=1}else{const w=s>t?-1:1;if(typeof h=="number"){const y=t-s;g.y+=y*h}else for(let y=s;y!==t;y+=w)g.y+=h(y)*w;g.height=(typeof h=="number"?h:h(t))+1}return g}const bl=1<<21;function An(e,t){return(t+2)*bl+e}function Tc(e){return e%bl}function wl(e){return Math.floor(e/bl)-2}function yl(e){const t=Tc(e),n=wl(e);return[t,n]}class Fc{constructor(){Ye(this,"visibleWindow",{x:0,y:0,width:0,height:0});Ye(this,"freezeCols",0);Ye(this,"freezeRows",[]);Ye(this,"isInWindow",t=>{const n=Tc(t),r=wl(t),o=this.visibleWindow,i=n>=o.x&&n<=o.x+o.width||n<this.freezeCols,a=r>=o.y&&r<=o.y+o.height||this.freezeRows.includes(r);return i&&a})}setWindow(t,n,r){this.visibleWindow.x===t.x&&this.visibleWindow.y===t.y&&this.visibleWindow.width===t.width&&this.visibleWindow.height===t.height&&this.freezeCols===n&&po(this.freezeRows,r)||(this.visibleWindow=t,this.freezeCols=n,this.freezeRows=r,this.clearOutOfWindow())}}class Df extends Fc{constructor(){super(...arguments);Ye(this,"cache",new Map);Ye(this,"setValue",(n,r)=>{this.cache.set(An(n[0],n[1]),r)});Ye(this,"getValue",n=>this.cache.get(An(n[0],n[1])));Ye(this,"clearOutOfWindow",()=>{for(const[n]of this.cache.entries())this.isInWindow(n)||this.cache.delete(n)})}}class Xo{constructor(t=[]){Ye(this,"cells");this.cells=new Set(t.map(n=>An(n[0],n[1])))}add(t){this.cells.add(An(t[0],t[1]))}has(t){return t===void 0?!1:this.cells.has(An(t[0],t[1]))}remove(t){this.cells.delete(An(t[0],t[1]))}clear(){this.cells.clear()}get size(){return this.cells.size}hasHeader(){for(const t of this.cells)if(wl(t)<0)return!0;return!1}hasItemInRectangle(t){for(let n=t.y;n<t.y+t.height;n++)for(let r=t.x;r<t.x+t.width;r++)if(this.cells.has(An(r,n)))return!0;return!1}hasItemInRegion(t){for(const n of t)if(this.hasItemInRectangle(n))return!0;return!1}*values(){for(const t of this.cells)yield yl(t)}}function Of(e){return{"--gdg-accent-color":e.accentColor,"--gdg-accent-fg":e.accentFg,"--gdg-accent-light":e.accentLight,"--gdg-text-dark":e.textDark,"--gdg-text-medium":e.textMedium,"--gdg-text-light":e.textLight,"--gdg-text-bubble":e.textBubble,"--gdg-bg-icon-header":e.bgIconHeader,"--gdg-fg-icon-header":e.fgIconHeader,"--gdg-text-header":e.textHeader,"--gdg-text-group-header":e.textGroupHeader??e.textHeader,"--gdg-text-header-selected":e.textHeaderSelected,"--gdg-bg-cell":e.bgCell,"--gdg-bg-cell-medium":e.bgCellMedium,"--gdg-bg-header":e.bgHeader,"--gdg-bg-header-has-focus":e.bgHeaderHasFocus,"--gdg-bg-header-hovered":e.bgHeaderHovered,"--gdg-bg-bubble":e.bgBubble,"--gdg-bg-bubble-selected":e.bgBubbleSelected,"--gdg-bg-search-result":e.bgSearchResult,"--gdg-border-color":e.borderColor,"--gdg-horizontal-border-color":e.horizontalBorderColor??e.borderColor,"--gdg-drilldown-border":e.drilldownBorder,"--gdg-link-color":e.linkColor,"--gdg-cell-horizontal-padding":`${e.cellHorizontalPadding}px`,"--gdg-cell-vertical-padding":`${e.cellVerticalPadding}px`,"--gdg-header-font-style":e.headerFontStyle,"--gdg-base-font-style":e.baseFontStyle,"--gdg-marker-font-style":e.markerFontStyle,"--gdg-font-family":e.fontFamily,"--gdg-editor-font-size":e.editorFontSize,...e.resizeIndicatorColor===void 0?{}:{"--gdg-resize-indicator-color":e.resizeIndicatorColor},...e.headerBottomBorderColor===void 0?{}:{"--gdg-header-bottom-border-color":e.headerBottomBorderColor},...e.roundingRadius===void 0?{}:{"--gdg-rounding-radius":`${e.roundingRadius}px`}}}const Lc={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#353fb5",cellHorizontalPadding:8,cellVerticalPadding:3,headerIconSize:18,headerFontStyle:"600 13px",baseFontStyle:"13px",markerFontStyle:"9px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif",editorFontSize:"13px",lineHeight:1.4};function Hc(){return Lc}const Ac=It.createContext(Lc);function $c(){return It.useContext(Ac)}function sr(e,...t){const n={...e};for(const r of t)if(r!==void 0)for(const o in r)r.hasOwnProperty(o)&&(o==="bgCell"?n[o]=dn(r[o],n[o]):n[o]=r[o]);return(n.headerFontFull===void 0||e.fontFamily!==n.fontFamily||e.headerFontStyle!==n.headerFontStyle)&&(n.headerFontFull=`${n.headerFontStyle} ${n.fontFamily}`),(n.baseFontFull===void 0||e.fontFamily!==n.fontFamily||e.baseFontStyle!==n.baseFontStyle)&&(n.baseFontFull=`${n.baseFontStyle} ${n.fontFamily}`),(n.markerFontFull===void 0||e.fontFamily!==n.fontFamily||e.markerFontStyle!==n.markerFontStyle)&&(n.markerFontFull=`${n.markerFontStyle} ${n.fontFamily}`),n}const ol=150;function Pf(e,t,n,r){var i;const o=r(t);return((i=o==null?void 0:o.measure)==null?void 0:i.call(o,e,t,n))??ol}function zc(e,t,n,r,o,i,a,s,l){let c=0;const u=o===void 0?[]:o.map(m=>{const p=Pf(e,m[r],t,l);return c=Math.max(c,p),p});if(u.length>5&&s){c=0;let m=0;for(const h of u)m+=h;const p=m/u.length;for(let h=0;h<u.length;h++)u[h]>=p*2?u[h]=0:c=Math.max(c,u[h])}c=Math.max(c,e.measureText(n.title).width+t.cellHorizontalPadding*2+(n.icon===void 0?0:28));const f=Math.max(Math.ceil(i),Math.min(Math.floor(a),Math.ceil(c)));return{...n,width:f}}function Tf(e,t,n,r,o,i,a,s,l){const c=d.useRef(t),u=d.useRef(n),f=d.useRef(a);c.current=t,u.current=n,f.current=a;const[m,p]=d.useMemo(()=>{if(typeof window>"u")return[null,null];const y=document.createElement("canvas");return y.style.display="none",y.style.opacity="0",y.style.position="fixed",[y,y.getContext("2d",{alpha:!1})]},[]);d.useLayoutEffect(()=>(m&&document.documentElement.append(m),()=>{m==null||m.remove()}),[m]);const h=d.useRef({}),g=d.useRef(),[b,w]=d.useState();return d.useLayoutEffect(()=>{const y=u.current;if(y===void 0||e.every(Ri))return;let S=Math.max(1,10-Math.floor(e.length/1e4)),E=0;S<c.current&&S>1&&(S--,E=1);const D={x:0,y:0,width:e.length,height:Math.min(c.current,S)},R={x:0,y:c.current-1,width:e.length,height:1};(async()=>{const I=y(D,l.signal),x=E>0?y(R,l.signal):void 0;let L;typeof I=="object"?L=I:L=await as(I),x!==void 0&&(typeof x=="object"?L=[...L,...x]:L=[...L,...await as(x)]),g.current=e,w(L)})()},[l.signal,e]),d.useMemo(()=>{let S=e.every(Ri)?e:p===null?e.map(C=>Ri(C)?C:{...C,width:ol}):(p.font=f.current.baseFontFull,e.map((C,I)=>{if(Ri(C))return C;if(h.current[C.id]!==void 0)return{...C,width:h.current[C.id]};if(b===void 0||g.current!==e||C.id===void 0)return{...C,width:ol};const x=zc(p,a,C,I,b,o,i,!0,s);return h.current[C.id]=x.width,x})),E=0,D=0;const R=[];for(const[C,I]of S.entries())E+=I.width,I.grow!==void 0&&I.grow>0&&(D+=I.grow,R.push(C));if(E<r&&R.length>0){const C=[...S],I=r-E;let x=I;for(let L=0;L<R.length;L++){const H=R[L],P=(S[H].grow??0)/D,F=L===R.length-1?x:Math.min(x,Math.floor(I*P));C[H]={...S[H],growOffset:F,width:S[H].width+F},x-=F}S=C}return{sizedColumns:S,nonGrowWidth:E}},[r,e,p,b,a,o,i,s])}const pt='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',Ff=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${pt}<rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="${t}"/></svg>`},Lf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${pt}<rect x="2" y="2" width="16" height="16" rx="4" fill="${n}"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="${t}"/></svg>`},Hf=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="${t}"/>
  </svg>`},Af=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="${t}"/>
</svg>`},$f=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
    <path
        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"
        fill="${n}"
    />
    <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"
        fill="${t}"
    />
</svg>`},Vc=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="${t}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="${t}"/>
</svg>
  `},zf=e=>{const t=e.bgColor;return`${pt}
    <path stroke="${t}" stroke-width="2" d="M12 3v14"/>
    <path stroke="${t}" stroke-width="2" stroke-linecap="round" d="M10 4h4m-4 12h4"/>
    <path d="M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z" fill="${t}"/>
  </svg>
`},Vf=Vc,Bf=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="${t}"/>
</svg>`},Nf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${pt}
    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="${t}"/>
    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="${t}"/>
    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
  </svg>`},Wf=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="${t}"/>
</svg>`},_f=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${pt}
    <path fill="${t}" d="M3 3h14v14H3z"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="${n}"/>
  </svg>`},Gf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${pt}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="${t}"/>
  </svg>`},Uf=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="${t}"/>
</svg>`},Xf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${pt}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="${t}"/>
    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="${t}"/>
  </svg>`},Yf=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="${t}"/>
</svg>`},Kf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${pt}
    <rect x="2" y="8" width="10" height="8" rx="2" fill="${n}"/>
    <rect x="8" y="4" width="10" height="8" rx="2" fill="${n}"/>
    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="${t}"/>
  </svg>`},jf=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
  <path fill="${t}" d="M4 3h12v14H4z"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="${n}"/>
</svg>`},qf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${pt}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="${t}"/>
  </svg>`},Zf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${pt}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="${t}"/>
  </svg>`},Jf=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="${t}"/>
</svg>`},Qf=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="${t}"/>
  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="${t}"/>
</svg>`},eh=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${pt}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="${t}"/>
  </svg>`},th=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="${t}"/>
</svg>`},nh=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${pt}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="${t}"/>
  </svg>`},rh=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="${t}"/>
</svg>`},oh=e=>{const t=e.fgColor,n=e.bgColor;return`${pt}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="${t}"/>
</svg>`},ih=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>`},ah=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>
`},lh={headerRowID:Ff,headerNumber:Hf,headerCode:Lf,headerString:Af,headerBoolean:$f,headerAudioUri:Vf,headerVideoUri:Bf,headerEmoji:Nf,headerImage:Wf,headerUri:Vc,headerPhone:_f,headerMarkdown:Gf,headerDate:Uf,headerTime:Xf,headerEmail:Yf,headerReference:Kf,headerIfThenElse:jf,headerSingleValue:qf,headerLookup:Zf,headerTextTemplate:Jf,headerMath:Qf,headerRollup:eh,headerJoinStrings:th,headerSplitString:nh,headerGeoDistance:rh,headerArray:oh,rowOwnerOverlay:ih,protectedColumnOverlay:ah,renameIcon:zf};function sh(e,t){return e==="normal"?[t.bgIconHeader,t.fgIconHeader]:e==="selected"?["white",t.accentColor]:[t.accentColor,t.bgHeader]}class ch{constructor(t,n){Ye(this,"onSettled");Ye(this,"spriteMap",new Map);Ye(this,"headerIcons");Ye(this,"inFlight",0);this.onSettled=n,this.headerIcons=t??{}}drawSprite(t,n,r,o,i,a,s,l=1){const[c,u]=sh(n,s),f=a*Math.ceil(window.devicePixelRatio),m=`${c}_${u}_${f}_${t}`;let p=this.spriteMap.get(m);if(p===void 0){const h=this.headerIcons[t];if(h===void 0)return;p=document.createElement("canvas");const g=p.getContext("2d");if(g===null)return;const b=new Image;b.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(h({fgColor:u,bgColor:c}))}`,this.spriteMap.set(m,p);const w=b.decode();if(w===void 0)return;this.inFlight++,w.then(()=>{g.drawImage(b,0,0,f,f)}).finally(()=>{this.inFlight--,this.inFlight===0&&this.onSettled()})}else l<1&&(r.globalAlpha=l),r.drawImage(p,0,0,f,f,o,i,a,a),l<1&&(r.globalAlpha=1)}}function Bc(e){if(e.length===0)return;let t;for(const n of e)t=Math.min(t??n.y,n.y)}function na(e,t,n,r,o,i,a,s,l){s=s??t;let c=t,u=e;const f=r-i;let m=!1;for(;c<n&&u<f;){const p=o(u);if(c+p>s&&l(c,u,p,!1,a&&u===r-1)===!0){m=!0;break}c+=p,u++}if(!m){c=n;for(let p=0;p<i;p++){u=r-1-p;const h=o(u);c-=h,l(c,u,h,!0,a&&u===r-1)}}}function Mr(e,t,n,r,o,i){let a=0,s=0;const l=o+r;for(const c of e){const u=c.sticky?s:a+n;if(i(c,u,l,c.sticky?0:s,t)===!0)break;a+=c.width,s+=c.sticky?c.width:0}}function Nc(e,t,n,r,o){let i=0,a=0;for(let s=0;s<e.length;s++){const l=e[s];let c=s+1,u=l.width;for(l.sticky&&(a+=u);c<e.length&&Ko(e[c].group,l.group)&&e[c].sticky===e[s].sticky;){const g=e[c];u+=g.width,c++,s++,g.sticky&&(a+=g.width)}const f=l.sticky?0:n,m=i+f,p=l.sticky?0:Math.max(0,a-m),h=Math.min(u-p,t-(m+p));o([l.sourceIndex,e[c-1].sourceIndex],l.group??"",m+p,0,h,r),i+=u}}function Wc(e,t,n,r,o,i,a){var m;const[s,l]=e;let c,u;const f=((m=a.find(p=>!p.sticky))==null?void 0:m.sourceIndex)??0;if(l>f){const p=Math.max(s,f);let h=t,g=r;for(let b=i.sourceIndex-1;b>=p;b--)h-=a[b].width,g+=a[b].width;for(let b=i.sourceIndex+1;b<=l;b++)g+=a[b].width;u={x:h,y:n,width:g,height:o}}if(f>s){const p=Math.min(l,f-1);let h=t,g=r;for(let b=i.sourceIndex-1;b>=s;b--)h-=a[b].width,g+=a[b].width;for(let b=i.sourceIndex+1;b<=p;b++)g+=a[b].width;c={x:h,y:n,width:g,height:o}}return[c,u]}function uh(e,t,n,r){if(r==="any")return _c(e,{x:t,y:n,width:1,height:1});if(r==="vertical"&&(t=e.x),r==="horizontal"&&(n=e.y),Mc([t,n],e))return;const o=t-e.x,i=e.x+e.width-t,a=n-e.y+1,s=e.y+e.height-n,l=Math.min(r==="vertical"?Number.MAX_SAFE_INTEGER:o,r==="vertical"?Number.MAX_SAFE_INTEGER:i,r==="horizontal"?Number.MAX_SAFE_INTEGER:a,r==="horizontal"?Number.MAX_SAFE_INTEGER:s);return l===s?{x:e.x,y:e.y+e.height,width:e.width,height:n-e.y-e.height+1}:l===a?{x:e.x,y:n,width:e.width,height:e.y-n}:l===i?{x:e.x+e.width,y:e.y,width:t-e.x-e.width+1,height:e.height}:{x:t,y:e.y,width:e.x-t,height:e.height}}function jo(e,t,n,r,o,i,a,s){return e<=o+a&&o<=e+n&&t<=i+s&&i<=t+r}function Vr(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function _c(e,t){const n=Math.min(e.x,t.x),r=Math.min(e.y,t.y),o=Math.max(e.x+e.width,t.x+t.width)-n,i=Math.max(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:o,height:i}}function dh(e,t){return e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height}function fh(e,t,n,r){if(e.x>t||e.y>n||e.x<0&&e.y<0&&e.x+e.width>t&&e.y+e.height>n)return;if(e.x>=0&&e.y>=0&&e.x+e.width<=t&&e.y+e.height<=n)return e;const o=-4,i=-4,a=t+4,s=n+4,l=o-e.x,c=e.x+e.width-a,u=i-e.y,f=e.y+e.height-s,m=l>0?e.x+Math.floor(l/r)*r:e.x,p=c>0?e.x+e.width-Math.floor(c/r)*r:e.x+e.width,h=u>0?e.y+Math.floor(u/r)*r:e.y,g=f>0?e.y+e.height-Math.floor(f/r)*r:e.y+e.height;return{x:m,y:h,width:p-m,height:g-h}}function hh(e,t,n,r,o){const[i,a,s,l]=t,[c,u,f,m]=o,{x:p,y:h,width:g,height:b}=e,w=[];if(g<=0||b<=0)return w;const y=p+g,S=h+b,E=p<i,D=h<a,R=p+g>s,C=h+b>l,I=p>=i&&p<s||y>i&&y<=s||p<i&&y>s,x=h>=a&&h<l||S>a&&S<=l||h<a&&S>l;if(I&&x){const H=Math.max(p,i),P=Math.max(h,a),F=Math.min(y,s),O=Math.min(S,l);w.push({rect:{x:H,y:P,width:F-H,height:O-P},clip:{x:c,y:u,width:f-c+1,height:m-u+1}})}if(E&&D){const H=p,P=h,F=Math.min(y,i),O=Math.min(S,a);w.push({rect:{x:H,y:P,width:F-H,height:O-P},clip:{x:0,y:0,width:c+1,height:u+1}})}if(D&&I){const H=Math.max(p,i),P=h,F=Math.min(y,s),O=Math.min(S,a);w.push({rect:{x:H,y:P,width:F-H,height:O-P},clip:{x:c,y:0,width:f-c+1,height:u+1}})}if(D&&R){const H=Math.max(p,s),P=h,F=y,O=Math.min(S,a);w.push({rect:{x:H,y:P,width:F-H,height:O-P},clip:{x:f,y:0,width:n-f+1,height:u+1}})}if(E&&x){const H=p,P=Math.max(h,a),F=Math.min(y,i),O=Math.min(S,l);w.push({rect:{x:H,y:P,width:F-H,height:O-P},clip:{x:0,y:u,width:c+1,height:m-u+1}})}if(R&&x){const H=Math.max(p,s),P=Math.max(h,a),F=y,O=Math.min(S,l);w.push({rect:{x:H,y:P,width:F-H,height:O-P},clip:{x:f,y:u,width:n-f+1,height:m-u+1}})}if(E&&C){const H=p,P=Math.max(h,l),F=Math.min(y,i),O=S;w.push({rect:{x:H,y:P,width:F-H,height:O-P},clip:{x:0,y:m,width:c+1,height:r-m+1}})}if(C&&I){const H=Math.max(p,i),P=Math.max(h,l),F=Math.min(y,s),O=S;w.push({rect:{x:H,y:P,width:F-H,height:O-P},clip:{x:c,y:m,width:f-c+1,height:r-m+1}})}if(R&&C){const H=Math.max(p,s),P=Math.max(h,l),F=y,O=S;w.push({rect:{x:H,y:P,width:F-H,height:O-P},clip:{x:f,y:m,width:n-f+1,height:r-m+1}})}return w}const gh={kind:X.Loading,allowOverlay:!1};function ms(e,t,n,r,o,i,a,s,l,c,u,f,m,p,h,g,b,w,y,S,E,D,R,C,I,x,L,H,P,F,O,q,j,te,pe){let me=(S==null?void 0:S.size)??Number.MAX_SAFE_INTEGER;const J=performance.now();let Y=F.baseFontFull;e.font=Y;const ne={ctx:e},Z=[0,0],ce=b>0?_r(l,b,c):0;let ue,G;const ve=Bc(y);return Mr(t,s,i,a,o,(he,Ve,tt,ht,at)=>{const ze=Math.max(0,ht-Ve),Ke=Ve+ze,ke=o+1,Mt=he.width-ze,vt=r-o-1;if(y.length>0){let je=!1;for(let _e=0;_e<y.length;_e++){const Ge=y[_e];if(jo(Ke,ke,Mt,vt,Ge.x,Ge.y,Ge.width,Ge.height)){je=!0;break}}if(!je)return}const nt=()=>{e.save(),e.beginPath(),e.rect(Ke,ke,Mt,vt),e.clip()},Q=E.columns.hasIndex(he.sourceIndex),Ue=f(he.group??"").overrideTheme,Fe=he.themeOverride===void 0&&Ue===void 0?F:sr(F,Ue,he.themeOverride),Le=Fe.baseFontFull;Le!==Y&&(Y=Le,e.font=Le),nt();let be;return na(at,tt,r,l,c,b,w,ve,(je,_e,Ge,ge,Re)=>{var Bn,wn,yn;if(_e<0||(Z[0]=he.sourceIndex,Z[1]=_e,S!==void 0&&!S.has(Z)))return;if(y.length>0){let Be=!1;for(let Lt=0;Lt<y.length;Lt++){const wt=y[Lt];if(jo(Ve,je,he.width,Ge,wt.x,wt.y,wt.width,wt.height)){Be=!0;break}}if(!Be)return}const lt=E.rows.hasIndex(_e),qe=p.hasIndex(_e),Je=_e<l?u(Z):gh;let bt=Ve,rt=he.width,Ae=!1,Tt=!1;if(Je.span!==void 0){const[Be,Lt]=Je.span,wt=`${_e},${Be},${Lt},${he.sticky}`;if(G===void 0&&(G=new Set),G.has(wt)){me--;return}else{const Jt=Wc(Je.span,Ve,je,he.width,Ge,he,n),Wt=he.sticky?Jt[0]:Jt[1];if(!he.sticky&&Jt[0]!==void 0&&(Tt=!0),Wt!==void 0){bt=Wt.x,rt=Wt.width,G.add(wt),e.restore(),be=void 0,e.save(),e.beginPath();const on=Math.max(0,ht-Wt.x);e.rect(Wt.x+on,je,Wt.width-on,Ge),ue===void 0&&(ue=[]),ue.push({x:Wt.x+on,y:je,width:Wt.width-on,height:Ge}),e.clip(),Ae=!0}}}const Xt=m==null?void 0:m(_e),Et=Re&&((Bn=he.trailingRowOptions)==null?void 0:Bn.themeOverride)!==void 0?(wn=he.trailingRowOptions)==null?void 0:wn.themeOverride:void 0,Ft=Je.themeOverride===void 0&&Xt===void 0&&Et===void 0?Fe:sr(Fe,Xt,Et,Je.themeOverride);e.beginPath();const qt=pf(Z,Je,E);let St=vf(Z,Je,E,g);const Vn=Je.span!==void 0&&E.columns.some(Be=>Je.span!==void 0&&Be>=Je.span[0]&&Be<=Je.span[1]);qt&&!h&&g?St=0:qt&&g&&(St=Math.max(St,1)),Vn&&St++,qt||(lt&&St++,Q&&!Re&&St++);const ur=Je.kind===X.Protected?Ft.bgCellMedium:Ft.bgCell;let gt;if((ge||ur!==F.bgCell)&&(gt=dn(ur,gt)),St>0||qe){qe&&(gt=dn(Ft.bgHeader,gt));for(let Be=0;Be<St;Be++)gt=dn(Ft.accentLight,gt)}else if(D!==void 0){for(const Be of D)if(Be[0]===he.sourceIndex&&Be[1]===_e){gt=dn(Ft.bgSearchResult,gt);break}}if(R!==void 0)for(let Be=0;Be<R.length;Be++){const Lt=R[Be],wt=Lt.range;Lt.style!=="solid-outline"&&wt.x<=he.sourceIndex&&he.sourceIndex<wt.x+wt.width&&wt.y<=_e&&_e<wt.y+wt.height&&(gt=dn(Lt.color,gt))}let er=!1;if(S!==void 0){const Be=je+1,wt=(ge?Be+Ge-1:Math.min(Be+Ge-1,r-ce))-Be;(wt!==Ge-1||bt+1<=ht)&&(er=!0,e.save(),e.beginPath(),e.rect(bt+1,Be,rt-1,wt),e.clip()),gt=gt===void 0?Ft.bgCell:dn(gt,Ft.bgCell)}const Dn=he.sourceIndex===n.length-1,Se=_e===l-1;gt!==void 0&&(e.fillStyle=gt,be!==void 0&&(be.fillStyle=gt),S!==void 0?e.fillRect(bt+1,je+1,rt-(Dn?2:1),Ge-(Se?2:1)):e.fillRect(bt,je,rt,Ge)),Je.style==="faded"&&(e.globalAlpha=.6);let xt;for(let Be=0;Be<x.length;Be++){const Lt=x[Be];if(Lt.item[0]===he.sourceIndex&&Lt.item[1]===_e){xt=Lt;break}}if(rt>pe&&!Tt){const Be=Ft.baseFontFull;Be!==Y&&(e.font=Be,Y=Be),be=Gc(e,Je,he.sourceIndex,_e,Dn,Se,bt,je,rt,Ge,St>0,Ft,gt??Ft.bgCell,C,I,(xt==null?void 0:xt.hoverAmount)??0,L,P,J,H,be,O,q,j,te)}return er&&e.restore(),Je.style==="faded"&&(e.globalAlpha=1),me--,Ae&&(e.restore(),(yn=be==null?void 0:be.deprep)==null||yn.call(be,ne),be=void 0,nt(),Y=Le,e.font=Le),me<=0}),e.restore(),me<=0}),ue}const Ho=[0,0],Ao={x:0,y:0,width:0,height:0},$a=[void 0,()=>{}];let il=!1;function mh(){il=!0}function Gc(e,t,n,r,o,i,a,s,l,c,u,f,m,p,h,g,b,w,y,S,E,D,R,C,I){var q,j;let x,L;b!==void 0&&b[0][0]===n&&b[0][1]===r&&(x=b[1][0],L=b[1][1]);let H;Ho[0]=n,Ho[1]=r,Ao.x=a,Ao.y=s,Ao.width=l,Ao.height=c,$a[0]=R.getValue(Ho),$a[1]=te=>R.setValue(Ho,te),il=!1;const P={ctx:e,theme:f,col:n,row:r,cell:t,rect:Ao,highlighted:u,cellFillColor:m,hoverAmount:g,frameTime:y,hoverX:x,drawState:$a,hoverY:L,imageLoader:p,spriteManager:h,hyperWrapping:w,overrideCursor:x!==void 0?I:void 0,requestAnimationFrame:mh},F=xf(P,t.lastUpdated,y,E,o,i),O=C(t);if(O!==void 0){(E==null?void 0:E.renderer)!==O&&((q=E==null?void 0:E.deprep)==null||q.call(E,P),E=void 0);const te=(j=O.drawPrep)==null?void 0:j.call(O,P,E);S!==void 0&&!so(P.cell)?S(P,()=>O.draw(P,t)):O.draw(P,t),H=te===void 0?void 0:{deprep:te==null?void 0:te.deprep,fillStyle:te==null?void 0:te.fillStyle,font:te==null?void 0:te.font,renderer:O}}return(F||il)&&(D==null||D(Ho)),H}function Cl(e,t,n,r,o,i,a,s,l=-20,c=-20,u=32,f="center",m="square"){const p=Math.floor(o+a/2),h=m==="circle"?1e4:t.roundingRadius??4;let g=Sc(u,a,t.cellVerticalPadding),b=g/2;const w=Cc(f,r,i,t.cellHorizontalPadding,g),y=yc(w,p,g),S=xc(r+l,o+c,y);switch(n){case!0:{e.beginPath(),$n(e,w-g/2,p-g/2,g,g,h),m==="circle"&&(b*=.8,g*=.8),e.fillStyle=s?t.accentColor:t.textMedium,e.fill(),e.beginPath(),e.moveTo(w-b+g/4.23,p-b+g/1.97),e.lineTo(w-b+g/2.42,p-b+g/1.44),e.lineTo(w-b+g/1.29,p-b+g/3.25),e.strokeStyle=t.bgCell,e.lineJoin="round",e.lineCap="round",e.lineWidth=1.9,e.stroke();break}case Ni:case!1:{e.beginPath(),$n(e,w-g/2+.5,p-g/2+.5,g-1,g-1,h),e.lineWidth=1,e.strokeStyle=S?t.textDark:t.textMedium,e.stroke();break}case gl:{e.beginPath(),$n(e,w-g/2,p-g/2,g,g,h),e.fillStyle=S?t.textMedium:t.textLight,e.fill(),m==="circle"&&(b*=.8,g*=.8),e.beginPath(),e.moveTo(w-g/3,p),e.lineTo(w+g/3,p),e.strokeStyle=t.bgCell,e.lineCap="round",e.lineWidth=1.9,e.stroke();break}default:Yo()}}function ph(e,t,n,r,o,i,a,s,l,c,u,f,m,p,h,g,b,w,y){var x,L,H,P;const S=a+s;if(S<=0)return;e.fillStyle=f.bgHeader,e.fillRect(0,0,o,S);const E=(x=r==null?void 0:r[0])==null?void 0:x[0],D=(L=r==null?void 0:r[0])==null?void 0:L[1],R=(H=r==null?void 0:r[1])==null?void 0:H[0],C=(P=r==null?void 0:r[1])==null?void 0:P[1],I=f.headerFontFull;e.font=I,Mr(t,0,i,0,S,(F,O,q,j)=>{var he;if(b!==void 0&&!b.has([F.sourceIndex,-1]))return;const te=Math.max(0,j-O);e.save(),e.beginPath(),e.rect(O+te,s,F.width-te,a),e.clip();const pe=g(F.group??"").overrideTheme,me=F.themeOverride===void 0&&pe===void 0?f:sr(f,pe,F.themeOverride);me.bgHeader!==f.bgHeader&&(e.fillStyle=me.bgHeader,e.fill()),me!==f&&(e.font=me.baseFontFull);const J=u.columns.hasIndex(F.sourceIndex),Y=l!==void 0||c,ne=!Y&&D===-1&&E===F.sourceIndex,Z=Y?0:((he=p.find(Ve=>Ve.item[0]===F.sourceIndex&&Ve.item[1]===-1))==null?void 0:he.hoverAmount)??0,ce=(u==null?void 0:u.current)!==void 0&&u.current.cell[0]===F.sourceIndex,ue=J?me.accentColor:ce?me.bgHeaderHasFocus:me.bgHeader,G=n?s:0,ve=F.sourceIndex===0?0:1;J?(e.fillStyle=ue,e.fillRect(O+ve,G,F.width-ve,a)):(ce||Z>0)&&(e.beginPath(),e.rect(O+ve,G,F.width-ve,a),ce&&(e.fillStyle=me.bgHeaderHasFocus,e.fill()),Z>0&&(e.globalAlpha=Z,e.fillStyle=me.bgHeaderHovered,e.fill(),e.globalAlpha=1)),Yc(e,O,G,F.width,a,F,J,me,ne,ne?R:void 0,ne?C:void 0,ce,Z,m,w,y),e.restore()}),n&&vh(e,t,o,i,s,r,f,m,p,h,g,b)}function vh(e,t,n,r,o,i,a,s,l,c,u,f){const[p,h]=(i==null?void 0:i[0])??[];let g=0;Nc(t,n,r,o,(b,w,y,S,E,D)=>{if(f!==void 0&&!f.hasItemInRectangle({x:b[0],y:-2,width:b[1]-b[0]+1,height:1}))return;e.save(),e.beginPath(),e.rect(y,S,E,D),e.clip();const R=u(w),C=(R==null?void 0:R.overrideTheme)===void 0?a:sr(a,R.overrideTheme),I=h===-2&&p!==void 0&&p>=b[0]&&p<=b[1],x=I?C.bgHeaderHovered:C.bgHeader;if(x!==a.bgHeader&&(e.fillStyle=x,e.fill()),e.fillStyle=C.textGroupHeader??C.textHeader,R!==void 0){let L=y;if(R.icon!==void 0&&(s.drawSprite(R.icon,"normal",e,L+8,(o-20)/2,20,C),L+=26),e.fillText(R.name,L+8,o/2+Kt(e,a.headerFontFull)),R.actions!==void 0&&I){const H=Uc({x:y,y:S,width:E,height:D},R.actions);e.beginPath();const P=H[0].x-10,F=y+E-P;e.rect(P,0,F,o);const O=e.createLinearGradient(P,0,P+F,0),q=Nr(x,0);O.addColorStop(0,q),O.addColorStop(10/F,x),O.addColorStop(1,x),e.fillStyle=O,e.fill(),e.globalAlpha=.6;const[j,te]=(i==null?void 0:i[1])??[-1,-1];for(let pe=0;pe<R.actions.length;pe++){const me=R.actions[pe],J=H[pe],Y=Vr(J,j+y,te);Y&&(e.globalAlpha=1),s.drawSprite(me.icon,"normal",e,J.x+J.width/2-10,J.y+J.height/2-10,20,C),Y&&(e.globalAlpha=.6)}e.globalAlpha=1}}y!==0&&c(b[0])&&(e.beginPath(),e.moveTo(y+.5,0),e.lineTo(y+.5,o),e.strokeStyle=a.borderColor,e.lineWidth=1,e.stroke()),e.restore(),g=y+E}),e.beginPath(),e.moveTo(g+.5,0),e.lineTo(g+.5,o),e.moveTo(0,o+.5),e.lineTo(n,o+.5),e.strokeStyle=a.borderColor,e.lineWidth=1,e.stroke()}const oo=30;function bh(e,t,n,r,o){return o?{x:e,y:t,width:oo,height:Math.min(oo,r)}:{x:e+n-oo,y:Math.max(t,t+r/2-oo/2),width:oo,height:Math.min(oo,r)}}function Uc(e,t){const n=[];let r=e.x+e.width-26*t.length;const o=e.y+e.height/2-13,i=26,a=26;for(let s=0;s<t.length;s++)n.push({x:r,y:o,width:a,height:i}),r+=26;return n}function $o(e,t,n){return!n||e===void 0||(e.x=t-(e.x-t)-e.width),e}function Xc(e,t,n,r,o,i,a,s){var w;const l=a.cellHorizontalPadding,c=a.headerIconSize,u=bh(n,r,o,i,!1);let f=n+l;const m=t.icon===void 0?void 0:{x:f,y:r+(i-c)/2,width:c,height:c},p=m===void 0||t.overlayIcon===void 0?void 0:{x:m.x+9,y:m.y+6,width:18,height:18};m!==void 0&&(f+=Math.ceil(c*1.3));const h={x:f,y:r,width:o-f,height:i};let g;if(t.indicatorIcon!==void 0){const y=e===void 0?((w=Dc(t.title,a.headerFontFull))==null?void 0:w.width)??0:fn(t.title,e,a.headerFontFull).width;h.width=y,f+=y+l,g={x:f,y:r+(i-c)/2,width:c,height:c}}const b=n+o/2;return{menuBounds:$o(u,b,s),iconBounds:$o(m,b,s),iconOverlayBounds:$o(p,b,s),textBounds:$o(h,b,s),indicatorIconBounds:$o(g,b,s)}}function ps(e,t,n,r,o,i,a,s,l,c,u,f,m,p,h,g){if(i.rowMarker!==void 0&&i.headerRowMarkerDisabled!==!0){const y=i.rowMarkerChecked;y!==!0&&i.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=f);const S=i.headerRowMarkerTheme!==void 0?sr(s,i.headerRowMarkerTheme):s;Cl(e,S,y,t,n,r,o,!1,void 0,void 0,18,"center",i.rowMarker),y!==!0&&i.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=1);return}const b=a?s.textHeaderSelected:s.textHeader,w=i.hasMenu===!0&&(l||p&&a)&&g.menuBounds!==void 0;if(i.icon!==void 0&&g.iconBounds!==void 0){let y=a?"selected":"normal";i.style==="highlight"&&(y=a?"selected":"special"),m.drawSprite(i.icon,y,e,g.iconBounds.x,g.iconBounds.y,g.iconBounds.width,s),i.overlayIcon!==void 0&&g.iconOverlayBounds!==void 0&&m.drawSprite(i.overlayIcon,a?"selected":"special",e,g.iconOverlayBounds.x,g.iconOverlayBounds.y,g.iconOverlayBounds.width,s)}if(w&&r>35){const S=h?35:r-35,E=h?35*.7:r-35*.7,D=S/r,R=E/r,C=e.createLinearGradient(t,0,t+r,0),I=Nr(b,0);C.addColorStop(h?1:0,b),C.addColorStop(D,b),C.addColorStop(R,I),C.addColorStop(h?0:1,I),e.fillStyle=C}else e.fillStyle=b;if(h&&(e.textAlign="right"),g.textBounds!==void 0&&e.fillText(i.title,h?g.textBounds.x+g.textBounds.width:g.textBounds.x,n+o/2+Kt(e,s.headerFontFull)),h&&(e.textAlign="left"),i.indicatorIcon!==void 0&&g.indicatorIconBounds!==void 0&&(!w||!jo(g.menuBounds.x,g.menuBounds.y,g.menuBounds.width,g.menuBounds.height,g.indicatorIconBounds.x,g.indicatorIconBounds.y,g.indicatorIconBounds.width,g.indicatorIconBounds.height))){let y=a?"selected":"normal";i.style==="highlight"&&(y=a?"selected":"special"),m.drawSprite(i.indicatorIcon,y,e,g.indicatorIconBounds.x,g.indicatorIconBounds.y,g.indicatorIconBounds.width,s)}if(w&&g.menuBounds!==void 0){const y=g.menuBounds,S=c!==void 0&&u!==void 0&&Vr(y,c+t,u+n);if(S||(e.globalAlpha=.7),i.menuIcon===void 0||i.menuIcon===Wi.Triangle){e.beginPath();const E=y.x+y.width/2-5.5,D=y.y+y.height/2-3;Ef(e,[{x:E,y:D},{x:E+11,y:D},{x:E+5.5,y:D+6}],1),e.fillStyle=b,e.fill()}else if(i.menuIcon===Wi.Dots){e.beginPath();const E=y.x+y.width/2,D=y.y+y.height/2;If(e,E,D),e.fillStyle=b,e.fill()}else{const E=y.x+(y.width-s.headerIconSize)/2,D=y.y+(y.height-s.headerIconSize)/2;m.drawSprite(i.menuIcon,"normal",e,E,D,s.headerIconSize,s)}S||(e.globalAlpha=1)}}function Yc(e,t,n,r,o,i,a,s,l,c,u,f,m,p,h,g){const b=vl(i.title)==="rtl",w=Xc(e,i,t,n,r,o,s,b);h!==void 0?h({ctx:e,theme:s,rect:{x:t,y:n,width:r,height:o},column:i,columnIndex:i.sourceIndex,isSelected:a,hoverAmount:m,isHovered:l,hasSelectedCell:f,spriteManager:p,menuBounds:(w==null?void 0:w.menuBounds)??{x:0,y:0,height:0,width:0}},()=>ps(e,t,n,r,o,i,a,s,l,c,u,m,p,g,b,w)):ps(e,t,n,r,o,i,a,s,l,c,u,m,p,g,b,w)}function wh(e,t,n,r,o,i,a,s,l,c,u,f,m,p,h,g,b,w,y){if(w!==void 0||t[t.length-1]!==n[t.length-1])return;const S=Bc(b);Mr(t,l,a,s,i,(E,D,R,C,I)=>{if(E!==t[t.length-1])return;D+=E.width;const x=Math.max(D,C);x>r||(e.save(),e.beginPath(),e.rect(x,i+1,1e4,o-i-1),e.clip(),na(I,R,o,c,u,h,g,S,(L,H,P,F)=>{if(!F&&b.length>0&&!b.some(pe=>jo(D,L,1e4,P,pe.x,pe.y,pe.width,pe.height)))return;const O=m.hasIndex(H),q=p.hasIndex(H);e.beginPath();const j=f==null?void 0:f(H),te=j===void 0?y:sr(y,j);te.bgCell!==y.bgCell&&(e.fillStyle=te.bgCell,e.fillRect(D,L,1e4,P)),q&&(e.fillStyle=te.bgHeader,e.fillRect(D,L,1e4,P)),O&&(e.fillStyle=te.accentLight,e.fillRect(D,L,1e4,P))}),e.restore())})}function yh(e,t,n,r,o,i,a,s,l){let c=!1;for(const h of t)if(!h.sticky){c=a(h.sourceIndex);break}const u=l.horizontalBorderColor??l.borderColor,f=l.borderColor,m=c?vo(t):0;let p;if(m!==0&&(p=ds(f,l.bgCell),e.beginPath(),e.moveTo(m+.5,0),e.lineTo(m+.5,r),e.strokeStyle=p,e.stroke()),o>0){const h=f===u&&p!==void 0?p:ds(u,l.bgCell),g=_r(i,o,s);e.beginPath(),e.moveTo(0,r-g+.5),e.lineTo(n,r-g+.5),e.strokeStyle=h,e.stroke()}}const Kc=(e,t,n)=>{let r=0,o=t,i=0,a=n;if(e!==void 0&&e.length>0){r=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(const s of e)r=Math.min(r,s.x-1),o=Math.max(o,s.x+s.width+1),i=Math.min(i,s.y-1),a=Math.max(a,s.y+s.height+1)}return{minX:r,maxX:o,minY:i,maxY:a}};function Ch(e,t,n,r,o,i,a,s,l,c,u,f,m,p,h){var P;const g=h.bgCell,{minX:b,maxX:w,minY:y,maxY:S}=Kc(s,i,a),E=[],D=a-_r(p,m,c);let R=l,C=n,I=0;for(;R+o<D;){const F=R+o,O=c(C);if(F>=y&&F<=S-1){const q=u==null?void 0:u(C),j=q==null?void 0:q.bgCell;j!==void 0&&j!==g&&C>=p-m&&E.push({x:b,y:F,w:w-b,h:O,color:j})}R+=O,C<p-m&&(I=R),C++}let x=0;const L=Math.min(D,S)-I;if(L>0)for(let F=0;F<t.length;F++){const O=t[F];if(O.width===0)continue;const q=O.sticky?x:x+r,j=(P=O.themeOverride)==null?void 0:P.bgCell;j!==void 0&&j!==g&&q>=b&&q<=w&&f(F+1)&&E.push({x:q,y:I,w:O.width,h:L,color:j}),x+=O.width}if(E.length===0)return;let H;e.beginPath();for(let F=E.length-1;F>=0;F--){const O=E[F];H===void 0?H=O.color:O.color!==H&&(e.fillStyle=H,e.fill(),e.beginPath(),H=O.color),e.rect(O.x,O.y,O.w,O.h)}H!==void 0&&(e.fillStyle=H,e.fill()),e.beginPath()}function vs(e,t,n,r,o,i,a,s,l,c,u,f,m,p,h,g,b,w=!1){if(l!==void 0){e.beginPath(),e.save(),e.rect(0,0,i,a);for(const P of l)e.rect(P.x+1,P.y+1,P.width-1,P.height-1);e.clip("evenodd")}const y=b.horizontalBorderColor??b.borderColor,S=b.borderColor,{minX:E,maxX:D,minY:R,maxY:C}=Kc(s,i,a),I=[];e.beginPath();let x=.5;for(let P=0;P<t.length;P++){const F=t[P];if(F.width===0)continue;x+=F.width;const O=F.sticky?x:x+r;O>=E&&O<=D&&p(P+1)&&I.push({x1:O,y1:Math.max(c,R),x2:O,y2:Math.min(a,C),color:S})}let L=a+.5;for(let P=g-h;P<g;P++){const F=f(P);L-=F,I.push({x1:E,y1:L,x2:D,y2:L,color:y})}if(w!==!0){let P=u+.5,F=n;const O=L;for(;P+o<O;){const q=P+o;if(q>=R&&q<=C-1){const j=m==null?void 0:m(F);I.push({x1:E,y1:q,x2:D,y2:q,color:(j==null?void 0:j.horizontalBorderColor)??(j==null?void 0:j.borderColor)??y})}P+=f(F),F++}}const H=Nd(I,P=>P.color);for(const P of Object.keys(H)){e.strokeStyle=P;for(const F of H[P])e.moveTo(F.x1,F.y1),e.lineTo(F.x2,F.y2);e.stroke(),e.beginPath()}l!==void 0&&e.restore()}function Sh(e,t,n,r,o,i,a,s,l,c,u,f,m,p,h,g,b,w,y){const S=[];e.imageSmoothingEnabled=!1;const E=Math.min(o.cellYOffset,a),D=Math.max(o.cellYOffset,a);let R=0;if(typeof w=="number")R+=(D-E)*w;else for(let O=E;O<D;O++)R+=w(O);a>o.cellYOffset&&(R=-R),R+=l-o.translateY;const C=Math.min(o.cellXOffset,i),I=Math.max(o.cellXOffset,i);let x=0;for(let O=C;O<I;O++)x+=g[O].width;i>o.cellXOffset&&(x=-x),x+=s-o.translateX;const L=vo(b);if(x!==0&&R!==0)return{regions:[]};const H=c>0?_r(m,c,w):0,P=u-L-Math.abs(x),F=f-p-H-Math.abs(R)-1;if(P>150&&F>150){const O={sx:0,sy:0,sw:u*h,sh:f*h,dx:0,dy:0,dw:u*h,dh:f*h};if(R>0?(O.sy=(p+1)*h,O.sh=F*h,O.dy=(R+p+1)*h,O.dh=F*h,S.push({x:0,y:p,width:u,height:R+1})):R<0&&(O.sy=(-R+p+1)*h,O.sh=F*h,O.dy=(p+1)*h,O.dh=F*h,S.push({x:0,y:f+R-H,width:u,height:-R+H})),x>0?(O.sx=L*h,O.sw=P*h,O.dx=(x+L)*h,O.dw=P*h,S.push({x:L-1,y:0,width:x+2,height:f})):x<0&&(O.sx=(L-x)*h,O.sw=P*h,O.dx=L*h,O.dw=P*h,S.push({x:u+x,y:0,width:-x,height:f})),e.setTransform(1,0,0,1,0,0),y){if(L>0&&x!==0&&R===0&&(r===void 0||(n==null?void 0:n[1])!==!1)){const q=L*h,j=f*h;e.drawImage(t,0,0,q,j,0,0,q,j)}if(H>0&&x===0&&R!==0&&(r===void 0||(n==null?void 0:n[0])!==!1)){const q=(f-H)*h,j=u*h,te=H*h;e.drawImage(t,0,q,j,te,0,q,j,te)}}e.drawImage(t,O.sx,O.sy,O.sw,O.sh,O.dx,O.dy,O.dw,O.dh),e.scale(h,h)}return e.imageSmoothingEnabled=!0,{regions:S}}function xh(e,t,n,r,o,i,a,s,l,c){const u=[];return t!==e.cellXOffset||n!==e.cellYOffset||r!==e.translateX||o!==e.translateY||Mr(l,n,r,o,s,(f,m,p,h)=>{if(f.sourceIndex===c){const g=Math.max(m,h)+1;return u.push({x:g,y:0,width:i-g,height:a}),!0}}),u}function kh(e,t){if(t===void 0||e.width!==t.width||e.height!==t.height||e.theme!==t.theme||e.headerHeight!==t.headerHeight||e.rowHeight!==t.rowHeight||e.rows!==t.rows||e.freezeColumns!==t.freezeColumns||e.getRowThemeOverride!==t.getRowThemeOverride||e.isFocused!==t.isFocused||e.isResizing!==t.isResizing||e.verticalBorder!==t.verticalBorder||e.getCellContent!==t.getCellContent||e.highlightRegions!==t.highlightRegions||e.selection!==t.selection||e.dragAndDropState!==t.dragAndDropState||e.prelightCells!==t.prelightCells||e.touchMode!==t.touchMode||e.maxScaleFactor!==t.maxScaleFactor)return!1;if(e.mappedColumns!==t.mappedColumns){if(e.mappedColumns.length>100||e.mappedColumns.length!==t.mappedColumns.length)return!1;let n;for(let r=0;r<e.mappedColumns.length;r++){const o=e.mappedColumns[r],i=t.mappedColumns[r];if(po(o,i))continue;if(n!==void 0||o.width===i.width)return!1;const{width:a,...s}=o,{width:l,...c}=i;if(!po(s,c))return!1;n=r}return n===void 0?!0:n}return!0}function bs(e,t,n,r,o,i,a,s,l,c,u,f,m,p,h,g){const b=h==null?void 0:h.filter(C=>C.style!=="no-outline");if(b===void 0||b.length===0)return;const w=vo(s),y=_r(p,m,f),S=[l,0,s.length,p-m],E=[w,0,t,n-y],D=b.map(C=>{const I=C.range,x=C.style??"dashed";return hh(I,S,t,n,E).map(L=>{const H=L.rect,P=rl(H.x,H.y,t,n,u,c+u,r,o,i,a,p,l,m,s,f),F=H.width===1&&H.height===1?P:rl(H.x+H.width-1,H.y+H.height-1,t,n,u,c+u,r,o,i,a,p,l,m,s,f);return H.x+H.width>=s.length&&(F.width-=1),H.y+H.height>=p&&(F.height-=1),{color:C.color,style:x,clip:L.clip,rect:fh({x:P.x,y:P.y,width:F.x+F.width-P.x,height:F.y+F.height-P.y},t,n,8)}})}),R=()=>{e.lineWidth=1;let C=!1;for(const I of D)for(const x of I)if((x==null?void 0:x.rect)!==void 0&&jo(0,0,t,n,x.rect.x,x.rect.y,x.rect.width,x.rect.height)){const L=C,H=!dh(x.clip,x.rect);H&&(e.save(),e.rect(x.clip.x,x.clip.y,x.clip.width,x.clip.height),e.clip()),x.style==="dashed"&&!C?(e.setLineDash([5,3]),C=!0):(x.style==="solid"||x.style==="solid-outline")&&C&&(e.setLineDash([]),C=!1),e.strokeStyle=x.style==="solid-outline"?dn(dn(x.color,g.borderColor),g.bgCell):Nr(x.color,1),e.strokeRect(x.rect.x+.5,x.rect.y+.5,x.rect.width-1,x.rect.height-1),H&&(e.restore(),C=L)}C&&e.setLineDash([])};return R(),R}function ws(e,t,n,r,o){e.beginPath(),e.moveTo(t,n),e.lineTo(t,r),e.lineWidth=2,e.strokeStyle=o,e.stroke(),e.globalAlpha=1}function za(e,t,n,r,o,i,a,s,l,c,u,f,m,p,h,g,b){if(u.current===void 0)return;const w=u.current.range,y=u.current.cell,S=[w.x+w.width-1,w.y+w.height-1];if(y[1]>=b&&S[1]>=b||!a.some(O=>O.sourceIndex===y[0]||O.sourceIndex===S[0]))return;const[D,R]=u.current.cell,C=m(u.current.cell),I=C.span??[D,D],x=R>=b-p,L=p>0&&!x?_r(b,p,f)-1:0,H=S[1];let P;if(Mr(a,r,o,i,c,(O,q,j,te,pe)=>{if(O.sticky&&D>O.sourceIndex)return;const me=O.sourceIndex<I[0],J=O.sourceIndex>I[1],Y=O.sourceIndex===S[0];if(!(!Y&&(me||J)))return na(pe,j,n,b,f,p,h,void 0,(ne,Z,ce)=>{if(Z!==R&&Z!==H)return;let ue=q,G=O.width;if(C.span!==void 0){const he=Wc(C.span,q,ne,O.width,ce,O,s),Ve=O.sticky?he[0]:he[1];Ve!==void 0&&(ue=Ve.x,G=Ve.width)}return Z===H&&Y&&g&&(P=()=>{var he;te>ue&&!O.sticky&&(e.beginPath(),e.rect(te,0,t-te,n),e.clip()),e.beginPath(),e.rect(ue+G-4,ne+ce-4,4,4),e.fillStyle=((he=O.themeOverride)==null?void 0:he.accentColor)??l.accentColor,e.fill()}),P!==void 0}),P!==void 0}),P===void 0)return;const F=()=>{e.save(),e.beginPath(),e.rect(0,c,t,n-c-L),e.clip(),P==null||P(),e.restore()};return F(),F}function Mh(e,t,n,r,o,i,a,s,l){l===void 0||l.size===0||(e.beginPath(),Nc(t,n,i,r,(c,u,f,m,p,h)=>{l.hasItemInRectangle({x:c[0],y:-2,width:c[1]-c[0]+1,height:1})&&e.rect(f,m,p,h)}),Mr(t,s,i,a,o,(c,u,f,m)=>{const p=Math.max(0,m-u),h=u+p+1,g=c.width-p-1;l.has([c.sourceIndex,-1])&&e.rect(h,r,g,o-r)}),e.clip())}function Rh(e,t,n,r,o,i,a,s,l,c){let u=0;return Mr(e,i,r,o,n,(f,m,p,h,g)=>(na(g,p,t,a,s,l,c,void 0,(b,w,y,S)=>{S||(u=Math.max(w,u))}),!0)),u}function ys(e,t){var Dn;const{canvasCtx:n,headerCanvasCtx:r,width:o,height:i,cellXOffset:a,cellYOffset:s,translateX:l,translateY:c,mappedColumns:u,enableGroups:f,freezeColumns:m,dragAndDropState:p,theme:h,drawFocus:g,headerHeight:b,groupHeaderHeight:w,disabledRows:y,rowHeight:S,verticalBorder:E,overrideCursor:D,isResizing:R,selection:C,fillHandle:I,freezeTrailingRows:x,rows:L,getCellContent:H,getGroupDetails:P,getRowThemeOverride:F,isFocused:O,drawHeaderCallback:q,prelightCells:j,drawCellCallback:te,highlightRegions:pe,resizeCol:me,imageLoader:J,lastBlitData:Y,hoverValues:ne,hyperWrapping:Z,hoverInfo:ce,spriteManager:ue,maxScaleFactor:G,hasAppendRow:ve,touchMode:he,enqueue:Ve,renderStateProvider:tt,getCellRenderer:ht,renderStrategy:at,bufferACtx:ze,bufferBCtx:Ke,damage:ke,minimumCellWidth:Mt,resizeIndicator:vt}=e;if(o===0||i===0)return;const nt=at==="double-buffer",Q=Math.min(G,Math.ceil(window.devicePixelRatio??1)),Ue=at!=="direct"&&kh(e,t),Fe=n.canvas;(Fe.width!==o*Q||Fe.height!==i*Q)&&(Fe.width=o*Q,Fe.height=i*Q,Fe.style.width=o+"px",Fe.style.height=i+"px");const Le=r.canvas,be=f?w+b:b,je=be+1;(Le.width!==o*Q||Le.height!==je*Q)&&(Le.width=o*Q,Le.height=je*Q,Le.style.width=o+"px",Le.style.height=je+"px");const _e=ze.canvas,Ge=Ke.canvas;nt&&(_e.width!==o*Q||_e.height!==i*Q)&&(_e.width=o*Q,_e.height=i*Q,Y.current!==void 0&&(Y.current.aBufferScroll=void 0)),nt&&(Ge.width!==o*Q||Ge.height!==i*Q)&&(Ge.width=o*Q,Ge.height=i*Q,Y.current!==void 0&&(Y.current.bBufferScroll=void 0));const ge=Y.current;if(Ue===!0&&a===(ge==null?void 0:ge.cellXOffset)&&s===(ge==null?void 0:ge.cellYOffset)&&l===(ge==null?void 0:ge.translateX)&&c===(ge==null?void 0:ge.translateY))return;let Re=null;nt&&(Re=n);const lt=r;let qe;nt?ke!==void 0?qe=(ge==null?void 0:ge.lastBuffer)==="b"?Ke:ze:qe=(ge==null?void 0:ge.lastBuffer)==="b"?ze:Ke:qe=n;const Je=qe.canvas,bt=nt?Je===_e?Ge:_e:Fe,rt=typeof S=="number"?()=>S:S;lt.save(),qe.save(),lt.beginPath(),qe.beginPath(),lt.textBaseline="middle",qe.textBaseline="middle",Q!==1&&(lt.scale(Q,Q),qe.scale(Q,Q));const Ae=nl(u,a,o,p,l);let Tt=[];const Xt=g&&((Dn=C.current)==null?void 0:Dn.cell[1])===s&&c===0;let Et=!1;if(pe!==void 0){for(const Se of pe)if(Se.style!=="no-outline"&&Se.range.y===s&&c===0){Et=!0;break}}const Ft=()=>{ph(lt,Ae,f,ce,o,l,b,w,p,R,C,h,ue,ne,E,P,ke,q,he),vs(lt,Ae,s,l,c,o,i,void 0,void 0,w,be,rt,F,E,x,L,h,!0),lt.beginPath(),lt.moveTo(0,je-.5),lt.lineTo(o,je-.5),lt.strokeStyle=dn(h.headerBottomBorderColor??h.horizontalBorderColor??h.borderColor,h.bgHeader),lt.stroke(),Et&&bs(lt,o,i,a,s,l,c,u,m,b,w,S,x,L,pe,h),Xt&&za(lt,o,i,s,l,c,Ae,u,h,be,C,rt,H,x,ve,I,L)};if(ke!==void 0){const Se=Ae[Ae.length-1].sourceIndex+1,xt=ke.hasItemInRegion([{x:a,y:-2,width:Se,height:2},{x:a,y:s,width:Se,height:300},{x:0,y:s,width:m,height:300},{x:0,y:-2,width:m,height:2},{x:a,y:L-x,width:Se,height:x,when:x>0}]),Bn=wn=>{ms(wn,Ae,u,i,be,l,c,s,L,rt,H,P,F,y,O,g,x,ve,Tt,ke,C,j,pe,J,ue,ne,ce,te,Z,h,Ve,tt,ht,D,Mt);const yn=C.current;I&&g&&yn!==void 0&&ke.has(Rc(yn.range))&&za(wn,o,i,s,l,c,Ae,u,h,be,C,rt,H,x,ve,I,L)};xt&&(Bn(qe),Re!==null&&(Re.save(),Re.scale(Q,Q),Re.textBaseline="middle",Bn(Re),Re.restore()),ke.hasHeader()&&(Mh(lt,Ae,o,w,be,l,c,s,ke),Ft())),qe.restore(),lt.restore();return}if((Ue!==!0||a!==(ge==null?void 0:ge.cellXOffset)||l!==(ge==null?void 0:ge.translateX)||Xt!==(ge==null?void 0:ge.mustDrawFocusOnHeader)||Et!==(ge==null?void 0:ge.mustDrawHighlightRingsOnHeader))&&Ft(),Ue===!0){pn(bt!==void 0&&ge!==void 0);const{regions:Se}=Sh(qe,bt,bt===_e?ge.aBufferScroll:ge.bBufferScroll,bt===_e?ge.bBufferScroll:ge.aBufferScroll,ge,a,s,l,c,x,o,i,L,be,Q,u,Ae,S,nt);Tt=Se}else Ue!==!1&&(pn(ge!==void 0),Tt=xh(ge,a,s,l,c,o,i,be,Ae,Ue));yh(qe,Ae,o,i,x,L,E,rt,h);const qt=bs(qe,o,i,a,s,l,c,u,m,b,w,S,x,L,pe,h),St=g?za(qe,o,i,s,l,c,Ae,u,h,be,C,rt,H,x,ve,I,L):void 0;if(qe.fillStyle=h.bgCell,Tt.length>0){qe.beginPath();for(const Se of Tt)qe.rect(Se.x,Se.y,Se.width,Se.height);qe.clip(),qe.fill(),qe.beginPath()}else qe.fillRect(0,0,o,i);const Vn=ms(qe,Ae,u,i,be,l,c,s,L,rt,H,P,F,y,O,g,x,ve,Tt,ke,C,j,pe,J,ue,ne,ce,te,Z,h,Ve,tt,ht,D,Mt);wh(qe,Ae,u,o,i,be,l,c,s,L,rt,F,C.rows,y,x,ve,Tt,ke,h),Ch(qe,Ae,s,l,c,o,i,Tt,be,rt,F,E,x,L,h),vs(qe,Ae,s,l,c,o,i,Tt,Vn,w,be,rt,F,E,x,L,h),qt==null||qt(),St==null||St(),R&&vt!=="none"&&Mr(Ae,0,l,0,be,(Se,xt)=>Se.sourceIndex===me?(ws(lt,xt+Se.width,0,be+1,dn(h.resizeIndicatorColor??h.accentLight,h.bgHeader)),vt==="full"&&ws(qe,xt+Se.width,be,i,dn(h.resizeIndicatorColor??h.accentLight,h.bgCell)),!0):!1),Re!==null&&(Re.fillStyle=h.bgCell,Re.fillRect(0,0,o,i),Re.drawImage(qe.canvas,0,0));const ur=Rh(Ae,i,be,l,c,s,L,rt,x,ve);J==null||J.setWindow({x:a,y:s,width:Ae.length,height:ur-s},m,Array.from({length:x},(Se,xt)=>L-1-xt));const gt=ge!==void 0&&(a!==ge.cellXOffset||l!==ge.translateX),er=ge!==void 0&&(s!==ge.cellYOffset||c!==ge.translateY);Y.current={cellXOffset:a,cellYOffset:s,translateX:l,translateY:c,mustDrawFocusOnHeader:Xt,mustDrawHighlightRingsOnHeader:Et,lastBuffer:nt?Je===_e?"a":"b":void 0,aBufferScroll:Je===_e?[gt,er]:ge==null?void 0:ge.aBufferScroll,bBufferScroll:Je===Ge?[gt,er]:ge==null?void 0:ge.bBufferScroll},qe.restore(),lt.restore()}const Ih=80;function Eh(e){const t=e-1;return t*t*t+1}class Dh{constructor(t){Ye(this,"callback");Ye(this,"currentHoveredItem");Ye(this,"leavingItems",[]);Ye(this,"lastAnimationTime");Ye(this,"addToLeavingItems",t=>{this.leavingItems.some(r=>Go(r.item,t.item))||this.leavingItems.push(t)});Ye(this,"removeFromLeavingItems",t=>{const n=this.leavingItems.find(r=>Go(r.item,t));return this.leavingItems=this.leavingItems.filter(r=>r!==n),(n==null?void 0:n.hoverAmount)??0});Ye(this,"cleanUpLeavingElements",()=>{this.leavingItems=this.leavingItems.filter(t=>t.hoverAmount>0)});Ye(this,"shouldStep",()=>{const t=this.leavingItems.length>0,n=this.currentHoveredItem!==void 0&&this.currentHoveredItem.hoverAmount<1;return t||n});Ye(this,"getAnimatingItems",()=>this.currentHoveredItem!==void 0?[...this.leavingItems,this.currentHoveredItem]:this.leavingItems.map(t=>({...t,hoverAmount:Eh(t.hoverAmount)})));Ye(this,"step",t=>{if(this.lastAnimationTime===void 0)this.lastAnimationTime=t;else{const r=(t-this.lastAnimationTime)/Ih;for(const i of this.leavingItems)i.hoverAmount=Rn(i.hoverAmount-r,0,1);this.currentHoveredItem!==void 0&&(this.currentHoveredItem.hoverAmount=Rn(this.currentHoveredItem.hoverAmount+r,0,1));const o=this.getAnimatingItems();this.callback(o),this.cleanUpLeavingElements()}this.shouldStep()?(this.lastAnimationTime=t,window.requestAnimationFrame(this.step)):this.lastAnimationTime=void 0});Ye(this,"setHovered",t=>{var n;if(!Go((n=this.currentHoveredItem)==null?void 0:n.item,t)){if(this.currentHoveredItem!==void 0&&this.addToLeavingItems(this.currentHoveredItem),t!==void 0){const r=this.removeFromLeavingItems(t);this.currentHoveredItem={item:t,hoverAmount:r}}else this.currentHoveredItem=void 0;this.lastAnimationTime===void 0&&window.requestAnimationFrame(this.step)}});this.callback=t}}class Oh{constructor(t){Ye(this,"fn");Ye(this,"val");this.fn=t}get value(){return this.val??(this.val=this.fn())}}function Sl(e){return new Oh(e)}const Ph=Sl(()=>window.navigator.userAgent.includes("Firefox")),_i=Sl(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")),Gi=Sl(()=>window.navigator.platform.toLowerCase().startsWith("mac"));function Th(e){const t=d.useRef([]),n=d.useRef(0),r=d.useRef(e);r.current=e;const o=d.useCallback(()=>{const i=()=>window.requestAnimationFrame(a),a=()=>{const s=t.current.map(yl);t.current=[],r.current(new Xo(s)),t.current.length>0?n.current++:n.current=0};window.requestAnimationFrame(n.current>600?i:a)},[]);return d.useCallback(i=>{t.current.length===0&&o();const a=An(i[0],i[1]);t.current.includes(a)||t.current.push(a)},[o])}const xr="header",In="group-header",Ui="out-of-bounds";var co;(function(e){e[e.Start=-2]="Start",e[e.StartPadding=-1]="StartPadding",e[e.Center=0]="Center",e[e.EndPadding=1]="EndPadding",e[e.End=2]="End"})(co||(co={}));function jc(e,t){return e===t?!0:(e==null?void 0:e.kind)==="out-of-bounds"?(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])&&(e==null?void 0:e.region[0])===(t==null?void 0:t.region[0])&&(e==null?void 0:e.region[1])===(t==null?void 0:t.region[1]):(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])}const Cs=6,Fh=(e,t)=>{if(e.kind===X.Custom)return e.copyData;const n=t==null?void 0:t(e);return(n==null?void 0:n.getAccessibilityString(e))??""},Lh=(e,t)=>{const{width:n,height:r,accessibilityHeight:o,columns:i,cellXOffset:a,cellYOffset:s,headerHeight:l,fillHandle:c=!1,groupHeaderHeight:u,rowHeight:f,rows:m,getCellContent:p,getRowThemeOverride:h,onHeaderMenuClick:g,onHeaderIndicatorClick:b,enableGroups:w,isFilling:y,onCanvasFocused:S,onCanvasBlur:E,isFocused:D,selection:R,freezeColumns:C,onContextMenu:I,freezeTrailingRows:x,fixedShadowX:L=!0,fixedShadowY:H=!0,drawFocusRing:P,onMouseDown:F,onMouseUp:O,onMouseMoveRaw:q,onMouseMove:j,onItemHovered:te,dragAndDropState:pe,firstColAccessible:me,onKeyDown:J,onKeyUp:Y,highlightRegions:ne,canvasRef:Z,onDragStart:ce,onDragEnd:ue,eventTargetRef:G,isResizing:ve,resizeColumn:he,isDragging:Ve,isDraggable:tt=!1,allowResize:ht,disabledRows:at,hasAppendRow:ze,getGroupDetails:Ke,theme:ke,prelightCells:Mt,headerIcons:vt,verticalBorder:nt,drawCell:Q,drawHeader:Ue,onCellFocused:Fe,onDragOverCell:Le,onDrop:be,onDragLeave:je,imageWindowLoader:_e,smoothScrollX:Ge=!1,smoothScrollY:ge=!1,experimental:Re,getCellRenderer:lt,resizeIndicator:qe="full"}=e,Je=e.translateX??0,bt=e.translateY??0,rt=Math.max(C,Math.min(i.length-1,a)),Ae=d.useRef(null),Tt=d.useRef(window),Xt=Tt.current,Et=_e,Ft=d.useRef(),[qt,St]=d.useState(!1),Vn=d.useRef([]),ur=d.useRef(),[gt,er]=d.useState(),[Dn,Se]=d.useState(),xt=d.useRef(null),[Bn,wn]=d.useState(),[yn,Be]=d.useState(!1),Lt=d.useRef(yn);Lt.current=yn;const wt=d.useMemo(()=>new ch(vt,()=>{Gr.current=void 0,Ir.current()}),[vt]),Jt=w?u+l:l,Wt=d.useRef(-1),on=((Re==null?void 0:Re.enableFirefoxRescaling)??!1)&&Ph.value,dr=((Re==null?void 0:Re.enableSafariRescaling)??!1)&&_i.value;d.useLayoutEffect(()=>{window.devicePixelRatio===1||!on&&!dr||(Wt.current!==-1&&St(!0),window.clearTimeout(Wt.current),Wt.current=window.setTimeout(()=>{St(!1),Wt.current=-1},200))},[s,rt,Je,bt,on,dr]);const Ht=gf(i,C),zt=L?vo(Ht,pe):0,Vt=d.useCallback((T,K,ie)=>{const ae=T.getBoundingClientRect();if(K>=Ht.length||ie>=m)return;const ee=ae.width/n,se=rl(K,ie,n,r,u,Jt,rt,s,Je,bt,m,C,x,Ht,f);return ee!==1&&(se.x*=ee,se.y*=ee,se.width*=ee,se.height*=ee),se.x+=ae.x,se.y+=ae.y,se},[n,r,u,Jt,rt,s,Je,bt,m,C,x,Ht,f]),Yt=d.useCallback((T,K,ie,ae)=>{const ee=T.getBoundingClientRect(),se=ee.width/n,He=(K-ee.left)/se,$e=(ie-ee.top)/se,de=5,ot=nl(Ht,rt,n,void 0,Je);let le=0,Oe=0;ae instanceof MouseEvent&&(le=ae.button,Oe=ae.buttons);const Ie=bf(He,ot,Je),Xe=wf($e,r,w,l,u,m,f,s,bt,x),Bt=(ae==null?void 0:ae.shiftKey)===!0,ln=(ae==null?void 0:ae.ctrlKey)===!0,Qe=(ae==null?void 0:ae.metaKey)===!0,Rt=ae!==void 0&&!(ae instanceof MouseEvent)||(ae==null?void 0:ae.pointerType)==="touch",Pn=[He<0?-1:n<He?1:0,$e<Jt?-1:r<$e?1:0];let nn;if(Ie===-1||$e<0||He<0||Xe===void 0||He>n||$e>r){const st=He>n?1:He<0?-1:0,sn=$e>r?1:$e<0?-1:0;let gn=st*2,et=sn*2;st===0&&(gn=Ie===-1?co.EndPadding:co.Center),sn===0&&(et=Xe===void 0?co.EndPadding:co.Center);let Ot=!1;if(Ie===-1&&Xe===-1){const br=Vt(T,Ht.length-1,-1);pn(br!==void 0),Ot=K<br.x+br.width+de}const vr=He>n&&He<n+el()||$e>r&&$e<r+el();nn={kind:Ui,location:[Ie!==-1?Ie:He<0?0:Ht.length-1,Xe??m-1],region:[gn,et],shiftKey:Bt,ctrlKey:ln,metaKey:Qe,isEdge:Ot,isTouch:Rt,button:le,buttons:Oe,scrollEdge:Pn,isMaybeScrollbar:vr}}else if(Xe<=-1){let st=Vt(T,Ie,Xe);pn(st!==void 0);let sn=st!==void 0&&st.x+st.width-K<=de;const gn=Ie-1;K-st.x<=de&&gn>=0?(sn=!0,st=Vt(T,gn,Xe),pn(st!==void 0),nn={kind:w&&Xe===-2?In:xr,location:[gn,Xe],bounds:st,group:Ht[gn].group??"",isEdge:sn,shiftKey:Bt,ctrlKey:ln,metaKey:Qe,isTouch:Rt,localEventX:K-st.x,localEventY:ie-st.y,button:le,buttons:Oe,scrollEdge:Pn}):nn={kind:w&&Xe===-2?In:xr,group:Ht[Ie].group??"",location:[Ie,Xe],bounds:st,isEdge:sn,shiftKey:Bt,ctrlKey:ln,metaKey:Qe,isTouch:Rt,localEventX:K-st.x,localEventY:ie-st.y,button:le,buttons:Oe,scrollEdge:Pn}}else{const st=Vt(T,Ie,Xe);pn(st!==void 0);const sn=st!==void 0&&st.x+st.width-K<de;let gn=!1;if(c&&R.current!==void 0){const et=Rc(R.current.range),Ot=Vt(T,et[0],et[1]);if(Ot!==void 0){const vr=Ot.x+Ot.width-2,br=Ot.y+Ot.height-2;gn=Math.abs(vr-K)<Cs&&Math.abs(br-ie)<Cs}}nn={kind:"cell",location:[Ie,Xe],bounds:st,isEdge:sn,shiftKey:Bt,ctrlKey:ln,isFillHandle:gn,metaKey:Qe,isTouch:Rt,localEventX:K-st.x,localEventY:ie-st.y,button:le,buttons:Oe,scrollEdge:Pn}}return nn},[n,Ht,rt,Je,r,w,l,u,m,f,s,bt,x,Vt,c,R,Jt]),[tr]=gt??[],ni=d.useRef(()=>{}),fr=d.useRef(gt);fr.current=gt;const[nr,rr]=d.useMemo(()=>{const T=document.createElement("canvas"),K=document.createElement("canvas");return T.style.display="none",T.style.opacity="0",T.style.position="fixed",K.style.display="none",K.style.opacity="0",K.style.position="fixed",[T.getContext("2d",{alpha:!1}),K.getContext("2d",{alpha:!1})]},[]);d.useLayoutEffect(()=>{if(!(nr===null||rr===null))return document.documentElement.append(nr.canvas),document.documentElement.append(rr.canvas),()=>{nr.canvas.remove(),rr.canvas.remove()}},[nr,rr]);const Nn=d.useMemo(()=>new Df,[]),ri=on&&qt?1:dr&&qt?2:5,oi=(Re==null?void 0:Re.disableMinimumCellWidth)===!0?1:10,Gr=d.useRef(),Ur=d.useRef(null),Xr=d.useRef(null),Rr=d.useCallback(()=>{var He;const T=Ae.current,K=xt.current;if(T===null||K===null||(Ur.current===null&&(Ur.current=T.getContext("2d",{alpha:!1}),T.width=0,T.height=0),Xr.current===null&&(Xr.current=K.getContext("2d",{alpha:!1}),K.width=0,K.height=0),Ur.current===null||Xr.current===null||nr===null||rr===null))return;let ie=!1;const ae=$e=>{ie=!0,wn($e)},ee=Gr.current,se={headerCanvasCtx:Xr.current,canvasCtx:Ur.current,bufferACtx:nr,bufferBCtx:rr,width:n,height:r,cellXOffset:rt,cellYOffset:s,translateX:Math.round(Je),translateY:Math.round(bt),mappedColumns:Ht,enableGroups:w,freezeColumns:C,dragAndDropState:pe,theme:ke,headerHeight:l,groupHeaderHeight:u,disabledRows:at??dt.empty(),rowHeight:f,verticalBorder:nt,isResizing:ve,resizeCol:he,isFocused:D,selection:R,fillHandle:c,drawCellCallback:Q,hasAppendRow:ze,overrideCursor:ae,maxScaleFactor:ri,freezeTrailingRows:x,rows:m,drawFocus:P,getCellContent:p,getGroupDetails:Ke??($e=>({name:$e})),getRowThemeOverride:h,drawHeaderCallback:Ue,prelightCells:Mt,highlightRegions:ne,imageLoader:Et,lastBlitData:ur,damage:Ft.current,hoverValues:Vn.current,hoverInfo:fr.current,spriteManager:wt,scrolling:qt,hyperWrapping:(Re==null?void 0:Re.hyperWrapping)??!1,touchMode:yn,enqueue:ni.current,renderStateProvider:Nn,renderStrategy:(Re==null?void 0:Re.renderStrategy)??(_i.value?"double-buffer":"single-buffer"),getCellRenderer:lt,minimumCellWidth:oi,resizeIndicator:qe};se.damage===void 0?(Gr.current=se,ys(se,ee)):ys(se,void 0),!ie&&(se.damage===void 0||se.damage.has((He=fr==null?void 0:fr.current)==null?void 0:He[0]))&&wn(void 0)},[nr,rr,n,r,rt,s,Je,bt,Ht,w,C,pe,ke,l,u,at,f,nt,ve,ze,he,D,R,c,x,m,P,ri,p,Ke,h,Q,Ue,Mt,ne,Et,wt,qt,Re==null?void 0:Re.hyperWrapping,Re==null?void 0:Re.renderStrategy,yn,Nn,lt,oi,qe]),Ir=d.useRef(Rr);d.useLayoutEffect(()=>{Rr(),Ir.current=Rr},[Rr]),d.useLayoutEffect(()=>{(async()=>{var K;((K=document==null?void 0:document.fonts)==null?void 0:K.ready)!==void 0&&(await document.fonts.ready,Gr.current=void 0,Ir.current())})()},[]);const hr=d.useCallback(T=>{Ft.current=T,Ir.current(),Ft.current=void 0},[]),va=Th(hr);ni.current=va;const ii=d.useCallback(T=>{hr(new Xo(T.map(K=>K.cell)))},[hr]);Et.setCallback(hr);const[ai,ba]=d.useState(!1),[Yr,gr]=tr??[],yo=Yr!==void 0&&gr===-1,wa=Yr!==void 0&&gr===-2;let Co=!1,So=!1,Er=Bn;if(Er===void 0&&Yr!==void 0&&gr!==void 0&&gr>-1&&gr<m){const T=p([Yr,gr],!0);Co=T.kind===En.NewRow||T.kind===En.Marker&&T.markerKind!=="number",So=T.kind===X.Boolean&&ml(T),Er=T.cursor}const an=Ve?"grabbing":(Dn??!1)||ve?"col-resize":ai||y?"crosshair":Er!==void 0?Er:yo||Co||So||wa?"pointer":"default",xo=d.useMemo(()=>({contain:"strict",display:"block",cursor:an}),[an]),ko=d.useRef("default"),Kr=G==null?void 0:G.current;Kr!=null&&ko.current!==xo.cursor&&(Kr.style.cursor=ko.current=xo.cursor);const or=d.useCallback((T,K,ie,ae)=>{if(Ke===void 0)return;const ee=Ke(T);if(ee.actions!==void 0){const se=Uc(K,ee.actions);for(const[He,$e]of se.entries())if(Vr($e,ie+K.x,ae+$e.y))return ee.actions[He]}},[Ke]),ir=d.useCallback((T,K,ie,ae)=>{const ee=Ht[K];if(!Ve&&!ve&&!(Dn??!1)){const se=Vt(T,K,-1);pn(se!==void 0);const He=Xc(void 0,ee,se.x,se.y,se.width,se.height,ke,vl(ee.title)==="rtl");if(ee.hasMenu===!0&&He.menuBounds!==void 0&&Vr(He.menuBounds,ie,ae))return{area:"menu",bounds:He.menuBounds};if(ee.indicatorIcon!==void 0&&He.indicatorIconBounds!==void 0&&Vr(He.indicatorIconBounds,ie,ae))return{area:"indicator",bounds:He.indicatorIconBounds}}},[Ht,Vt,Dn,Ve,ve,ke]),jr=d.useRef(0),Wn=d.useRef(),_n=d.useRef(!1),Dr=d.useCallback(T=>{const K=Ae.current,ie=G==null?void 0:G.current;if(K===null||T.target!==K&&T.target!==ie)return;_n.current=!0;let ae,ee;if(T instanceof MouseEvent?(ae=T.clientX,ee=T.clientY):(ae=T.touches[0].clientX,ee=T.touches[0].clientY),T.target===ie&&ie!==null){const He=ie.getBoundingClientRect();if(ae>He.right||ee>He.bottom)return}const se=Yt(K,ae,ee,T);Wn.current=se.location,se.isTouch&&(jr.current=Date.now()),Lt.current!==se.isTouch&&Be(se.isTouch),!(se.kind===xr&&ir(K,se.location[0],ae,ee)!==void 0)&&(se.kind===In&&or(se.group,se.bounds,se.localEventX,se.localEventY)!==void 0||(F==null||F(se),!se.isTouch&&tt!==!0&&tt!==se.kind&&se.button<3&&se.button!==1&&T.preventDefault()))},[G,tt,Yt,or,ir,F]);Zt("touchstart",Dr,Xt,!1),Zt("mousedown",Dr,Xt,!1);const li=d.useRef(0),Mo=d.useCallback(T=>{var Oe,Ie;const K=li.current;li.current=Date.now();const ie=Ae.current;if(_n.current=!1,O===void 0||ie===null)return;const ae=G==null?void 0:G.current,ee=T.target!==ie&&T.target!==ae;let se,He,$e=!0;if(T instanceof MouseEvent){if(se=T.clientX,He=T.clientY,$e=T.button<3,T.pointerType==="touch")return}else se=T.changedTouches[0].clientX,He=T.changedTouches[0].clientY;let de=Yt(ie,se,He,T);de.isTouch&&jr.current!==0&&Date.now()-jr.current>500&&(de={...de,isLongTouch:!0}),K!==0&&Date.now()-K<(de.isTouch?1e3:500)&&(de={...de,isDoubleClick:!0}),Lt.current!==de.isTouch&&Be(de.isTouch),!ee&&T.cancelable&&$e&&T.preventDefault();const[ot]=de.location,le=ir(ie,ot,se,He);if(de.kind===xr&&le!==void 0){(de.button!==0||((Oe=Wn.current)==null?void 0:Oe[0])!==ot||((Ie=Wn.current)==null?void 0:Ie[1])!==-1)&&O(de,!0);return}else if(de.kind===In){const Xe=or(de.group,de.bounds,de.localEventX,de.localEventY);if(Xe!==void 0){de.button===0&&Xe.onClick(de);return}}O(de,ee)},[O,G,Yt,ir,or]);Zt("mouseup",Mo,Xt,!1),Zt("touchend",Mo,Xt,!1);const De=d.useCallback(T=>{var ot,le;const K=Ae.current;if(K===null)return;const ie=G==null?void 0:G.current,ae=T.target!==K&&T.target!==ie;let ee,se,He=!0;T instanceof MouseEvent?(ee=T.clientX,se=T.clientY,He=T.button<3):(ee=T.changedTouches[0].clientX,se=T.changedTouches[0].clientY);const $e=Yt(K,ee,se,T);Lt.current!==$e.isTouch&&Be($e.isTouch),!ae&&T.cancelable&&He&&T.preventDefault();const[de]=$e.location;if($e.kind===xr){const Oe=ir(K,de,ee,se);Oe!==void 0&&$e.button===0&&((ot=Wn.current)==null?void 0:ot[0])===de&&((le=Wn.current)==null?void 0:le[1])===-1&&(Oe.area==="menu"?g==null||g(de,Oe.bounds):Oe.area==="indicator"&&(b==null||b(de,Oe.bounds)))}else if($e.kind===In){const Oe=or($e.group,$e.bounds,$e.localEventX,$e.localEventY);Oe!==void 0&&$e.button===0&&Oe.onClick($e)}},[G,Yt,ir,g,b,or]);Zt("click",De,Xt,!1);const si=d.useCallback(T=>{const K=Ae.current,ie=G==null?void 0:G.current;if(K===null||T.target!==K&&T.target!==ie||I===void 0)return;const ae=Yt(K,T.clientX,T.clientY,T);I(ae,()=>{T.cancelable&&T.preventDefault()})},[G,Yt,I]);Zt("contextmenu",si,(G==null?void 0:G.current)??null,!1);const ci=d.useCallback(T=>{Ft.current=new Xo(T.map(K=>K.item)),Vn.current=T,Ir.current(),Ft.current=void 0},[]),Cn=d.useMemo(()=>new Dh(ci),[ci]),ui=d.useRef(Cn);ui.current=Cn,d.useLayoutEffect(()=>{const T=ui.current;if(tr===void 0||tr[1]<0){T.setHovered(tr);return}const K=p(tr,!0),ie=lt(K),ae=ie===void 0&&K.kind===X.Custom||(ie==null?void 0:ie.needsHover)!==void 0&&(typeof ie.needsHover=="boolean"?ie.needsHover:ie.needsHover(K));T.setHovered(ae?tr:void 0)},[p,lt,tr]);const On=d.useRef(),Ro=d.useCallback(T=>{var $e;const K=Ae.current;if(K===null)return;const ie=G==null?void 0:G.current,ae=T.target!==K&&T.target!==ie,ee=Yt(K,T.clientX,T.clientY,T);if(ee.kind!=="out-of-bounds"&&ae&&!_n.current&&!ee.isTouch)return;const se=(de,ot)=>{er(le=>le===de||(le==null?void 0:le[0][0])===(de==null?void 0:de[0][0])&&(le==null?void 0:le[0][1])===(de==null?void 0:de[0][1])&&((le==null?void 0:le[1][0])===(de==null?void 0:de[1][0])&&(le==null?void 0:le[1][1])===(de==null?void 0:de[1][1])||!ot)?le:de)};if(!jc(ee,On.current))wn(void 0),te==null||te(ee),se(ee.kind===Ui?void 0:[ee.location,[ee.localEventX,ee.localEventY]],!0),On.current=ee;else if(ee.kind==="cell"||ee.kind===xr||ee.kind===In){let de=!1,ot=!0;if(ee.kind==="cell"){const Oe=p(ee.location);ot=(($e=lt(Oe))==null?void 0:$e.needsHoverPosition)??Oe.kind===X.Custom,de=ot}else de=!0;const le=[ee.location,[ee.localEventX,ee.localEventY]];se(le,ot),fr.current=le,de&&hr(new Xo([ee.location]))}const He=ee.location[0]>=(me?0:1);Se(ee.kind===xr&&ee.isEdge&&He&&ht===!0),ba(ee.kind==="cell"&&ee.isFillHandle),q==null||q(T),j(ee)},[G,Yt,me,ht,q,j,te,p,lt,hr]);Zt("mousemove",Ro,Xt,!0);const di=d.useCallback(T=>{const K=Ae.current;if(K===null)return;let ie,ae;R.current!==void 0&&(ie=Vt(K,R.current.cell[0],R.current.cell[1]),ae=R.current.cell),J==null||J({bounds:ie,stopPropagation:()=>T.stopPropagation(),preventDefault:()=>T.preventDefault(),cancel:()=>{},ctrlKey:T.ctrlKey,metaKey:T.metaKey,shiftKey:T.shiftKey,altKey:T.altKey,key:T.key,keyCode:T.keyCode,rawEvent:T,location:ae})},[J,R,Vt]),fi=d.useCallback(T=>{const K=Ae.current;if(K===null)return;let ie,ae;R.current!==void 0&&(ie=Vt(K,R.current.cell[0],R.current.cell[1]),ae=R.current.cell),Y==null||Y({bounds:ie,stopPropagation:()=>T.stopPropagation(),preventDefault:()=>T.preventDefault(),cancel:()=>{},ctrlKey:T.ctrlKey,metaKey:T.metaKey,shiftKey:T.shiftKey,altKey:T.altKey,key:T.key,keyCode:T.keyCode,rawEvent:T,location:ae})},[Y,R,Vt]),ya=d.useCallback(T=>{if(Ae.current=T,Z!==void 0&&(Z.current=T),T===null)Tt.current=window;else{const K=T.getRootNode();K===document&&(Tt.current=window),Tt.current=K}},[Z]),Ca=d.useCallback(T=>{const K=Ae.current;if(K===null||tt===!1||ve){T.preventDefault();return}let ie,ae;const ee=Yt(K,T.clientX,T.clientY);if(tt!==!0&&ee.kind!==tt){T.preventDefault();return}const se=(Oe,Ie)=>{ie=Oe,ae=Ie};let He,$e,de;const ot=(Oe,Ie,Xe)=>{He=Oe,$e=Ie,de=Xe};let le=!1;if(ce==null||ce({...ee,setData:se,setDragImage:ot,preventDefault:()=>le=!0,defaultPrevented:()=>le}),!le&&ie!==void 0&&ae!==void 0&&T.dataTransfer!==null)if(T.dataTransfer.setData(ie,ae),T.dataTransfer.effectAllowed="copyLink",He!==void 0&&$e!==void 0&&de!==void 0)T.dataTransfer.setDragImage(He,$e,de);else{const[Oe,Ie]=ee.location;if(Ie!==void 0){const Xe=document.createElement("canvas"),Bt=Vt(K,Oe,Ie);pn(Bt!==void 0);const ln=Math.ceil(window.devicePixelRatio??1);Xe.width=Bt.width*ln,Xe.height=Bt.height*ln;const Qe=Xe.getContext("2d");Qe!==null&&(Qe.scale(ln,ln),Qe.textBaseline="middle",Ie===-1?(Qe.font=ke.headerFontFull,Qe.fillStyle=ke.bgHeader,Qe.fillRect(0,0,Xe.width,Xe.height),Yc(Qe,0,0,Bt.width,Bt.height,Ht[Oe],!1,ke,!1,void 0,void 0,!1,0,wt,Ue,!1)):(Qe.font=ke.baseFontFull,Qe.fillStyle=ke.bgCell,Qe.fillRect(0,0,Xe.width,Xe.height),Gc(Qe,p([Oe,Ie]),0,Ie,!1,!1,0,0,Bt.width,Bt.height,!1,ke,ke.bgCell,Et,wt,1,void 0,!1,0,void 0,void 0,void 0,Nn,lt,()=>{}))),Xe.style.left="-100%",Xe.style.position="absolute",Xe.style.width=`${Bt.width}px`,Xe.style.height=`${Bt.height}px`,document.body.append(Xe),T.dataTransfer.setDragImage(Xe,Bt.width/2,Bt.height/2),window.setTimeout(()=>{Xe.remove()},0)}}else T.preventDefault()},[tt,ve,Yt,ce,Vt,ke,Ht,wt,Ue,p,Et,Nn,lt]);Zt("dragstart",Ca,(G==null?void 0:G.current)??null,!1,!1);const Sn=d.useRef(),mr=d.useCallback(T=>{const K=Ae.current;if(be!==void 0&&T.preventDefault(),K===null||Le===void 0)return;const ie=Yt(K,T.clientX,T.clientY),[ae,ee]=ie.location,se=ae-(me?0:1),[He,$e]=Sn.current??[];(He!==se||$e!==ee)&&(Sn.current=[se,ee],Le([se,ee],T.dataTransfer))},[me,Yt,Le,be]);Zt("dragover",mr,(G==null?void 0:G.current)??null,!1,!1);const xn=d.useCallback(()=>{Sn.current=void 0,ue==null||ue()},[ue]);Zt("dragend",xn,(G==null?void 0:G.current)??null,!1,!1);const z=d.useCallback(T=>{const K=Ae.current;if(K===null||be===void 0)return;T.preventDefault();const ie=Yt(K,T.clientX,T.clientY),[ae,ee]=ie.location,se=ae-(me?0:1);be([se,ee],T.dataTransfer)},[me,Yt,be]);Zt("drop",z,(G==null?void 0:G.current)??null,!1,!1);const kt=d.useCallback(()=>{je==null||je()},[je]);Zt("dragleave",kt,(G==null?void 0:G.current)??null,!1,!1);const pr=d.useRef(R);pr.current=R;const qr=d.useRef(null),Zr=d.useCallback(T=>{var K;Ae.current===null||!Ae.current.contains(document.activeElement)||(T===null&&pr.current.current!==void 0?(K=Z==null?void 0:Z.current)==null||K.focus({preventScroll:!0}):T!==null&&T.focus({preventScroll:!0}),qr.current=T)},[Z]);d.useImperativeHandle(t,()=>({focus:()=>{var K;const T=qr.current;T===null||!document.contains(T)?(K=Z==null?void 0:Z.current)==null||K.focus({preventScroll:!0}):T.focus({preventScroll:!0})},getBounds:(T,K)=>{if(!(Z===void 0||Z.current===null))return Vt(Z.current,T??0,K??-1)},damage:ii}),[Z,ii,Vt]);const Io=d.useRef(),Sa=Qd(()=>{var $e,de,ot;if(n<50||(Re==null?void 0:Re.disableAccessibilityTree)===!0)return null;let T=nl(Ht,rt,n,pe,Je);const K=me?0:-1;!me&&(($e=T[0])==null?void 0:$e.sourceIndex)===0&&(T=T.slice(1));const[ie,ae]=((de=R.current)==null?void 0:de.cell)??[],ee=(ot=R.current)==null?void 0:ot.range,se=T.map(le=>le.sourceIndex),He=qn(s,Math.min(m,s+o));return ie!==void 0&&ae!==void 0&&!(se.includes(ie)&&He.includes(ae))&&Zr(null),d.createElement("table",{key:"access-tree",role:"grid","aria-rowcount":m+1,"aria-multiselectable":"true","aria-colcount":Ht.length+K},d.createElement("thead",{role:"rowgroup"},d.createElement("tr",{role:"row","aria-rowindex":1},T.map(le=>d.createElement("th",{role:"columnheader","aria-selected":R.columns.hasIndex(le.sourceIndex),"aria-colindex":le.sourceIndex+1+K,tabIndex:-1,onFocus:Oe=>{if(Oe.target!==qr.current)return Fe==null?void 0:Fe([le.sourceIndex,-1])},key:le.sourceIndex},le.title)))),d.createElement("tbody",{role:"rowgroup"},He.map(le=>d.createElement("tr",{role:"row","aria-selected":R.rows.hasIndex(le),key:le,"aria-rowindex":le+2},T.map(Oe=>{const Ie=Oe.sourceIndex,Xe=An(Ie,le),Bt=ie===Ie&&ae===le,ln=ee!==void 0&&Ie>=ee.x&&Ie<ee.x+ee.width&&le>=ee.y&&le<ee.y+ee.height,Qe=`glide-cell-${Ie}-${le}`,Rt=[Ie,le],Pn=p(Rt,!0);return d.createElement("td",{key:Xe,role:"gridcell","aria-colindex":Ie+1+K,"aria-selected":ln,"aria-readonly":so(Pn)||!Wo(Pn),id:Qe,"data-testid":Qe,onClick:()=>{const nn=Z==null?void 0:Z.current;if(nn!=null)return J==null?void 0:J({bounds:Vt(nn,Ie,le),cancel:()=>{},preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:Rt})},onFocusCapture:nn=>{var st,sn;if(!(nn.target===qr.current||((st=Io.current)==null?void 0:st[0])===Ie&&((sn=Io.current)==null?void 0:sn[1])===le))return Io.current=Rt,Fe==null?void 0:Fe(Rt)},ref:Bt?Zr:void 0,tabIndex:-1},Fh(Pn,lt))})))))},[n,Ht,rt,pe,Je,m,s,o,R,Zr,p,Z,J,Vt,Fe],200),Eo=C===0||!L?0:rt>C?1:Rn(-Je/100,0,1),B=-s*32+bt,_t=H?Rn(-B/100,0,1):0,Gt=d.useMemo(()=>{if(!Eo&&!_t)return null;const T={position:"absolute",top:0,left:zt,width:n-zt,height:r,opacity:Eo,pointerEvents:"none",transition:Ge?void 0:"opacity 0.2s",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)"},K={position:"absolute",top:Jt,left:0,width:n,height:r,opacity:_t,pointerEvents:"none",transition:ge?void 0:"opacity 0.2s",boxShadow:"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)"};return d.createElement(d.Fragment,null,Eo>0&&d.createElement("div",{id:"shadow-x",style:T}),_t>0&&d.createElement("div",{id:"shadow-y",style:K}))},[Eo,_t,zt,n,Ge,Jt,r,ge]),xa=d.useMemo(()=>({position:"absolute",top:0,left:0}),[]);return d.createElement(d.Fragment,null,d.createElement("canvas",{"data-testid":"data-grid-canvas",tabIndex:0,onKeyDown:di,onKeyUp:fi,onFocus:S,onBlur:E,ref:ya,style:xo},Sa),d.createElement("canvas",{ref:xt,style:xa}),Gt)},Hh=d.memo(d.forwardRef(Lh));function zo(e,t,n,r){return Rn(Math.round(t-(e.growOffset??0)),Math.ceil(n),Math.floor(r))}const Ah=e=>{const[t,n]=d.useState(),[r,o]=d.useState(),[i,a]=d.useState(),[s,l]=d.useState(),[c,u]=d.useState(!1),[f,m]=d.useState(),[p,h]=d.useState(),[g,b]=d.useState(),[w,y]=d.useState(!1),[S,E]=d.useState(),{onHeaderMenuClick:D,onHeaderIndicatorClick:R,getCellContent:C,onColumnMoved:I,onColumnResize:x,onColumnResizeStart:L,onColumnResizeEnd:H,gridRef:P,maxColumnWidth:F,minColumnWidth:O,onRowMoved:q,lockColumns:j,onColumnProposeMove:te,onMouseDown:pe,onMouseUp:me,onItemHovered:J,onDragStart:Y,canvasRef:ne}=e,Z=(x??H??L)!==void 0,{columns:ce,selection:ue}=e,G=ue.columns,ve=d.useCallback(Q=>{const[Ue,Fe]=Q.location;i!==void 0&&s!==Ue&&Ue>=j?(u(!0),l(Ue)):p!==void 0&&Fe!==void 0?(y(!0),b(Math.max(0,Fe))):r===void 0&&!c&&!w&&(J==null||J(Q))},[i,p,s,J,j,r,c,w]),he=I!==void 0,Ve=d.useCallback(Q=>{var Ue;if(Q.button===0){const[Fe,Le]=Q.location;if(Q.kind==="out-of-bounds"&&Q.isEdge&&Z){const be=(Ue=P==null?void 0:P.current)==null?void 0:Ue.getBounds(ce.length-1,-1);be!==void 0&&(n(be.x),o(ce.length-1))}else if(Q.kind==="header"&&Fe>=j){const be=ne==null?void 0:ne.current;if(Q.isEdge&&Z&&be){n(Q.bounds.x),o(Fe);const _e=be.getBoundingClientRect().width/be.offsetWidth,Ge=Q.bounds.width/_e;L==null||L(ce[Fe],Ge,Fe,Ge+(ce[Fe].growOffset??0))}else Q.kind==="header"&&he&&(m(Q.bounds.x),a(Fe))}else Q.kind==="cell"&&j>0&&Fe===0&&Le!==void 0&&q!==void 0&&(E(Q.bounds.y),h(Le))}pe==null||pe(Q)},[pe,Z,j,q,P,ce,he,L,ne]),tt=d.useCallback((Q,Ue)=>{c||w||D==null||D(Q,Ue)},[c,w,D]),ht=d.useCallback((Q,Ue)=>{c||w||R==null||R(Q,Ue)},[c,w,R]),at=d.useRef(-1),ze=d.useCallback(()=>{at.current=-1,h(void 0),b(void 0),E(void 0),y(!1),a(void 0),l(void 0),m(void 0),u(!1),o(void 0),n(void 0)},[]),Ke=d.useCallback((Q,Ue)=>{if(Q.button===0){if(r!==void 0){if((G==null?void 0:G.hasIndex(r))===!0)for(const Le of G){if(Le===r)continue;const be=ce[Le],je=zo(be,at.current,O,F);x==null||x(be,je,Le,je+(be.growOffset??0))}const Fe=zo(ce[r],at.current,O,F);if(H==null||H(ce[r],Fe,r,Fe+(ce[r].growOffset??0)),G.hasIndex(r))for(const Le of G){if(Le===r)continue;const be=ce[Le],je=zo(be,at.current,O,F);H==null||H(be,je,Le,je+(be.growOffset??0))}}ze(),i!==void 0&&s!==void 0&&(I==null||I(i,s)),p!==void 0&&g!==void 0&&(q==null||q(p,g))}me==null||me(Q,Ue)},[me,r,i,s,p,g,G,H,ce,O,F,x,I,q,ze]),ke=d.useMemo(()=>{if(!(i===void 0||s===void 0)&&i!==s&&(te==null?void 0:te(i,s))!==!1)return{src:i,dest:s}},[i,s,te]),Mt=d.useCallback(Q=>{const Ue=ne==null?void 0:ne.current;if(i!==void 0&&f!==void 0)Math.abs(Q.clientX-f)>20&&u(!0);else if(p!==void 0&&S!==void 0)Math.abs(Q.clientY-S)>20&&y(!0);else if(r!==void 0&&t!==void 0&&Ue){const Le=Ue.getBoundingClientRect().width/Ue.offsetWidth,be=(Q.clientX-t)/Le,je=ce[r],_e=zo(je,be,O,F);if(x==null||x(je,_e,r,_e+(je.growOffset??0)),at.current=be,(G==null?void 0:G.first())===r)for(const Ge of G){if(Ge===r)continue;const ge=ce[Ge],Re=zo(ge,at.current,O,F);x==null||x(ge,Re,Ge,Re+(ge.growOffset??0))}}},[i,f,p,S,r,t,ce,O,F,x,G,ne]),vt=d.useCallback((Q,Ue)=>{if(p===void 0||g===void 0)return C(Q,Ue);let[Fe,Le]=Q;return Le===g?Le=p:(Le>g&&(Le-=1),Le>=p&&(Le+=1)),C([Fe,Le],Ue)},[p,g,C]),nt=d.useCallback(Q=>{Y==null||Y(Q),Q.defaultPrevented()||ze()},[ze,Y]);return d.createElement(Hh,{accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,enableGroups:e.enableGroups,eventTargetRef:e.eventTargetRef,experimental:e.experimental,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,headerIcons:e.headerIcons,height:e.height,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,resizeColumn:r,isDraggable:e.isDraggable,isFilling:e.isFilling,isFocused:e.isFocused,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDrop:e.onDrop,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,resizeIndicator:e.resizeIndicator,verticalBorder:e.verticalBorder,width:e.width,getCellContent:vt,isResizing:r!==void 0,onHeaderMenuClick:tt,onHeaderIndicatorClick:ht,isDragging:c,onItemHovered:ve,onDragStart:nt,onMouseDown:Ve,allowResize:Z,onMouseUp:Ke,dragAndDropState:ke,onMouseMoveRaw:Mt,ref:P})},$h=Ah;function zh(e){const t=d.useRef(null),[n,r]=d.useState({width:e==null?void 0:e[0],height:e==null?void 0:e[1]});return d.useLayoutEffect(()=>{const o=a=>{for(const s of a){const{width:l,height:c}=s&&s.contentRect||{};r(u=>u.width===l&&u.height===c?u:{width:l,height:c})}},i=new window.ResizeObserver(o);return t.current&&i.observe(t.current,void 0),()=>{i.disconnect()}},[t.current]),{ref:t,...n}}const Vh=(e,t,n)=>{const r=d.useRef(null),o=d.useRef(null),i=d.useRef(null),a=d.useRef(0),s=d.useRef(t);s.current=t;const l=n.current;d.useEffect(()=>{const c=()=>{var m,p;if(o.current===!1&&l!==null){const h=[l.scrollLeft,l.scrollTop];if(((m=i.current)==null?void 0:m[0])===h[0]&&((p=i.current)==null?void 0:p[1])===h[1])if(a.current>10){i.current=null,o.current=null;return}else a.current++;else a.current=0,s.current(h[0],h[1]),i.current=h;r.current=window.setTimeout(c,8.333333333333334)}},u=()=>{o.current=!0,i.current=null,r.current!==null&&(window.clearTimeout(r.current),r.current=null)},f=m=>{m.touches.length===0&&(o.current=!1,a.current=0,r.current=window.setTimeout(c,8.333333333333334))};if(e&&l!==null){const m=l;return m.addEventListener("touchstart",u),m.addEventListener("touchend",f),()=>{m.removeEventListener("touchstart",u),m.removeEventListener("touchend",f),r.current!==null&&window.clearTimeout(r.current)}}},[e,l])},Bh=Vh,Nh=()=>e=>e.isSafari?"scroll":"auto",Wh=Ct("div")({name:"ScrollRegionStyle",class:"gdg-s1dgczr6",propsAsIs:!1,vars:{"s1dgczr6-0":[Nh()]}});function _h(e){const[t,n]=d.useState(!1),r=typeof window>"u"?null:window,o=d.useRef(0);return Zt("touchstart",d.useCallback(()=>{window.clearTimeout(o.current),n(!0)},[]),r,!0,!1),Zt("touchend",d.useCallback(i=>{i.touches.length===0&&(o.current=window.setTimeout(()=>n(!1),e))},[e]),r,!0,!1),t}const Gh=e=>{var Z,ce;const{children:t,clientHeight:n,scrollHeight:r,scrollWidth:o,update:i,draggable:a,className:s,preventDiagonalScrolling:l=!1,paddingBottom:c=0,paddingRight:u=0,rightElement:f,rightElementProps:m,kineticScrollPerfHack:p=!1,scrollRef:h,initialSize:g}=e,b=[],w=(m==null?void 0:m.sticky)??!1,y=(m==null?void 0:m.fill)??!1,S=d.useRef(0),E=d.useRef(0),D=d.useRef(null),R=typeof window>"u"?1:window.devicePixelRatio,C=d.useRef({scrollLeft:0,scrollTop:0,lockDirection:void 0}),I=d.useRef(null),x=_h(200),[L,H]=d.useState(!0),P=d.useRef(0);d.useLayoutEffect(()=>{if(!L||x||C.current.lockDirection===void 0)return;const ue=D.current;if(ue===null)return;const[G,ve]=C.current.lockDirection;G!==void 0?ue.scrollLeft=G:ve!==void 0&&(ue.scrollTop=ve),C.current.lockDirection=void 0},[x,L]);const F=d.useCallback((ue,G)=>{var nt;const ve=D.current;if(ve===null)return;G=G??ve.scrollTop,ue=ue??ve.scrollLeft;const he=C.current.scrollTop,Ve=C.current.scrollLeft,tt=ue-Ve,ht=G-he;x&&tt!==0&&ht!==0&&(Math.abs(tt)>3||Math.abs(ht)>3)&&l&&C.current.lockDirection===void 0&&(C.current.lockDirection=Math.abs(tt)<Math.abs(ht)?[Ve,void 0]:[void 0,he]);const at=C.current.lockDirection;ue=(at==null?void 0:at[0])??ue,G=(at==null?void 0:at[1])??G,C.current.scrollLeft=ue,C.current.scrollTop=G;const ze=ve.clientWidth,Ke=ve.clientHeight,ke=G,Mt=E.current-ke,vt=ve.scrollHeight-Ke;if(E.current=ke,vt>0&&(Math.abs(Mt)>2e3||ke===0||ke===vt)&&r>ve.scrollHeight+5){const Q=ke/vt,Ue=(r-Ke)*Q;S.current=Ue-ke}at!==void 0&&(window.clearTimeout(P.current),H(!1),P.current=window.setTimeout(()=>H(!0),200)),i({x:ue,y:ke+S.current,width:ze-u,height:Ke-c,paddingRight:((nt=I.current)==null?void 0:nt.clientWidth)??0})},[c,u,r,i,l,x]);Bh(p&&_i.value,F,D);const O=d.useRef(F);O.current=F;const q=d.useRef(),j=d.useRef(!1);d.useLayoutEffect(()=>{j.current?F():j.current=!0},[F,c,u]);const te=d.useCallback(ue=>{D.current=ue,h!==void 0&&(h.current=ue)},[h]);let pe=0,me=0;for(b.push(d.createElement("div",{key:pe++,style:{width:o,height:0}}));me<r;){const ue=Math.min(5e6,r-me);b.push(d.createElement("div",{key:pe++,style:{width:0,height:ue}})),me+=ue}const{ref:J,width:Y,height:ne}=zh(g);return typeof window<"u"&&(((Z=q.current)==null?void 0:Z.height)!==ne||((ce=q.current)==null?void 0:ce.width)!==Y)&&(window.setTimeout(()=>O.current(),0),q.current={width:Y,height:ne}),(Y??0)===0||(ne??0)===0?d.createElement("div",{ref:J}):d.createElement("div",{ref:J},d.createElement(Wh,{isSafari:_i.value},d.createElement("div",{className:"dvn-underlay"},t),d.createElement("div",{ref:te,style:q.current,draggable:a,onDragStart:ue=>{a||(ue.stopPropagation(),ue.preventDefault())},className:"dvn-scroller "+(s??""),onScroll:()=>F()},d.createElement("div",{className:"dvn-scroll-inner"+(f===void 0?" dvn-hidden":"")},d.createElement("div",{className:"dvn-stack"},b),f!==void 0&&d.createElement(d.Fragment,null,!y&&d.createElement("div",{className:"dvn-spacer"}),d.createElement("div",{ref:I,style:{height:ne,maxHeight:n-Math.ceil(R%1),position:"sticky",top:0,paddingLeft:1,marginBottom:-40,marginRight:u,flexGrow:y?1:void 0,right:w?u??0:void 0,pointerEvents:"auto"}},f))))))},Uh=e=>{const{columns:t,rows:n,rowHeight:r,headerHeight:o,groupHeaderHeight:i,enableGroups:a,freezeColumns:s,experimental:l,nonGrowWidth:c,clientSize:u,className:f,onVisibleRegionChanged:m,scrollRef:p,preventDiagonalScrolling:h,rightElement:g,rightElementProps:b,overscrollX:w,overscrollY:y,initialSize:S,smoothScrollX:E=!1,smoothScrollY:D=!1,isDraggable:R}=e,{paddingRight:C,paddingBottom:I}=l??{},[x,L]=u,H=d.useRef(),P=d.useRef(),F=d.useRef(),O=d.useRef(),q=c+Math.max(0,w??0);let j=a?o+i:o;if(typeof r=="number")j+=n*r;else for(let J=0;J<n;J++)j+=r(J);y!==void 0&&(j+=y);const te=d.useRef(),pe=d.useCallback(()=>{var ht,at;if(te.current===void 0)return;const J={...te.current};let Y=0,ne=J.x<0?-J.x:0,Z=0,ce=0;J.x=J.x<0?0:J.x;let ue=0;for(let ze=0;ze<s;ze++)ue+=t[ze].width;for(const ze of t){const Ke=Y-ue;if(J.x>=Ke+ze.width)Y+=ze.width,ce++,Z++;else if(J.x>Ke)Y+=ze.width,E?ne+=Ke-J.x:ce++,Z++;else if(J.x+J.width>Ke)Y+=ze.width,Z++;else break}let G=0,ve=0,he=0;if(typeof r=="number")D?(ve=Math.floor(J.y/r),G=ve*r-J.y):ve=Math.ceil(J.y/r),he=Math.ceil(J.height/r)+ve,G<0&&he++;else{let ze=0;for(let Ke=0;Ke<n;Ke++){const ke=r(Ke),Mt=ze+(D?0:ke/2);if(J.y>=ze+ke)ze+=ke,ve++,he++;else if(J.y>Mt)ze+=ke,D?G+=Mt-J.y:ve++,he++;else if(J.y+J.height>ke/2+ze)ze+=ke,he++;else break}}const Ve={x:ce,y:ve,width:Z-ce,height:he-ve},tt=H.current;(tt===void 0||tt.y!==Ve.y||tt.x!==Ve.x||tt.height!==Ve.height||tt.width!==Ve.width||P.current!==ne||F.current!==G||J.width!==((ht=O.current)==null?void 0:ht[0])||J.height!==((at=O.current)==null?void 0:at[1]))&&(m==null||m({x:ce,y:ve,width:Z-ce,height:he-ve},J.width,J.height,J.paddingRight??0,ne,G),H.current=Ve,P.current=ne,F.current=G,O.current=[J.width,J.height])},[t,r,n,m,s,E,D]),me=d.useCallback(J=>{te.current=J,pe()},[pe]);return d.useEffect(()=>{pe()},[pe]),d.createElement(Gh,{scrollRef:p,className:f,kineticScrollPerfHack:l==null?void 0:l.kineticScrollPerfHack,preventDiagonalScrolling:h,draggable:R===!0||typeof R=="string",scrollWidth:q+(C??0),scrollHeight:j+(I??0),clientHeight:L,rightElement:g,paddingBottom:I,paddingRight:C,rightElementProps:b,update:me,initialSize:S},d.createElement($h,{eventTargetRef:p,width:x,height:L,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,onColumnProposeMove:e.onColumnProposeMove,verticalBorder:e.verticalBorder,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}))},Xh=Uh,Yh=Ct("div")({name:"SearchWrapper",class:"gdg-seveqep",propsAsIs:!1}),Kh=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"})),jh=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"})),qh=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})),Zh=10,Jh=e=>{const{canvasRef:t,cellYOffset:n,rows:r,columns:o,searchInputRef:i,searchValue:a,searchResults:s,onSearchValueChange:l,getCellsForSelection:c,onSearchResultsChanged:u,showSearch:f=!1,onSearchClose:m}=e,[p]=d.useState(()=>"search-box-"+Math.round(Math.random()*1e3)),[h,g]=d.useState(""),b=a??h,w=d.useCallback(Y=>{g(Y),l==null||l(Y)},[l]),[y,S]=d.useState(),E=d.useRef(y);E.current=y,d.useEffect(()=>{s!==void 0&&(s.length>0?S(Y=>({rowsSearched:r,results:s.length,selectedIndex:(Y==null?void 0:Y.selectedIndex)??-1})):S(void 0))},[r,s]);const D=d.useRef();D.current===void 0&&(D.current=new AbortController);const R=d.useRef(),[C,I]=d.useState([]),x=s??C,L=d.useCallback(()=>{R.current!==void 0&&(window.cancelAnimationFrame(R.current),R.current=void 0,D.current.abort())},[]),H=d.useRef(n);H.current=n;const P=d.useCallback(Y=>{const ne=new RegExp(Y.replace(/([$()*+.?[\\\]^{|}-])/g,"\\$1"),"i");let Z=H.current,ce=Math.min(10,r),ue=0;S(void 0),I([]);const G=[],ve=async()=>{var vt;if(c===void 0)return;const he=performance.now(),Ve=r-ue;let tt=c({x:0,y:Z,width:o.length,height:Math.min(ce,Ve,r-Z)},D.current.signal);typeof tt=="function"&&(tt=await tt());let ht=!1;for(const[nt,Q]of tt.entries())for(const[Ue,Fe]of Q.entries()){let Le;switch(Fe.kind){case X.Text:case X.Number:Le=Fe.displayData;break;case X.Uri:case X.Markdown:Le=Fe.data;break;case X.Boolean:Le=typeof Fe.data=="boolean"?Fe.data.toString():void 0;break;case X.Image:case X.Bubble:Le=Fe.data.join("🐳");break;case X.Custom:Le=Fe.copyData;break}Le!==void 0&&ne.test(Le)&&(G.push([Ue,nt+Z]),ht=!0)}const at=performance.now();ht&&I([...G]),ue+=tt.length,pn(ue<=r);const ze=((vt=E.current)==null?void 0:vt.selectedIndex)??-1;S({results:G.length,rowsSearched:ue,selectedIndex:ze}),u==null||u(G,ze),Z+ce>=r?Z=0:Z+=ce;const Ke=at-he,ke=Math.max(Ke,1),Mt=Zh/ke;ce=Math.ceil(ce*Mt),ue<r&&G.length<1e3&&(R.current=window.requestAnimationFrame(ve))};L(),R.current=window.requestAnimationFrame(ve)},[L,o.length,c,u,r]),F=d.useCallback(()=>{var Y;m==null||m(),S(void 0),I([]),u==null||u([],-1),L(),(Y=t==null?void 0:t.current)==null||Y.focus()},[L,t,m,u]),O=d.useCallback(Y=>{w(Y.target.value),s===void 0&&(Y.target.value===""?(S(void 0),I([]),L()):P(Y.target.value))},[P,L,w,s]);d.useEffect(()=>{f&&i.current!==null&&(w(""),i.current.focus({preventScroll:!0}))},[f,i,w]);const q=d.useCallback(Y=>{var Z;if((Z=Y==null?void 0:Y.stopPropagation)==null||Z.call(Y),y===void 0)return;const ne=(y.selectedIndex+1)%y.results;S({...y,selectedIndex:ne}),u==null||u(x,ne)},[y,u,x]),j=d.useCallback(Y=>{var Z;if((Z=Y==null?void 0:Y.stopPropagation)==null||Z.call(Y),y===void 0)return;let ne=(y.selectedIndex-1)%y.results;ne<0&&(ne+=y.results),S({...y,selectedIndex:ne}),u==null||u(x,ne)},[u,x,y]),te=d.useCallback(Y=>{(Y.ctrlKey||Y.metaKey)&&Y.nativeEvent.code==="KeyF"||Y.key==="Escape"?(F(),Y.stopPropagation(),Y.preventDefault()):Y.key==="Enter"&&(Y.shiftKey?j():q())},[F,q,j]);d.useEffect(()=>()=>{L()},[L]);const[pe,me]=d.useState(!1);d.useEffect(()=>{if(f)me(!0);else{const Y=setTimeout(()=>me(!1),150);return()=>clearTimeout(Y)}},[f]);const J=d.useMemo(()=>{if(!f&&!pe)return null;let Y;y!==void 0&&(Y=y.results>=1e3?"over 1000":`${y.results} result${y.results!==1?"s":""}`,y.selectedIndex>=0&&(Y=`${y.selectedIndex+1} of ${Y}`));const ne=ue=>{ue.stopPropagation()},ce={width:`${Math.floor(((y==null?void 0:y.rowsSearched)??0)/r*100)}%`};return d.createElement(Yh,{className:f?"":"out",onMouseDown:ne,onMouseMove:ne,onMouseUp:ne,onClick:ne},d.createElement("div",{className:"gdg-search-bar-inner"},d.createElement("input",{id:p,"aria-hidden":!f,"data-testid":"search-input",ref:i,onChange:O,value:b,tabIndex:f?void 0:-1,onKeyDownCapture:te}),d.createElement("button",{"aria-label":"Previous Result","aria-hidden":!f,tabIndex:f?void 0:-1,onClick:j,disabled:((y==null?void 0:y.results)??0)===0},Kh),d.createElement("button",{"aria-label":"Next Result","aria-hidden":!f,tabIndex:f?void 0:-1,onClick:q,disabled:((y==null?void 0:y.results)??0)===0},jh),m!==void 0&&d.createElement("button",{"aria-label":"Close Search","aria-hidden":!f,"data-testid":"search-close-button",tabIndex:f?void 0:-1,onClick:F},qh)),y!==void 0?d.createElement(d.Fragment,null,d.createElement("div",{className:"gdg-search-status"},d.createElement("div",{"data-testid":"search-result-area"},Y)),d.createElement("div",{className:"gdg-search-progress",style:ce})):d.createElement("div",{className:"gdg-search-status"},d.createElement("label",{htmlFor:p},"Type to search")))},[f,pe,y,r,p,i,O,b,te,j,q,m,F]);return d.createElement(d.Fragment,null,d.createElement(Xh,{prelightCells:x,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,className:e.className,clientSize:e.clientSize,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,nonGrowWidth:e.nonGrowWidth,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,initialSize:e.initialSize,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,onVisibleRegionChanged:e.onVisibleRegionChanged,overscrollX:e.overscrollX,overscrollY:e.overscrollY,preventDiagonalScrolling:e.preventDiagonalScrolling,rightElement:e.rightElement,rightElementProps:e.rightElementProps,rowHeight:e.rowHeight,rows:e.rows,scrollRef:e.scrollRef,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,onColumnProposeMove:e.onColumnProposeMove,drawFocusRing:e.drawFocusRing,drawCell:e.drawCell,drawHeader:e.drawHeader,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}),J)},Qh=Jh;class eg extends d.PureComponent{constructor(){super(...arguments);Ye(this,"wrapperRef",d.createRef());Ye(this,"clickOutside",n=>{if(!(this.props.isOutsideClick&&!this.props.isOutsideClick(n))&&this.wrapperRef.current!==null&&!this.wrapperRef.current.contains(n.target)){let r=n.target;for(;r!==null;){if(r.classList.contains("click-outside-ignore"))return;r=r.parentElement}this.props.onClickOutside()}})}componentDidMount(){document.addEventListener("touchend",this.clickOutside,!0),document.addEventListener("mousedown",this.clickOutside,!0),document.addEventListener("contextmenu",this.clickOutside,!0)}componentWillUnmount(){document.removeEventListener("touchend",this.clickOutside,!0),document.removeEventListener("mousedown",this.clickOutside,!0),document.removeEventListener("contextmenu",this.clickOutside,!0)}render(){const{onClickOutside:n,isOutsideClick:r,...o}=this.props;return d.createElement("div",{...o,ref:this.wrapperRef},this.props.children)}}const tg=()=>e=>Math.max(16,e.targetHeight-10),ng=Ct("input")({name:"RenameInput",class:"gdg-r17m35ur",propsAsIs:!1,vars:{"r17m35ur-0":[tg(),"px"]}}),rg=e=>{const{bounds:t,group:n,onClose:r,canvasBounds:o,onFinish:i}=e,[a,s]=It.useState(n);return It.createElement(eg,{style:{position:"absolute",left:t.x-o.left+1,top:t.y-o.top,width:t.width-2,height:t.height},className:"gdg-c1tqibwd",onClickOutside:r},It.createElement(ng,{targetHeight:t.height,"data-testid":"group-rename-input",value:a,onBlur:r,onFocus:l=>l.target.setSelectionRange(0,a.length),onChange:l=>s(l.target.value),onKeyDown:l=>{l.key==="Enter"?i(a):l.key==="Escape"&&r()},autoFocus:!0}))};function og(e,t){return e===void 0?!1:e.length>1&&e.startsWith("_")?Number.parseInt(e.slice(1))===t.keyCode:e.length===1&&e>="a"&&e<="z"?e.toUpperCase().codePointAt(0)===t.keyCode:e===t.key}function Ne(e,t,n){const r=qc(e,t);return r&&(n.didMatch=!0),r}function qc(e,t){if(e.length===0)return!1;if(e.includes("|")){const l=e.split("|");for(const c of l)if(qc(c,t))return!0;return!1}let n=!1,r=!1,o=!1,i=!1;const a=e.split("+"),s=a.pop();if(!og(s,t))return!1;if(a[0]==="any")return!0;for(const l of a)switch(l){case"ctrl":n=!0;break;case"shift":r=!0;break;case"alt":o=!0;break;case"meta":i=!0;break;case"primary":Gi.value?i=!0:n=!0;break}return t.altKey===o&&t.ctrlKey===n&&t.shiftKey===r&&t.metaKey===i}function ig(e,t,n,r,o,i,a){const s=It.useCallback((u,f,m,p)=>{var S;(i==="cell"||i==="multi-cell")&&u!==void 0&&(u={...u,range:{x:u.cell[0],y:u.cell[1],width:1,height:1}}),!a&&u!==void 0&&u.range.width>1&&(u={...u,range:{...u.range,width:1,x:u.cell[0]}});const h=n==="mixed"&&(m||p==="drag"),g=r==="mixed"&&h,b=o==="mixed"&&h;let w={current:u===void 0?void 0:{...u,rangeStack:p==="drag"?((S=e.current)==null?void 0:S.rangeStack)??[]:[]},columns:g?e.columns:dt.empty(),rows:b?e.rows:dt.empty()};m&&(i==="multi-rect"||i==="multi-cell")&&w.current!==void 0&&e.current!==void 0&&(w={...w,current:{...w.current,rangeStack:[...e.current.rangeStack,e.current.range]}}),t(w,f)},[r,e,n,i,a,o,t]),l=It.useCallback((u,f,m)=>{u=u??e.rows,f!==void 0&&(u=u.add(f));let p;if(o==="exclusive"&&u.length>0)p={current:void 0,columns:dt.empty(),rows:u};else{const h=m&&n==="mixed",g=m&&r==="mixed";p={current:h?e.current:void 0,columns:g?e.columns:dt.empty(),rows:u}}t(p,!1)},[r,e,n,o,t]),c=It.useCallback((u,f,m)=>{u=u??e.columns,f!==void 0&&(u=u.add(f));let p;if(r==="exclusive"&&u.length>0)p={current:void 0,rows:dt.empty(),columns:u};else{const h=m&&n==="mixed",g=m&&o==="mixed";p={current:h?e.current:void 0,rows:g?e.rows:dt.empty(),columns:u}}t(p,!1)},[r,e,n,o,t]);return[s,l,c]}function ag(e,t,n,r,o){const i=d.useCallback(c=>{if(e===!0){const u=[];for(let f=c.y;f<c.y+c.height;f++){const m=[];for(let p=c.x;p<c.x+c.width;p++)p<0||f>=o?m.push({kind:X.Loading,allowOverlay:!1}):m.push(t([p,f]));u.push(m)}return u}return(e==null?void 0:e(c,r.signal))??[]},[r.signal,t,e,o]),a=e!==void 0?i:void 0,s=d.useCallback(c=>{if(a===void 0)return[];const u={...c,x:c.x-n};if(u.x<0){u.x=0,u.width--;const f=a(u,r.signal);return typeof f=="function"?async()=>(await f()).map(m=>[{kind:X.Loading,allowOverlay:!1},...m]):f.map(m=>[{kind:X.Loading,allowOverlay:!1},...m])}return a(u,r.signal)},[r.signal,a,n]);return[e!==void 0?s:void 0,a]}function lg(e){if(e.copyData!==void 0)return{formatted:e.copyData,rawValue:e.copyData,format:"string"};switch(e.kind){case X.Boolean:return{formatted:e.data===!0?"TRUE":e.data===!1?"FALSE":e.data===gl?"INDETERMINATE":"",rawValue:e.data,format:"boolean"};case X.Custom:return{formatted:e.copyData,rawValue:e.copyData,format:"string"};case X.Image:case X.Bubble:return{formatted:e.data,rawValue:e.data,format:"string-array"};case X.Drilldown:return{formatted:e.data.map(t=>t.text),rawValue:e.data.map(t=>t.text),format:"string-array"};case X.Text:return{formatted:e.displayData??e.data,rawValue:e.data,format:"string"};case X.Uri:return{formatted:e.displayData??e.data,rawValue:e.data,format:"url"};case X.Markdown:case X.RowID:return{formatted:e.data,rawValue:e.data,format:"string"};case X.Number:return{formatted:e.displayData,rawValue:e.data,format:"number"};case X.Loading:return{formatted:"#LOADING",rawValue:"",format:"string"};case X.Protected:return{formatted:"************",rawValue:"",format:"string"};default:Yo()}}function sg(e,t){return e.map((r,o)=>{const i=t[o];return r.map(a=>a.span!==void 0&&a.span[0]!==i?{formatted:"",rawValue:"",format:"string"}:lg(a))})}function Ss(e,t){return(t?/[\t\n",]/:/[\t\n"]/).test(e)&&(e=`"${e.replace(/"/g,'""')}"`),e}function cg(e){var n;const t=[];for(const r of e){const o=[];for(const i of r)i.format==="url"?o.push(((n=i.rawValue)==null?void 0:n.toString())??""):i.format==="string-array"?o.push(i.formatted.map(a=>Ss(a,!0)).join(",")):o.push(Ss(i.formatted,!1));t.push(o.join("	"))}return t.join(`
`)}function Va(e){return e.replace(/\t/g,"    ").replace(/ {2,}/g,t=>"<span> </span>".repeat(t.length))}function xs(e){return'"'+e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"'}function ug(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function dg(e){var n;const t=[];t.push('<style type="text/css"><!--br {mso-data-placement:same-cell;}--></style>',"<table><tbody>");for(const r of e){t.push("<tr>");for(const o of r){const i=`gdg-format="${o.format}"`;o.format==="url"?t.push(`<td ${i}><a href="${o.rawValue}">${Va(o.formatted)}</a></td>`):o.format==="string-array"?t.push(`<td ${i}><ol>${o.formatted.map((a,s)=>`<li gdg-raw-value=${xs(o.rawValue[s])}>`+Va(a)+"</li>").join("")}</ol></td>`):t.push(`<td gdg-raw-value=${xs(((n=o.rawValue)==null?void 0:n.toString())??"")} ${i}>${Va(o.formatted)}</td>`)}t.push("</tr>")}return t.push("</tbody></table>"),t.join("")}function fg(e,t){const n=sg(e,t),r=cg(n),o=dg(n);return{textPlain:r,textHtml:o}}function ks(e){var a;const t=document.createElement("html");t.innerHTML=e.replace(/&nbsp;/g," ");const n=t.querySelector("table");if(n===null)return;const r=[n],o=[];let i;for(;r.length>0;){const s=r.pop();if(s===void 0)break;if(s instanceof HTMLTableElement||s.nodeName==="TBODY")r.push(...[...s.children].reverse());else if(s instanceof HTMLTableRowElement)i!==void 0&&o.push(i),i=[],r.push(...[...s.children].reverse());else if(s instanceof HTMLTableCellElement){const l=s.cloneNode(!0),u=l.children.length===1&&l.children[0].nodeName==="P"?l.children[0]:null,f=(u==null?void 0:u.children.length)===1&&u.children[0].nodeName==="FONT",m=l.querySelectorAll("br");for(const g of m)g.replaceWith(`
`);const p=l.getAttribute("gdg-raw-value"),h=l.getAttribute("gdg-format")??"string";if(l.querySelector("a")!==null)i==null||i.push({rawValue:((a=l.querySelector("a"))==null?void 0:a.getAttribute("href"))??"",formatted:l.textContent??"",format:h});else if(l.querySelector("ol")!==null){const g=l.querySelectorAll("li");i==null||i.push({rawValue:[...g].map(b=>b.getAttribute("gdg-raw-value")??""),formatted:[...g].map(b=>b.textContent??""),format:"string-array"})}else if(p!==null)i==null||i.push({rawValue:ug(p),formatted:l.textContent??"",format:h});else{let g=l.textContent??"";f&&(g=g.replace(/\n(?!\n)/g,"")),i==null||i.push({rawValue:g??"",formatted:g??"",format:h})}}}return i!==void 0&&o.push(i),o}function hg(e,t,n,r,o){var s;const i=e;if(r==="allowPartial"||e.current===void 0||t===void 0)return e;let a=!1;do{if((e==null?void 0:e.current)===void 0)break;const l=(s=e.current)==null?void 0:s.range,c=[];if(l.width>2){const m=t({x:l.x,y:l.y,width:1,height:l.height},o.signal);if(typeof m=="function")return i;c.push(...m);const p=t({x:l.x+l.width-1,y:l.y,width:1,height:l.height},o.signal);if(typeof p=="function")return i;c.push(...p)}else{const m=t({x:l.x,y:l.y,width:l.width,height:l.height},o.signal);if(typeof m=="function")return i;c.push(...m)}let u=l.x-n,f=l.x+l.width-1-n;for(const m of c)for(const p of m)p.span!==void 0&&(u=Math.min(p.span[0],u),f=Math.max(p.span[1],f));u===l.x-n&&f===l.x+l.width-1-n?a=!0:e={current:{cell:e.current.cell??[0,0],range:{x:u+n,y:l.y,width:f-u+1,height:l.height},rangeStack:e.current.rangeStack},columns:e.columns,rows:e.rows}}while(!a);return e}function Ms(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1).replace(/""/g,'"')),e}function gg(e){let t;(function(s){s[s.None=0]="None",s[s.inString=1]="inString",s[s.inStringPostQuote=2]="inStringPostQuote"})(t||(t={}));const n=[];let r=[],o=0,i=t.None;e=e.replace(/\r\n/g,`
`);let a=0;for(const s of e){switch(i){case t.None:s==="	"||s===`
`?(r.push(e.slice(o,a)),o=a+1,s===`
`&&(n.push(r),r=[])):s==='"'&&(i=t.inString);break;case t.inString:s==='"'&&(i=t.inStringPostQuote);break;case t.inStringPostQuote:s==='"'?i=t.inString:((s==="	"||s===`
`)&&(r.push(Ms(e.slice(o,a))),o=a+1,s===`
`&&(n.push(r),r=[])),i=t.None);break}a++}return o<e.length&&r.push(Ms(e.slice(o,e.length))),n.push(r),n.map(s=>s.map(l=>({rawValue:l,formatted:l,format:"string"})))}function Rs(e,t,n){var s;const r=fg(e,t),o=l=>{var c;(c=window.navigator.clipboard)==null||c.writeText(l)},i=(l,c)=>{var u;return((u=window.navigator.clipboard)==null?void 0:u.write)===void 0?!1:(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([l],{type:"text/plain"}),"text/html":new Blob([c],{type:"text/html"})})]),!0)},a=(l,c)=>{var u,f;try{if(n===void 0||n.clipboardData===null)throw new Error("No clipboard data");(u=n==null?void 0:n.clipboardData)==null||u.setData("text/plain",l),(f=n==null?void 0:n.clipboardData)==null||f.setData("text/html",c)}catch{i(l,c)||o(l)}};((s=window.navigator.clipboard)==null?void 0:s.write)!==void 0||(n==null?void 0:n.clipboardData)!==void 0?a(r.textPlain,r.textHtml):o(r.textPlain),n==null||n.preventDefault()}function Zc(e){return e!==!0}function Is(e){return typeof e=="string"?e:`${e}px`}const mg=()=>e=>e.innerWidth,pg=()=>e=>e.innerHeight,vg=Ct("div")({name:"Wrapper",class:"gdg-wmyidgi",propsAsIs:!1,vars:{"wmyidgi-0":[mg()],"wmyidgi-1":[pg()]}}),bg=e=>{const{inWidth:t,inHeight:n,children:r,...o}=e;return d.createElement(vg,{innerHeight:Is(n),innerWidth:Is(t),...o},r)},wg=2,yg=1300;function Cg(e,t,n){const r=It.useRef(0),[o,i]=e??[0,0];It.useEffect(()=>{if(o===0&&i===0){r.current=0;return}let a=!1,s=0;const l=c=>{var u;if(!a){if(s===0)s=c;else{const f=c-s;r.current=Math.min(1,r.current+f/yg);const m=r.current**1.618*f*wg;(u=t.current)==null||u.scrollBy(o*m,i*m),s=c,n==null||n()}window.requestAnimationFrame(l)}};return window.requestAnimationFrame(l),()=>{a=!0}},[t,o,i,n])}function Sg({rowHeight:e,headerHeight:t,groupHeaderHeight:n,theme:r,overscrollX:o,overscrollY:i,scaleToRem:a,remSize:s}){const[l,c,u,f,m,p]=It.useMemo(()=>{if(!a||s===16)return[e,t,n,r,o,i];const h=s/16,g=e,b=Hc();return[typeof g=="number"?g*h:w=>Math.ceil(g(w)*h),Math.ceil(t*h),Math.ceil(n*h),{...r,headerIconSize:((r==null?void 0:r.headerIconSize)??b.headerIconSize)*h,cellHorizontalPadding:((r==null?void 0:r.cellHorizontalPadding)??b.cellHorizontalPadding)*h,cellVerticalPadding:((r==null?void 0:r.cellVerticalPadding)??b.cellVerticalPadding)*h},Math.ceil((o??0)*h),Math.ceil((i??0)*h)]},[n,t,o,i,s,e,a,r]);return{rowHeight:l,headerHeight:c,groupHeaderHeight:u,theme:f,overscrollX:m,overscrollY:p}}const Sr={downFill:!1,rightFill:!1,clear:!0,closeOverlay:!0,acceptOverlayDown:!0,acceptOverlayUp:!0,acceptOverlayLeft:!0,acceptOverlayRight:!0,copy:!0,paste:!0,cut:!0,search:!1,delete:!0,activateCell:!0,scrollToSelectedCell:!0,goToFirstCell:!0,goToFirstColumn:!0,goToFirstRow:!0,goToLastCell:!0,goToLastColumn:!0,goToLastRow:!0,goToNextPage:!0,goToPreviousPage:!0,selectToFirstCell:!0,selectToFirstColumn:!0,selectToFirstRow:!0,selectToLastCell:!0,selectToLastColumn:!0,selectToLastRow:!0,selectAll:!0,selectRow:!0,selectColumn:!0,goUpCell:!0,goRightCell:!0,goDownCell:!0,goLeftCell:!0,goUpCellRetainSelection:!0,goRightCellRetainSelection:!0,goDownCellRetainSelection:!0,goLeftCellRetainSelection:!0,selectGrowUp:!0,selectGrowRight:!0,selectGrowDown:!0,selectGrowLeft:!0};function We(e,t){return e===!0?t:e===!1?"":e}function Es(e){const t=Gi.value;return{activateCell:We(e.activateCell," |Enter|shift+Enter"),clear:We(e.clear,"any+Escape"),closeOverlay:We(e.closeOverlay,"any+Escape"),acceptOverlayDown:We(e.acceptOverlayDown,"Enter"),acceptOverlayUp:We(e.acceptOverlayUp,"shift+Enter"),acceptOverlayLeft:We(e.acceptOverlayLeft,"shift+Tab"),acceptOverlayRight:We(e.acceptOverlayRight,"Tab"),copy:e.copy,cut:e.cut,delete:We(e.delete,t?"Backspace|Delete":"Delete"),downFill:We(e.downFill,"primary+_68"),scrollToSelectedCell:We(e.scrollToSelectedCell,"primary+Enter"),goDownCell:We(e.goDownCell,"ArrowDown"),goDownCellRetainSelection:We(e.goDownCellRetainSelection,"alt+ArrowDown"),goLeftCell:We(e.goLeftCell,"ArrowLeft|shift+Tab"),goLeftCellRetainSelection:We(e.goLeftCellRetainSelection,"alt+ArrowLeft"),goRightCell:We(e.goRightCell,"ArrowRight|Tab"),goRightCellRetainSelection:We(e.goRightCellRetainSelection,"alt+ArrowRight"),goUpCell:We(e.goUpCell,"ArrowUp"),goUpCellRetainSelection:We(e.goUpCellRetainSelection,"alt+ArrowUp"),goToFirstCell:We(e.goToFirstCell,"primary+Home"),goToFirstColumn:We(e.goToFirstColumn,"Home|primary+ArrowLeft"),goToFirstRow:We(e.goToFirstRow,"primary+ArrowUp"),goToLastCell:We(e.goToLastCell,"primary+End"),goToLastColumn:We(e.goToLastColumn,"End|primary+ArrowRight"),goToLastRow:We(e.goToLastRow,"primary+ArrowDown"),goToNextPage:We(e.goToNextPage,"PageDown"),goToPreviousPage:We(e.goToPreviousPage,"PageUp"),paste:e.paste,rightFill:We(e.rightFill,"primary+_82"),search:We(e.search,"primary+f"),selectAll:We(e.selectAll,"primary+a"),selectColumn:We(e.selectColumn,"ctrl+ "),selectGrowDown:We(e.selectGrowDown,"shift+ArrowDown"),selectGrowLeft:We(e.selectGrowLeft,"shift+ArrowLeft"),selectGrowRight:We(e.selectGrowRight,"shift+ArrowRight"),selectGrowUp:We(e.selectGrowUp,"shift+ArrowUp"),selectRow:We(e.selectRow,"shift+ "),selectToFirstCell:We(e.selectToFirstCell,"primary+shift+Home"),selectToFirstColumn:We(e.selectToFirstColumn,"primary+shift+ArrowLeft"),selectToFirstRow:We(e.selectToFirstRow,"primary+shift+ArrowUp"),selectToLastCell:We(e.selectToLastCell,"primary+shift+End"),selectToLastColumn:We(e.selectToLastColumn,"primary+shift+ArrowRight"),selectToLastRow:We(e.selectToLastRow,"primary+shift+ArrowDown")}}function xg(e){const t=of(e);return It.useMemo(()=>{if(t===void 0)return Es(Sr);const n={...t,goToNextPage:(t==null?void 0:t.goToNextPage)??(t==null?void 0:t.pageDown)??Sr.goToNextPage,goToPreviousPage:(t==null?void 0:t.goToPreviousPage)??(t==null?void 0:t.pageUp)??Sr.goToPreviousPage,goToFirstCell:(t==null?void 0:t.goToFirstCell)??(t==null?void 0:t.first)??Sr.goToFirstCell,goToLastCell:(t==null?void 0:t.goToLastCell)??(t==null?void 0:t.last)??Sr.goToLastCell,selectToFirstCell:(t==null?void 0:t.selectToFirstCell)??(t==null?void 0:t.first)??Sr.selectToFirstCell,selectToLastCell:(t==null?void 0:t.selectToLastCell)??(t==null?void 0:t.last)??Sr.selectToLastCell};return Es({...Sr,...n})},[t])}function kg(e){function t(r,o,i){if(typeof r=="number")return{headerIndex:r,isCollapsed:!1,depth:o,path:i};const a={headerIndex:r.headerIndex,isCollapsed:r.isCollapsed,depth:o,path:i};return r.subGroups!==void 0&&(a.subGroups=r.subGroups.map((s,l)=>t(s,o+1,[...i,l])).sort((s,l)=>s.headerIndex-l.headerIndex)),a}return e.map((r,o)=>t(r,0,[o])).sort((r,o)=>r.headerIndex-o.headerIndex)}function xl(e,t){const n=[];function r(a,s,l=!1){let c=s!==null?s-a.headerIndex:t-a.headerIndex;if(a.subGroups!==void 0&&(c=a.subGroups[0].headerIndex-a.headerIndex),c--,n.push({headerIndex:a.headerIndex,contentIndex:-1,skip:l,isCollapsed:a.isCollapsed,depth:a.depth,path:a.path,rows:c}),a.subGroups)for(let u=0;u<a.subGroups.length;u++){const f=u<a.subGroups.length-1?a.subGroups[u+1].headerIndex:s;r(a.subGroups[u],f,l||a.isCollapsed)}}const o=kg(e.groups);for(let a=0;a<o.length;a++){const s=a<o.length-1?o[a+1].headerIndex:null;r(o[a],s)}let i=0;for(const a of n)a.contentIndex=i,i+=a.rows;return n.filter(a=>a.skip===!1).map(a=>{const{skip:s,...l}=a;return l})}function Xi(e,t){if(t===void 0||xl.length===0)return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1};let n=e;for(const r of t){if(n===0)return{path:[...r.path,-1],originalIndex:r.headerIndex,isGroupHeader:!0,groupIndex:-1,contentIndex:-1,groupRows:r.rows};if(n--,!r.isCollapsed){if(n<r.rows)return{path:[...r.path,n],originalIndex:r.headerIndex+n,isGroupHeader:!1,groupIndex:n,contentIndex:r.contentIndex+n,groupRows:r.rows};n-=r.rows}}return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1}}function Mg(e,t,n,r){const o=It.useMemo(()=>e===void 0?void 0:xl(e,t),[e,t]),i=It.useMemo(()=>o===void 0?t:o.reduce((c,u)=>c+(u.isCollapsed?1:u.rows+1),0),[o,t]),a=It.useMemo(()=>e===void 0||typeof n=="number"&&e.height===n?n:c=>{const{isGroupHeader:u}=Xi(c,o);return u?e.height:typeof n=="number"?n:n(c)},[o,e,n]),s=It.useCallback(c=>{if(o===void 0)return c;let u=c;for(const f of o){if(u===0)return;if(u--,!f.isCollapsed){if(u<f.rows)return f.contentIndex+u;u-=f.rows}}return c},[o]),l=zr(r??(e==null?void 0:e.themeOverride),It.useCallback(c=>{if(e===void 0)return r==null?void 0:r(c,c,c);if(r===void 0&&(e==null?void 0:e.themeOverride)===void 0)return;const{isGroupHeader:u,contentIndex:f,groupIndex:m}=Xi(c,o);return u?e.themeOverride:r==null?void 0:r(c,m,f)},[o,r,e]));return e===void 0?{rowHeight:a,rows:t,rowNumberMapper:s,getRowThemeOverride:l}:{rowHeight:a,rows:i,rowNumberMapper:s,getRowThemeOverride:l}}function Rg(e,t){const n=It.useMemo(()=>e===void 0?void 0:xl(e,t),[e,t]);return{getRowGroupingForPath:Qc,updateRowGroupingByPath:Jc,mapper:It.useCallback(r=>{if(typeof r=="number")return Xi(r,n);const o=Xi(r[1],n);return{...o,originalIndex:[r[0],o.originalIndex]}},[n])}}function Jc(e,t,n){const[r,...o]=t;return o[0]===-1?e.map((i,a)=>a===r?{...i,...n}:i):e.map((i,a)=>a===r?{...i,subGroups:Jc(i.subGroups??[],o,n)}:i)}function Qc(e,t){const[n,...r]=t;return r[0]===-1?e[n]:Qc(e[n].subGroups??[],r)}function Ig(e,t){const[n]=d.useState(()=>({value:e,callback:t,facade:{get current(){return n.value},set current(r){const o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}));return n.callback=t,n.facade}function Eg(e,t,n,r,o){const[i,a]=d.useMemo(()=>[t!==void 0&&typeof n=="number"?Math.floor(t/n):0,t!==void 0&&typeof n=="number"?-(t%n):0],[t,n]),s=d.useMemo(()=>({x:r.current.x,y:i,width:r.current.width??1,height:r.current.height??1,ty:a}),[r,a,i]),[l,c,u]=rf(s),f=d.useRef(o);f.current=o;const m=Ig(null,g=>{g!==null&&t!==void 0?g.scrollTop=t:g!==null&&e!==void 0&&(g.scrollLeft=e)}),p=(l.height??1)>1;d.useLayoutEffect(()=>{if(t!==void 0&&m.current!==null&&p){if(m.current.scrollTop===t)return;m.current.scrollTop=t,m.current.scrollTop!==t&&u(),f.current()}},[t,p,u,m]);const h=(l.width??1)>1;return d.useLayoutEffect(()=>{if(e!==void 0&&m.current!==null&&h){if(m.current.scrollLeft===e)return;m.current.scrollLeft=e,m.current.scrollLeft!==e&&u(),f.current()}},[e,h,u,m]),{visibleRegion:l,setVisibleRegion:c,scrollRef:m}}const Dg=d.lazy(async()=>await hl(()=>import("./data-grid-overlay-editor-5eS53weu.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url));let Og=0;function Pg(e){return bc(rs(rs(e).filter(t=>t.span!==void 0).map(t=>{var n,r;return qn((((n=t.span)==null?void 0:n[0])??0)+1,(((r=t.span)==null?void 0:r[1])??0)+1)})))}function Ei(e,t){return e===void 0||t===0||e.columns.length===0&&e.current===void 0?e:{current:e.current===void 0?void 0:{cell:[e.current.cell[0]+t,e.current.cell[1]],range:{...e.current.range,x:e.current.range.x+t},rangeStack:e.current.rangeStack.map(n=>({...n,x:n.x+t}))},rows:e.rows,columns:e.columns.offset(t)}}const Di={kind:X.Loading,allowOverlay:!1},Oi={columns:dt.empty(),rows:dt.empty(),current:void 0},Tg=(e,t)=>{var es,ts,ns;const[n,r]=d.useState(Oi),[o,i]=d.useState(),a=d.useRef(null),s=d.useRef(null),[l,c]=d.useState(),u=d.useRef(),f=typeof window>"u"?null:window,{imageEditorOverride:m,getRowThemeOverride:p,markdownDivCreateNode:h,width:g,height:b,columns:w,rows:y,getCellContent:S,onCellClicked:E,onCellActivated:D,onFillPattern:R,onFinishedEditing:C,coercePasteValue:I,drawHeader:x,drawCell:L,editorBloom:H,onHeaderClicked:P,onColumnProposeMove:F,rangeSelectionColumnSpanning:O=!0,spanRangeBehavior:q="default",onGroupHeaderClicked:j,onCellContextMenu:te,className:pe,onHeaderContextMenu:me,getCellsForSelection:J,onGroupHeaderContextMenu:Y,onGroupHeaderRenamed:ne,onCellEdited:Z,onCellsEdited:ce,onSearchResultsChanged:ue,searchResults:G,onSearchValueChange:ve,searchValue:he,onKeyDown:Ve,onKeyUp:tt,keybindings:ht,editOnType:at=!0,onRowAppended:ze,onColumnMoved:Ke,validateCell:ke,highlightRegions:Mt,rangeSelect:vt="rect",columnSelect:nt="multi",rowSelect:Q="multi",rangeSelectionBlending:Ue="exclusive",columnSelectionBlending:Fe="exclusive",rowSelectionBlending:Le="exclusive",onDelete:be,onDragStart:je,onMouseMove:_e,onPaste:Ge,copyHeaders:ge=!1,freezeColumns:Re=0,cellActivationBehavior:lt="second-click",rowSelectionMode:qe="auto",onHeaderMenuClick:Je,onHeaderIndicatorClick:bt,getGroupDetails:rt,rowGrouping:Ae,onSearchClose:Tt,onItemHovered:Xt,onSelectionCleared:Et,showSearch:Ft,onVisibleRegionChanged:qt,gridSelection:St,onGridSelectionChange:Vn,minColumnWidth:ur=50,maxColumnWidth:gt=500,maxColumnAutoWidth:er,provideEditor:Dn,trailingRowOptions:Se,freezeTrailingRows:xt=0,allowedFillDirections:Bn="orthogonal",scrollOffsetX:wn,scrollOffsetY:yn,verticalBorder:Be,onDragOverCell:Lt,onDrop:wt,onColumnResize:Jt,onColumnResizeEnd:Wt,onColumnResizeStart:on,customRenderers:dr,fillHandle:Ht,experimental:zt,fixedShadowX:Vt,fixedShadowY:Yt,headerIcons:tr,imageWindowLoader:ni,initialSize:fr,isDraggable:nr,onDragLeave:rr,onRowMoved:Nn,overscrollX:ri,overscrollY:oi,preventDiagonalScrolling:Gr,rightElement:Ur,rightElementProps:Xr,trapFocus:Rr=!1,smoothScrollX:Ir,smoothScrollY:hr,scaleToRem:va=!1,rowHeight:ii=34,headerHeight:ai=36,groupHeaderHeight:ba=ai,theme:Yr,isOutsideClick:gr,renderers:yo,resizeIndicator:wa,scrollToActiveCell:Co=!0,drawFocusRing:So=!0}=e,Er=So==="no-editor"?o===void 0:So,Dt=typeof e.rowMarkers=="string"?void 0:e.rowMarkers,an=(Dt==null?void 0:Dt.kind)??e.rowMarkers??"none",xo=(Dt==null?void 0:Dt.width)??e.rowMarkerWidth,ko=(Dt==null?void 0:Dt.startIndex)??e.rowMarkerStartIndex??1,Kr=(Dt==null?void 0:Dt.theme)??e.rowMarkerTheme,or=Dt==null?void 0:Dt.headerTheme,ir=Dt==null?void 0:Dt.headerAlwaysVisible,jr=Q!=="multi",Wn=(Dt==null?void 0:Dt.checkboxStyle)??"square",_n=Math.max(ur,20),Dr=Math.max(gt,_n),li=Math.max(er??Dr,_n),Mo=d.useMemo(()=>typeof window>"u"?{fontSize:"16px"}:window.getComputedStyle(document.documentElement),[]),{rows:De,rowNumberMapper:si,rowHeight:ci,getRowThemeOverride:Cn}=Mg(Ae,y,ii,p),ui=d.useMemo(()=>Number.parseFloat(Mo.fontSize),[Mo]),{rowHeight:On,headerHeight:Ro,groupHeaderHeight:di,theme:fi,overscrollX:ya,overscrollY:Ca}=Sg({groupHeaderHeight:ba,headerHeight:ai,overscrollX:ri,overscrollY:oi,remSize:ui,rowHeight:ci,scaleToRem:va,theme:Yr}),Sn=xg(ht),mr=xo??(y>1e4?48:y>1e3?44:y>100?36:32),xn=an!=="none",z=xn?1:0,kt=ze!==void 0,pr=(Se==null?void 0:Se.sticky)===!0,[qr,Zr]=d.useState(!1),Io=Ft??qr,Sa=d.useCallback(()=>{Tt!==void 0?Tt():Zr(!1)},[Tt]),B=d.useMemo(()=>St===void 0?void 0:Ei(St,z),[St,z])??n,_t=d.useRef();_t.current===void 0&&(_t.current=new AbortController),d.useEffect(()=>()=>_t==null?void 0:_t.current.abort(),[]);const[Gt,xa]=ag(J,S,z,_t.current,De),T=d.useCallback((v,M,k)=>{if(ke===void 0)return!0;const $=[v[0]-z,v[1]];return ke==null?void 0:ke($,M,k)},[z,ke]),K=d.useRef(St),ie=d.useCallback((v,M)=>{M&&(v=hg(v,Gt,z,q,_t.current)),Vn!==void 0?(K.current=Ei(v,-z),Vn(K.current)):r(v)},[Vn,Gt,z,q]),ae=zr(Jt,d.useCallback((v,M,k,$)=>{Jt==null||Jt(w[k-z],M,k-z,$)},[Jt,z,w])),ee=zr(Wt,d.useCallback((v,M,k,$)=>{Wt==null||Wt(w[k-z],M,k-z,$)},[Wt,z,w])),se=zr(on,d.useCallback((v,M,k,$)=>{on==null||on(w[k-z],M,k-z,$)},[on,z,w])),He=zr(x,d.useCallback((v,M)=>(x==null?void 0:x({...v,columnIndex:v.columnIndex-z},M))??!1,[x,z])),$e=zr(L,d.useCallback((v,M)=>(L==null?void 0:L({...v,col:v.col-z},M))??!1,[L,z])),de=d.useCallback(v=>{if(be!==void 0){const M=be(Ei(v,-z));return typeof M=="boolean"?M:Ei(M,z)}return!0},[be,z]),[ot,le,Oe]=ig(B,ie,Ue,Fe,Le,vt,O),Ie=d.useMemo(()=>sr(Hc(),fi),[fi]),[Xe,Bt]=d.useState([0,0,0]),ln=d.useMemo(()=>{if(yo===void 0)return{};const v={};for(const M of yo)v[M.kind]=M;return v},[yo]),Qe=d.useCallback(v=>v.kind!==X.Custom?ln[v.kind]:dr==null?void 0:dr.find(M=>M.isMatch(v)),[dr,ln]);let{sizedColumns:Rt,nonGrowWidth:Pn}=Tf(w,De,xa,Xe[0]-(z===0?0:mr)-Xe[2],_n,li,Ie,Qe,_t.current);an!=="none"&&(Pn+=mr);const nn=d.useMemo(()=>Rt.some(v=>v.group!==void 0),[Rt]),st=nn?Ro+di:Ro,sn=B.rows.length,gn=an==="none"?void 0:sn===0?!1:sn===De?!0:void 0,et=d.useMemo(()=>an==="none"?Rt:[{title:"",width:mr,icon:void 0,hasMenu:!1,style:"normal",themeOverride:Kr,rowMarker:Wn,rowMarkerChecked:gn,headerRowMarkerTheme:or,headerRowMarkerAlwaysVisible:ir,headerRowMarkerDisabled:jr},...Rt],[an,Rt,mr,Kr,Wn,gn,or,ir,jr]),Ot=d.useRef({height:1,width:1,x:0,y:0}),vr=d.useRef(!1),{setVisibleRegion:br,visibleRegion:Or,scrollRef:mt}=Eg(wn,yn,On,Ot,()=>vr.current=!0);Ot.current=Or;const rd=Or.x+z,hi=Or.y,cn=d.useRef(null),rn=d.useCallback(v=>{var M;v===!0?(M=cn.current)==null||M.focus():window.requestAnimationFrame(()=>{var k;(k=cn.current)==null||k.focus()})},[]),Qt=kt?De+1:De,kn=d.useCallback(v=>{const M=z===0?v:v.map($=>({...$,location:[$.location[0]-z,$.location[1]]})),k=ce==null?void 0:ce(M);if(k!==!0)for(const $ of M)Z==null||Z($.location,$.value);return k},[Z,ce,z]),[Pr,ka]=d.useState(),gi=B.current!==void 0&&B.current.range.width*B.current.range.height>1?B.current.range:void 0,Jr=Er?(es=B.current)==null?void 0:es.cell:void 0,mi=Jr==null?void 0:Jr[0],pi=Jr==null?void 0:Jr[1],od=d.useMemo(()=>{if((Mt===void 0||Mt.length===0)&&(gi??mi??pi??Pr)===void 0)return;const v=[];if(Mt!==void 0)for(const M of Mt){const k=et.length-M.range.x-z;k>0&&v.push({color:M.color,range:{...M.range,x:M.range.x+z,width:Math.min(k,M.range.width)},style:M.style})}return Pr!==void 0&&v.push({color:Nr(Ie.accentColor,0),range:Pr,style:"dashed"}),gi!==void 0&&v.push({color:Nr(Ie.accentColor,.5),range:gi,style:"solid-outline"}),mi!==void 0&&pi!==void 0&&v.push({color:Ie.accentColor,range:{x:mi,y:pi,width:1,height:1},style:"solid-outline"}),v.length>0?v:void 0},[Pr,gi,mi,pi,Mt,et.length,Ie.accentColor,z]),Bl=d.useRef(et);Bl.current=et;const mn=d.useCallback(([v,M],k=!1)=>{var W,V,N,_,U,re,we;const $=kt&&M===Qt-1;if(v===0&&xn){if($)return Di;const oe=si(M);return oe===void 0?Di:{kind:En.Marker,allowOverlay:!1,checkboxStyle:Wn,checked:(B==null?void 0:B.rows.hasIndex(M))===!0,markerKind:an==="clickable-number"?"number":an,row:ko+oe,drawHandle:Nn!==void 0,cursor:an==="clickable-number"?"pointer":void 0}}else if($){const Ce=v===z?(Se==null?void 0:Se.hint)??"":"",fe=Bl.current[v];if(((W=fe==null?void 0:fe.trailingRowOptions)==null?void 0:W.disabled)===!0)return Di;{const Ze=((V=fe==null?void 0:fe.trailingRowOptions)==null?void 0:V.hint)??Ce,Ee=((N=fe==null?void 0:fe.trailingRowOptions)==null?void 0:N.addIcon)??(Se==null?void 0:Se.addIcon);return{kind:En.NewRow,hint:Ze,allowOverlay:!1,icon:Ee}}}else{const oe=v-z;if(k||(zt==null?void 0:zt.strict)===!0){const fe=Ot.current,Ze=fe.x>oe||oe>fe.x+fe.width||fe.y>M||M>fe.y+fe.height||M>=Ra.current,Ee=oe===((U=(_=fe.extras)==null?void 0:_.selected)==null?void 0:U[0])&&M===((re=fe.extras)==null?void 0:re.selected[1]);let ye=!1;if(((we=fe.extras)==null?void 0:we.freezeRegions)!==void 0){for(const it of fe.extras.freezeRegions)if(Vr(it,oe,M)){ye=!0;break}}if(Ze&&!Ee&&!ye)return Di}let Ce=S([oe,M]);return z!==0&&Ce.span!==void 0&&(Ce={...Ce,span:[Ce.span[0]+z,Ce.span[1]+z]}),Ce}},[kt,Qt,xn,si,Wn,B==null?void 0:B.rows,an,ko,Nn,z,Se==null?void 0:Se.hint,Se==null?void 0:Se.addIcon,zt==null?void 0:zt.strict,S]),Ma=d.useCallback(v=>{let M=(rt==null?void 0:rt(v))??{name:v};return ne!==void 0&&v!==""&&(M={icon:M.icon,name:M.name,overrideTheme:M.overrideTheme,actions:[...M.actions??[],{title:"Rename",icon:"renameIcon",onClick:k=>Ea({group:M.name,bounds:k.bounds})}]}),M},[rt,ne]),vi=d.useCallback(v=>{var N;const[M,k]=v.cell,$=et[M],A=($==null?void 0:$.group)!==void 0?(N=Ma($.group))==null?void 0:N.overrideTheme:void 0,W=$==null?void 0:$.themeOverride,V=Cn==null?void 0:Cn(k);i({...v,theme:sr(Ie,A,W,V,v.content.themeOverride)})},[Cn,et,Ma,Ie]),Qr=d.useCallback((v,M,k)=>{var V;if(B.current===void 0)return;const[$,A]=B.current.cell,W=mn([$,A]);if(W.kind!==X.Boolean&&W.allowOverlay){let N=W;if(k!==void 0)switch(N.kind){case X.Number:{const _=Yd(()=>k==="-"?-0:Number.parseFloat(k),0);N={...N,data:Number.isNaN(_)?0:_};break}case X.Text:case X.Markdown:case X.Uri:N={...N,data:k};break}vi({target:v,content:N,initialValue:k,cell:[$,A],highlight:k===void 0,forceEditMode:k!==void 0})}else W.kind===X.Boolean&&M&&W.readonly!==!0&&(kn([{location:B.current.cell,value:{...W,data:Zc(W.data)}}]),(V=cn.current)==null||V.damage([{cell:B.current.cell}]))},[mn,B,kn,vi]),Nl=d.useCallback((v,M)=>{var A;const k=(A=cn.current)==null?void 0:A.getBounds(v,M);if(k===void 0||mt.current===null)return;const $=mn([v,M]);$.allowOverlay&&vi({target:k,content:$,initialValue:void 0,highlight:!0,cell:[v,M],forceEditMode:!0})},[mn,mt,vi]),At=d.useCallback((v,M,k="both",$=0,A=0,W=void 0)=>{if(mt.current!==null){const V=cn.current,N=s.current,_=typeof v!="number"?v.unit==="cell"?v.amount:void 0:v,U=typeof M!="number"?M.unit==="cell"?M.amount:void 0:M,re=typeof v!="number"&&v.unit==="px"?v.amount:void 0,we=typeof M!="number"&&M.unit==="px"?M.amount:void 0;if(V!==null&&N!==null){let oe={x:0,y:0,width:0,height:0},Ce=0,fe=0;if((_!==void 0||U!==void 0)&&(oe=V.getBounds((_??0)+z,U??0)??oe,oe.width===0||oe.height===0))return;const Ze=N.getBoundingClientRect(),Ee=Ze.width/N.offsetWidth;if(re!==void 0&&(oe={...oe,x:re-Ze.left-mt.current.scrollLeft,width:1}),we!==void 0&&(oe={...oe,y:we+Ze.top-mt.current.scrollTop,height:1}),oe!==void 0){const ye={x:oe.x-$,y:oe.y-A,width:oe.width+2*$,height:oe.height+2*A};let it=0;for(let Ha=0;Ha<Re;Ha++)it+=Rt[Ha].width;let yt=0;const $t=xt+(pr?1:0);$t>0&&(yt=_r(Qt,$t,On));let Ln=it*Ee+Ze.left+z*mr*Ee,Un=Ze.right,Hn=Ze.top+st*Ee,Xn=Ze.bottom-yt*Ee;const ki=oe.width+$*2;switch(W==null?void 0:W.hAlign){case"start":Un=Ln+ki;break;case"end":Ln=Un-ki;break;case"center":Ln=Math.floor((Ln+Un)/2)-ki/2,Un=Ln+ki;break}const Mi=oe.height+A*2;switch(W==null?void 0:W.vAlign){case"start":Xn=Hn+Mi;break;case"end":Hn=Xn-Mi;break;case"center":Hn=Math.floor((Hn+Xn)/2)-Mi/2,Xn=Hn+Mi;break}Ln>ye.x?Ce=ye.x-Ln:Un<ye.x+ye.width&&(Ce=ye.x+ye.width-Un),Hn>ye.y?fe=ye.y-Hn:Xn<ye.y+ye.height&&(fe=ye.y+ye.height-Xn),k==="vertical"||typeof v=="number"&&v<Re?Ce=0:(k==="horizontal"||typeof M=="number"&&M>=Qt-$t)&&(fe=0),(Ce!==0||fe!==0)&&(Ee!==1&&(Ce/=Ee,fe/=Ee),mt.current.scrollTo(Ce+mt.current.scrollLeft,fe+mt.current.scrollTop))}}}},[z,xt,mr,mt,st,Re,Rt,Qt,pr,On]),Wl=d.useRef(Nl),_l=d.useRef(S),Ra=d.useRef(De);Wl.current=Nl,_l.current=S,Ra.current=De;const eo=d.useCallback(async(v,M=!0)=>{var _;const k=et[v];if(((_=k==null?void 0:k.trailingRowOptions)==null?void 0:_.disabled)===!0)return;const $=ze==null?void 0:ze();let A,W=!0;$!==void 0&&(A=await $,A==="top"&&(W=!1),typeof A=="number"&&(W=!1));let V=0;const N=()=>{if(Ra.current<=De){V<500&&window.setTimeout(N,V),V=50+V*2;return}const U=typeof A=="number"?A:W?De:0;xi.current(v-z,U),ot({cell:[v,U],range:{x:v,y:U,width:1,height:1}},!1,!1,"edit");const re=_l.current([v-z,U]);re.allowOverlay&&Wo(re)&&re.readonly!==!0&&M&&window.setTimeout(()=>{Wl.current(v,U)},0)};N()},[et,ze,z,De,ot]),bi=d.useCallback(v=>{var k,$;const M=(($=(k=Rt[v])==null?void 0:k.trailingRowOptions)==null?void 0:$.targetColumn)??(Se==null?void 0:Se.targetColumn);if(typeof M=="number")return M+(xn?1:0);if(typeof M=="object"){const A=w.indexOf(M);if(A>=0)return A+(xn?1:0)}},[Rt,w,xn,Se==null?void 0:Se.targetColumn]),wr=d.useRef(),to=d.useRef(),Do=d.useCallback((v,M)=>{var A;const[k,$]=M;return sr(Ie,(A=et[k])==null?void 0:A.themeOverride,Cn==null?void 0:Cn($),v.themeOverride)},[Cn,et,Ie]),{mapper:Tr}=Rg(Ae,y),Tn=Ae==null?void 0:Ae.navigationBehavior,Oo=d.useCallback(v=>{var re,we,oe;const M=Gi.value?v.metaKey:v.ctrlKey,k=M&&Q==="multi",$=M&&nt==="multi",[A,W]=v.location,V=B.columns,N=B.rows,[_,U]=((re=B.current)==null?void 0:re.cell)??[];if(v.kind==="cell"){if(to.current=void 0,Fr.current=[A,W],A===0&&xn){if(kt===!0&&W===De||an==="number"||Q==="none")return;const Ce=mn(v.location);if(Ce.kind!==En.Marker)return;if(Nn!==void 0){const Ee=Qe(Ce);pn((Ee==null?void 0:Ee.kind)===En.Marker);const ye=(we=Ee==null?void 0:Ee.onClick)==null?void 0:we.call(Ee,{...v,cell:Ce,posX:v.localEventX,posY:v.localEventY,bounds:v.bounds,theme:Do(Ce,v.location),preventDefault:()=>{}});if(ye===void 0||ye.checked===Ce.checked)return}i(void 0),rn();const fe=N.hasIndex(W),Ze=wr.current;if(Q==="multi"&&(v.shiftKey||v.isLongTouch===!0)&&Ze!==void 0&&N.hasIndex(Ze)){const Ee=[Math.min(Ze,W),Math.max(Ze,W)+1];k||qe==="multi"?le(void 0,Ee,!0):le(dt.fromSingleSelection(Ee),void 0,k)}else Q==="multi"&&(k||v.isTouch||qe==="multi")?fe?le(N.remove(W),void 0,!0):(le(void 0,W,!0),wr.current=W):fe&&N.length===1?le(dt.empty(),void 0,M):(le(dt.fromSingleSelection(W),void 0,M),wr.current=W)}else if(A>=z&&kt&&W===De){const Ce=bi(A);eo(Ce??A)}else if(_!==A||U!==W){const Ce=mn(v.location),fe=Qe(Ce);if((fe==null?void 0:fe.onSelect)!==void 0){let ye=!1;if(fe.onSelect({...v,cell:Ce,posX:v.localEventX,posY:v.localEventY,bounds:v.bounds,preventDefault:()=>ye=!0,theme:Do(Ce,v.location)}),ye)return}if(Tn==="block"&&Tr(W).isGroupHeader)return;const Ze=pr&&W===De,Ee=pr&&B!==void 0&&((oe=B.current)==null?void 0:oe.cell[1])===De;if((v.shiftKey||v.isLongTouch===!0)&&_!==void 0&&U!==void 0&&B.current!==void 0&&!Ee){if(Ze)return;const ye=Math.min(A,_),it=Math.max(A,_),yt=Math.min(W,U),$t=Math.max(W,U);ot({...B.current,range:{x:ye,y:yt,width:it-ye+1,height:$t-yt+1}},!0,M,"click"),wr.current=void 0,rn()}else ot({cell:[A,W],range:{x:A,y:W,width:1,height:1}},!0,M,"click"),wr.current=void 0,i(void 0),rn()}}else if(v.kind==="header")if(Fr.current=[A,W],i(void 0),xn&&A===0)wr.current=void 0,to.current=void 0,Q==="multi"&&(N.length!==De?le(dt.fromSingleSelection([0,De]),void 0,M):le(dt.empty(),void 0,M),rn());else{const Ce=to.current;if(nt==="multi"&&(v.shiftKey||v.isLongTouch===!0)&&Ce!==void 0&&V.hasIndex(Ce)){const fe=[Math.min(Ce,A),Math.max(Ce,A)+1];$?Oe(void 0,fe,M):Oe(dt.fromSingleSelection(fe),void 0,M)}else $?(V.hasIndex(A)?Oe(V.remove(A),void 0,M):Oe(void 0,A,M),to.current=A):nt!=="none"&&(Oe(dt.fromSingleSelection(A),void 0,M),to.current=A);wr.current=void 0,rn()}else v.kind===In?Fr.current=[A,W]:v.kind===Ui&&!v.isMaybeScrollbar&&(ie(Oi,!1),i(void 0),rn(),Et==null||Et(),wr.current=void 0,to.current=void 0)},[Q,nt,B,xn,z,kt,De,an,mn,Nn,rn,qe,Qe,Do,le,bi,eo,Tn,Tr,pr,ot,Oe,ie,Et]),Po=d.useRef(!1),Fr=d.useRef(),Gl=d.useRef(Or),Mn=d.useRef(),id=d.useCallback(v=>{if(no.current=!1,Gl.current=Ot.current,v.button!==0&&v.button!==1){Mn.current=void 0;return}const M=performance.now();Mn.current={button:v.button,time:M,location:v.location},(v==null?void 0:v.kind)==="header"&&(Po.current=!0);const k=v.kind==="cell"&&v.isFillHandle;!k&&v.kind!=="cell"&&v.isEdge||(c({previousSelection:B,fillHandle:k}),Fr.current=void 0,!v.isTouch&&v.button===0&&!k?Oo(v):!v.isTouch&&v.button===1&&(Fr.current=v.location))},[B,Oo]),[Ia,Ea]=d.useState(),Ul=d.useCallback(v=>{if(v.kind!==In||nt!=="multi")return;const M=Gi.value?v.metaKey:v.ctrlKey,[k]=v.location,$=B.columns;if(k<z)return;const A=et[k];let W=k,V=k;for(let N=k-1;N>=z&&Ko(A.group,et[N].group);N--)W--;for(let N=k+1;N<et.length&&Ko(A.group,et[N].group);N++)V++;if(rn(),M)if($.hasAll([W,V+1])){let N=$;for(let _=W;_<=V;_++)N=N.remove(_);Oe(N,void 0,M)}else Oe(void 0,[W,V+1],M);else Oe(dt.fromSingleSelection([W,V+1]),void 0,M)},[nt,rn,B.columns,et,z,Oe]),no=d.useRef(!1),wi=d.useCallback(async v=>{if(Gt!==void 0&&ae!==void 0){const M=Ot.current.y,k=Ot.current.height;let $=Gt({x:v,y:M,width:1,height:Math.min(k,De-M)},_t.current.signal);typeof $!="object"&&($=await $());const A=Rt[v-z],V=document.createElement("canvas").getContext("2d",{alpha:!1});if(V!==null){V.font=Ie.baseFontFull;const N=zc(V,Ie,A,0,$,_n,Dr,!1,Qe);ae==null||ae(A,N.width,v,N.width)}}},[Rt,Gt,Dr,Ie,_n,ae,z,De,Qe]),[ad,Da]=d.useState(),ro=d.useCallback(async(v,M)=>{var N,_;const k=(N=v.current)==null?void 0:N.range;if(k===void 0||Gt===void 0||M.current===void 0)return;const $=M.current.range;if(R!==void 0){let U=!1;if(R({fillDestination:{...$,x:$.x-z},patternSource:{...k,x:k.x-z},preventDefault:()=>U=!0}),U)return}let A=Gt(k,_t.current.signal);typeof A!="object"&&(A=await A());const W=A,V=[];for(let U=0;U<$.width;U++)for(let re=0;re<$.height;re++){const we=[$.x+U,$.y+re];if(Mc(we,k))continue;const oe=W[re%k.height][U%k.width];so(oe)||!Wo(oe)||V.push({location:we,value:{...oe}})}kn(V),(_=cn.current)==null||_.damage(V.map(U=>({cell:U.location})))},[Gt,kn,R,z]),Xl=d.useCallback(()=>{if(B.current===void 0||B.current.range.width<=1)return;const v={...B,current:{...B.current,range:{...B.current.range,width:1}}};ro(v,B)},[ro,B]),Yl=d.useCallback(()=>{if(B.current===void 0||B.current.range.height<=1)return;const v={...B,current:{...B.current,range:{...B.current.range,height:1}}};ro(v,B)},[ro,B]),ld=d.useCallback((v,M)=>{var re,we;const k=l;if(c(void 0),ka(void 0),Da(void 0),Po.current=!1,M)return;if((k==null?void 0:k.fillHandle)===!0&&B.current!==void 0&&((re=k.previousSelection)==null?void 0:re.current)!==void 0){if(Pr===void 0)return;const oe={...B,current:{...B.current,range:_c(k.previousSelection.current.range,Pr)}};ro(k.previousSelection,oe),ie(oe,!0);return}const[$,A]=v.location,[W,V]=Fr.current??[],N=()=>{no.current=!0},_=oe=>{var fe,Ze,Ee;const Ce=oe.isTouch||W===$&&V===A;if(Ce&&(E==null||E([$-z,A],{...oe,preventDefault:N})),oe.button===1)return!no.current;if(!no.current){const ye=mn(v.location),it=Qe(ye);if(it!==void 0&&it.onClick!==void 0&&Ce){const $t=it.onClick({...oe,cell:ye,posX:oe.localEventX,posY:oe.localEventY,bounds:oe.bounds,theme:Do(ye,v.location),preventDefault:N});$t!==void 0&&!so($t)&&lo($t)&&(kn([{location:oe.location,value:$t}]),(fe=cn.current)==null||fe.damage([{cell:oe.location}]))}if(no.current||B.current===void 0)return!1;let yt=!1;switch(ye.activationBehaviorOverride??lt){case"double-click":case"second-click":{if(((Ee=(Ze=k==null?void 0:k.previousSelection)==null?void 0:Ze.current)==null?void 0:Ee.cell)===void 0)break;const[$t,Ln]=B.current.cell,[Un,Hn]=k.previousSelection.current.cell;yt=$===$t&&$===Un&&A===Ln&&A===Hn&&(oe.isDoubleClick===!0||lt==="second-click");break}case"single-click":{yt=!0;break}}if(yt)return D==null||D([$-z,A]),Qr(oe.bounds,!1),!0}return!1},U=v.location[0]-z;if(v.isTouch){const oe=Ot.current,Ce=Gl.current;if(oe.x!==Ce.x||oe.y!==Ce.y)return;if(v.isLongTouch===!0){if(v.kind==="cell"&&Go((we=B.current)==null?void 0:we.cell,v.location)){te==null||te([U,v.location[1]],{...v,preventDefault:N});return}else if(v.kind==="header"&&B.columns.hasIndex($)){me==null||me(U,{...v,preventDefault:N});return}else if(v.kind===In){if(U<0)return;Y==null||Y(U,{...v,preventDefault:N});return}}v.kind==="cell"?_(v)||Oo(v):v.kind===In?j==null||j(U,{...v,preventDefault:N}):(v.kind===xr&&(P==null||P(U,{...v,preventDefault:N})),Oo(v));return}if(v.kind==="header"){if(U<0)return;v.isEdge?v.isDoubleClick===!0&&wi($):v.button===0&&$===W&&A===V&&(P==null||P(U,{...v,preventDefault:N}))}if(v.kind===In){if(U<0)return;v.button===0&&$===W&&A===V&&(j==null||j(U,{...v,preventDefault:N}),no.current||Ul(v))}v.kind==="cell"&&(v.button===0||v.button===1)&&_(v),Fr.current=void 0},[l,B,z,Pr,ro,ie,E,mn,Qe,lt,Do,kn,D,Qr,te,me,Y,Oo,j,P,wi,Ul]),sd=d.useCallback(v=>{const M={...v,location:[v.location[0]-z,v.location[1]]};_e==null||_e(M),l!==void 0&&v.buttons===0&&(c(void 0),ka(void 0),Da(void 0),Po.current=!1),Da(k=>{var $;return Po.current?[v.scrollEdge[0],0]:v.scrollEdge[0]===(k==null?void 0:k[0])&&v.scrollEdge[1]===k[1]?k:l===void 0||((($=Mn.current)==null?void 0:$.location[0])??0)<z?void 0:v.scrollEdge})},[l,_e,z]),cd=d.useCallback((v,M)=>{Je==null||Je(v-z,M)},[Je,z]),ud=d.useCallback((v,M)=>{bt==null||bt(v-z,M)},[bt,z]),Gn=(ts=B==null?void 0:B.current)==null?void 0:ts.cell,dd=d.useCallback((v,M,k,$,A,W)=>{vr.current=!1;let V=Gn;V!==void 0&&(V=[V[0]-z,V[1]]);const N=Re===0?void 0:{x:0,y:v.y,width:Re,height:v.height},_=[];N!==void 0&&_.push(N),xt>0&&(_.push({x:v.x-z,y:De-xt,width:v.width,height:xt}),Re>0&&_.push({x:0,y:De-xt,width:Re,height:xt}));const U={x:v.x-z,y:v.y,width:v.width,height:kt&&v.y+v.height>=De?v.height-1:v.height,tx:A,ty:W,extras:{selected:V,freezeRegion:N,freezeRegions:_}};Ot.current=U,br(U),Bt([M,k,$]),qt==null||qt(U,U.tx,U.ty,U.extras)},[Gn,z,kt,De,Re,xt,br,qt]),fd=zr(Ke,d.useCallback((v,M)=>{Ke==null||Ke(v-z,M-z),nt!=="none"&&Oe(dt.fromSingleSelection(M),void 0,!0)},[nt,Ke,z,Oe])),Oa=d.useRef(!1),hd=d.useCallback(v=>{if(v.location[0]===0&&z>0){v.preventDefault();return}je==null||je({...v,location:[v.location[0]-z,v.location[1]]}),v.defaultPrevented()||(Oa.current=!0),c(void 0)},[je,z]),gd=d.useCallback(()=>{Oa.current=!1},[]),Kl=Ae==null?void 0:Ae.selectionBehavior,yi=d.useCallback(v=>{if(Kl!=="block-spanning")return;const{isGroupHeader:M,path:k,groupRows:$}=Tr(v);if(M)return[v,v];const A=k[k.length-1],W=v-A,V=v+$-A-1;return[W,V]},[Tr,Kl]),Pa=d.useRef(),Ta=d.useCallback(v=>{var M,k,$;if(!jc(v,Pa.current)&&(Pa.current=v,!(((M=Mn==null?void 0:Mn.current)==null?void 0:M.button)!==void 0&&Mn.current.button>=1))){if(v.buttons!==0&&l!==void 0&&((k=Mn.current)==null?void 0:k.location[0])===0&&v.location[0]===0&&z===1&&Q==="multi"&&l.previousSelection&&!l.previousSelection.rows.hasIndex(Mn.current.location[1])&&B.rows.hasIndex(Mn.current.location[1])){const A=Math.min(Mn.current.location[1],v.location[1]),W=Math.max(Mn.current.location[1],v.location[1])+1;le(dt.fromSingleSelection([A,W]),void 0,!1)}if(v.buttons!==0&&l!==void 0&&B.current!==void 0&&!Oa.current&&!Po.current&&(vt==="rect"||vt==="multi-rect")){const[A,W]=B.current.cell;let[V,N]=v.location;if(N<0&&(N=Ot.current.y),l.fillHandle===!0&&(($=l.previousSelection)==null?void 0:$.current)!==void 0){const _=l.previousSelection.current.range;N=Math.min(N,kt?De-1:De);const U=uh(_,V,N,Bn);ka(U)}else{if(kt&&W===De)return;if(kt&&N===De)if(v.kind===Ui)N--;else return;V=Math.max(V,z);const re=yi(W);N=re===void 0?N:Rn(N,re[0],re[1]);const we=V-A,oe=N-W,Ce={x:we>=0?A:V,y:oe>=0?W:N,width:Math.abs(we)+1,height:Math.abs(oe)+1};ot({...B.current,range:Ce},!0,!1,"drag")}}Xt==null||Xt({...v,location:[v.location[0]-z,v.location[1]]})}},[l,z,Q,B,vt,Xt,le,kt,De,Bn,yi,ot]),md=d.useCallback(()=>{var V,N;const v=Pa.current;if(v===void 0)return;const[M,k]=v.scrollEdge;let[$,A]=v.location;const W=Ot.current;M===-1?$=((N=(V=W.extras)==null?void 0:V.freezeRegion)==null?void 0:N.x)??W.x:M===1&&($=W.x+W.width),k===-1?A=Math.max(0,W.y):k===1&&(A=Math.min(De-1,W.y+W.height)),$=Rn($,0,et.length-1),A=Rn(A,0,De-1),Ta({...v,location:[$,A]})},[et.length,Ta,De]);Cg(ad,mt,md);const Fn=d.useCallback(v=>{if(B.current===void 0)return;const[M,k]=v,[$,A]=B.current.cell,W=B.current.range;let V=W.x,N=W.x+W.width,_=W.y,U=W.y+W.height;const[re,we]=yi(A)??[0,De-1],oe=we+1;if(k!==0)switch(k){case 2:{U=oe,_=A,At(0,U,"vertical");break}case-2:{_=re,U=A+1,At(0,_,"vertical");break}case 1:{_<A?(_++,At(0,_,"vertical")):(U=Math.min(oe,U+1),At(0,U,"vertical"));break}case-1:{U>A+1?(U--,At(0,U,"vertical")):(_=Math.max(re,_-1),At(0,_,"vertical"));break}default:Yo()}if(M!==0)if(M===2)N=et.length,V=$,At(N-1-z,0,"horizontal");else if(M===-2)V=z,N=$+1,At(V-z,0,"horizontal");else{let Ce=[];if(Gt!==void 0){const fe=Gt({x:V,y:_,width:N-V-z,height:U-_},_t.current.signal);typeof fe=="object"&&(Ce=Pg(fe))}if(M===1){let fe=!1;if(V<$){if(Ce.length>0){const Ze=qn(V+1,$+1).find(Ee=>!Ce.includes(Ee-z));Ze!==void 0&&(V=Ze,fe=!0)}else V++,fe=!0;fe&&At(V,0,"horizontal")}fe||(N=Math.min(et.length,N+1),At(N-1-z,0,"horizontal"))}else if(M===-1){let fe=!1;if(N>$+1){if(Ce.length>0){const Ze=qn(N-1,$,-1).find(Ee=>!Ce.includes(Ee-z));Ze!==void 0&&(N=Ze,fe=!0)}else N--,fe=!0;fe&&At(N-z,0,"horizontal")}fe||(V=Math.max(z,V-1),At(V-z,0,"horizontal"))}else Yo()}ot({cell:B.current.cell,range:{x:V,y:_,width:N-V,height:U-_}},!0,!1,"keyboard-select")},[Gt,yi,B,et.length,z,De,At,ot]),Fa=d.useRef(Co);Fa.current=Co;const yr=d.useCallback((v,M,k,$)=>{const A=Qt-(k?0:1);v=Rn(v,z,Rt.length-1+z),M=Rn(M,0,A);const W=Gn==null?void 0:Gn[0],V=Gn==null?void 0:Gn[1];if(v===W&&M===V)return!1;if($&&B.current!==void 0){const N=[...B.current.rangeStack];(B.current.range.width>1||B.current.range.height>1)&&N.push(B.current.range),ie({...B,current:{cell:[v,M],range:{x:v,y:M,width:1,height:1},rangeStack:N}},!0)}else ot({cell:[v,M],range:{x:v,y:M,width:1,height:1}},!0,!1,"keyboard-nav");return u.current!==void 0&&u.current[0]===v&&u.current[1]===M&&(u.current=void 0),Fa.current&&At(v-z,M),!0},[Qt,z,Rt.length,Gn,B,At,ie,ot]),pd=d.useCallback((v,M)=>{(o==null?void 0:o.cell)!==void 0&&v!==void 0&&lo(v)&&(kn([{location:o.cell,value:v}]),window.requestAnimationFrame(()=>{var A;(A=cn.current)==null||A.damage([{cell:o.cell}])})),rn(!0),i(void 0);const[k,$]=M;if(B.current!==void 0&&(k!==0||$!==0)){const A=B.current.cell[1]===Qt-1&&v!==void 0;yr(Rn(B.current.cell[0]+k,0,et.length-1),Rn(B.current.cell[1]+$,0,Qt-1),A,!1)}C==null||C(v,M)},[o==null?void 0:o.cell,rn,B,C,kn,Qt,yr,et.length]),vd=d.useMemo(()=>`gdg-overlay-${Og++}`,[]),Lr=d.useCallback(v=>{var k,$,A,W;rn();const M=[];for(let V=v.x;V<v.x+v.width;V++)for(let N=v.y;N<v.y+v.height;N++){const _=S([V-z,N]);if(!_.allowOverlay&&_.kind!==X.Boolean)continue;let U;if(_.kind===X.Custom){const re=Qe(_),we=(k=re==null?void 0:re.provideEditor)==null?void 0:k.call(re,_);(re==null?void 0:re.onDelete)!==void 0?U=re.onDelete(_):Kd(we)&&(U=($=we==null?void 0:we.deletedValue)==null?void 0:$.call(we,_))}else if(lo(_)&&_.allowOverlay||_.kind===X.Boolean){const re=Qe(_);U=(A=re==null?void 0:re.onDelete)==null?void 0:A.call(re,_)}U!==void 0&&!so(U)&&lo(U)&&M.push({location:[V,N],value:U})}kn(M),(W=cn.current)==null||W.damage(M.map(V=>({cell:V.location})))},[rn,S,Qe,kn,z]),To=o!==void 0,jl=d.useCallback(v=>{var Ze,Ee;const M=()=>{v.stopPropagation(),v.preventDefault()},k={didMatch:!1},{bounds:$}=v,A=B.columns,W=B.rows,V=Sn;if(!To&&Ne(V.clear,v,k))ie(Oi,!1),Et==null||Et();else if(!To&&Ne(V.selectAll,v,k))ie({columns:dt.empty(),rows:dt.empty(),current:{cell:((Ze=B.current)==null?void 0:Ze.cell)??[z,0],range:{x:z,y:0,width:w.length,height:De},rangeStack:[]}},!1);else if(Ne(V.search,v,k))(Ee=a==null?void 0:a.current)==null||Ee.focus({preventScroll:!0}),Zr(!0);else if(Ne(V.delete,v,k)){const ye=(de==null?void 0:de(B))??!0;if(ye!==!1){const it=ye===!0?B:ye;if(it.current!==void 0){Lr(it.current.range);for(const yt of it.current.rangeStack)Lr(yt)}for(const yt of it.rows)Lr({x:z,y:yt,width:w.length,height:1});for(const yt of it.columns)Lr({x:yt,y:0,width:1,height:De})}}if(k.didMatch)return M(),!0;if(B.current===void 0)return!1;let[N,_]=B.current.cell;const[,U]=B.current.cell;let re=!1,we=!1;if(Ne(V.scrollToSelectedCell,v,k)?xi.current(N-z,_):nt!=="none"&&Ne(V.selectColumn,v,k)?A.hasIndex(N)?Oe(A.remove(N),void 0,!0):nt==="single"?Oe(dt.fromSingleSelection(N),void 0,!0):Oe(void 0,N,!0):Q!=="none"&&Ne(V.selectRow,v,k)?W.hasIndex(_)?le(W.remove(_),void 0,!0):Q==="single"?le(dt.fromSingleSelection(_),void 0,!0):le(void 0,_,!0):!To&&$!==void 0&&Ne(V.activateCell,v,k)?_===De&&kt?window.setTimeout(()=>{const ye=bi(N);eo(ye??N)},0):(D==null||D([N-z,_]),Qr($,!0)):B.current.range.height>1&&Ne(V.downFill,v,k)?Yl():B.current.range.width>1&&Ne(V.rightFill,v,k)?Xl():Ne(V.goToNextPage,v,k)?_+=Math.max(1,Ot.current.height-4):Ne(V.goToPreviousPage,v,k)?_-=Math.max(1,Ot.current.height-4):Ne(V.goToFirstCell,v,k)?(i(void 0),_=0,N=0):Ne(V.goToLastCell,v,k)?(i(void 0),_=Number.MAX_SAFE_INTEGER,N=Number.MAX_SAFE_INTEGER):Ne(V.selectToFirstCell,v,k)?(i(void 0),Fn([-2,-2])):Ne(V.selectToLastCell,v,k)?(i(void 0),Fn([2,2])):To?(Ne(V.closeOverlay,v,k)&&i(void 0),Ne(V.acceptOverlayDown,v,k)&&(i(void 0),_++),Ne(V.acceptOverlayUp,v,k)&&(i(void 0),_--),Ne(V.acceptOverlayLeft,v,k)&&(i(void 0),N--),Ne(V.acceptOverlayRight,v,k)&&(i(void 0),N++)):(Ne(V.goDownCell,v,k)?_+=1:Ne(V.goUpCell,v,k)?_-=1:Ne(V.goRightCell,v,k)?N+=1:Ne(V.goLeftCell,v,k)?N-=1:Ne(V.goDownCellRetainSelection,v,k)?(_+=1,re=!0):Ne(V.goUpCellRetainSelection,v,k)?(_-=1,re=!0):Ne(V.goRightCellRetainSelection,v,k)?(N+=1,re=!0):Ne(V.goLeftCellRetainSelection,v,k)?(N-=1,re=!0):Ne(V.goToLastRow,v,k)?_=De-1:Ne(V.goToFirstRow,v,k)?_=Number.MIN_SAFE_INTEGER:Ne(V.goToLastColumn,v,k)?N=Number.MAX_SAFE_INTEGER:Ne(V.goToFirstColumn,v,k)?N=Number.MIN_SAFE_INTEGER:(vt==="rect"||vt==="multi-rect")&&(Ne(V.selectGrowDown,v,k)?Fn([0,1]):Ne(V.selectGrowUp,v,k)?Fn([0,-1]):Ne(V.selectGrowRight,v,k)?Fn([1,0]):Ne(V.selectGrowLeft,v,k)?Fn([-1,0]):Ne(V.selectToLastRow,v,k)?Fn([0,2]):Ne(V.selectToFirstRow,v,k)?Fn([0,-2]):Ne(V.selectToLastColumn,v,k)?Fn([2,0]):Ne(V.selectToFirstColumn,v,k)&&Fn([-2,0])),we=k.didMatch),Tn!==void 0&&Tn!=="normal"&&_!==U){const ye=Tn==="skip-up"||Tn==="skip"||Tn==="block",it=Tn==="skip-down"||Tn==="skip"||Tn==="block",yt=_<U;if(yt&&ye){for(;_>=0&&Tr(_).isGroupHeader;)_--;_<0&&(_=U)}else if(!yt&&it){for(;_<De&&Tr(_).isGroupHeader;)_++;_>=De&&(_=U)}}const Ce=yr(N,_,!1,re),fe=k.didMatch;return fe&&(Ce||!we||Rr)&&M(),fe},[Tn,To,B,Sn,nt,Q,vt,z,Tr,De,yr,ie,Et,w.length,de,Rr,Lr,Oe,le,kt,bi,eo,D,Qr,Yl,Xl,Fn]),Fo=d.useCallback(v=>{let M=!1;if(Ve!==void 0&&Ve({...v,cancel:()=>{M=!0}}),M||jl(v)||B.current===void 0)return;const[k,$]=B.current.cell,A=Ot.current;if(at&&!v.metaKey&&!v.ctrlKey&&B.current!==void 0&&v.key.length===1&&/[ -~]/g.test(v.key)&&v.bounds!==void 0&&Wo(S([k-z,Math.max(0,Math.min($,De-1))]))){if((!kt||$!==De)&&(A.y>$||$>A.y+A.height||A.x>k||k>A.x+A.width))return;Qr(v.bounds,!0,v.key),v.stopPropagation(),v.preventDefault()}},[at,Ve,jl,B,S,z,De,kt,Qr]),bd=d.useCallback((v,M)=>{const k=v.location[0]-z;if(v.kind==="header"&&(me==null||me(k,{...v,preventDefault:M})),v.kind===In){if(k<0)return;Y==null||Y(k,{...v,preventDefault:M})}if(v.kind==="cell"){const[$,A]=v.location;te==null||te([k,A],{...v,preventDefault:M}),mf(B,v.location)||yr($,A,!1,!1)}},[B,te,Y,me,z,yr]),La=d.useCallback(async v=>{var V,N,_;if(!Sn.paste)return;function M(U,re,we,oe){var fe,Ze;const Ce=typeof we=="object"?(we==null?void 0:we.join(`
`))??"":(we==null?void 0:we.toString())??"";if(!so(U)&&Wo(U)&&U.readonly!==!0){const Ee=I==null?void 0:I(Ce,U);if(Ee!==void 0&&lo(Ee))return{location:re,value:Ee};const ye=Qe(U);if(ye===void 0)return;if(ye.kind===X.Custom){pn(U.kind===X.Custom);const it=(fe=ye.onPaste)==null?void 0:fe.call(ye,Ce,U.data);return it===void 0?void 0:{location:re,value:{...U,data:it}}}else{const it=(Ze=ye.onPaste)==null?void 0:Ze.call(ye,Ce,U,{formatted:oe,formattedString:typeof oe=="string"?oe:oe==null?void 0:oe.join(`
`),rawValue:we});return it===void 0?void 0:(pn(it.kind===U.kind),{location:re,value:it})}}}const k=B.columns,$=B.rows,A=((V=mt.current)==null?void 0:V.contains(document.activeElement))===!0||((N=s.current)==null?void 0:N.contains(document.activeElement))===!0;let W;if(B.current!==void 0?W=[B.current.range.x,B.current.range.y]:k.length===1?W=[k.first()??0,0]:$.length===1&&(W=[z,$.first()??0]),A&&W!==void 0){let U,re;const we="text/plain",oe="text/html";if(navigator.clipboard.read!==void 0){const Ee=await navigator.clipboard.read();for(const ye of Ee){if(ye.types.includes(oe)){const yt=await(await ye.getType(oe)).text(),$t=ks(yt);if($t!==void 0){U=$t;break}}ye.types.includes(we)&&(re=await(await ye.getType(we)).text())}}else if(navigator.clipboard.readText!==void 0)re=await navigator.clipboard.readText();else if(v!==void 0&&(v==null?void 0:v.clipboardData)!==null){if(v.clipboardData.types.includes(oe)){const Ee=v.clipboardData.getData(oe);U=ks(Ee)}U===void 0&&v.clipboardData.types.includes(we)&&(re=v.clipboardData.getData(we))}else return;const[Ce,fe]=W,Ze=[];do{if(Ge===void 0){const Ee=mn(W),ye=re??(U==null?void 0:U.map(yt=>yt.map($t=>$t.rawValue).join("	")).join("	"))??"",it=M(Ee,W,ye,void 0);it!==void 0&&Ze.push(it);break}if(U===void 0){if(re===void 0)return;U=gg(re)}if(Ge===!1||typeof Ge=="function"&&(Ge==null?void 0:Ge([W[0]-z,W[1]],U.map(Ee=>Ee.map(ye=>{var it;return((it=ye.rawValue)==null?void 0:it.toString())??""}))))!==!0)return;for(const[Ee,ye]of U.entries()){if(Ee+fe>=De)break;for(const[it,yt]of ye.entries()){const $t=[it+Ce,Ee+fe],[Ln,Un]=$t;if(Ln>=et.length||Un>=Qt)continue;const Hn=mn($t),Xn=M(Hn,$t,yt.rawValue,yt.formatted);Xn!==void 0&&Ze.push(Xn)}}}while(!1);kn(Ze),(_=cn.current)==null||_.damage(Ze.map(Ee=>({cell:Ee.location})))}},[I,Qe,mn,B,Sn.paste,mt,et.length,kn,Qt,Ge,z,De]);Zt("paste",La,f,!1,!0);const Lo=d.useCallback(async(v,M)=>{var V,N;if(!Sn.copy)return;const k=M===!0||((V=mt.current)==null?void 0:V.contains(document.activeElement))===!0||((N=s.current)==null?void 0:N.contains(document.activeElement))===!0,$=B.columns,A=B.rows,W=(_,U)=>{if(!ge)Rs(_,U,v);else{const re=U.map(we=>({kind:X.Text,data:w[we].title,displayData:w[we].title,allowOverlay:!1}));Rs([re,..._],U,v)}};if(k&&Gt!==void 0){if(B.current!==void 0){let _=Gt(B.current.range,_t.current.signal);typeof _!="object"&&(_=await _()),W(_,qn(B.current.range.x-z,B.current.range.x+B.current.range.width-z))}else if(A!==void 0&&A.length>0){const U=[...A].map(re=>{const we=Gt({x:z,y:re,width:w.length,height:1},_t.current.signal);return typeof we=="object"?we[0]:we().then(oe=>oe[0])});if(U.some(re=>re instanceof Promise)){const re=await Promise.all(U);W(re,qn(w.length))}else W(U,qn(w.length))}else if($.length>0){const _=[],U=[];for(const re of $){let we=Gt({x:re,y:0,width:1,height:De},_t.current.signal);typeof we!="object"&&(we=await we()),_.push(we),U.push(re-z)}if(_.length===1)W(_[0],U);else{const re=_.reduce((we,oe)=>we.map((Ce,fe)=>[...Ce,...oe[fe]]));W(re,U)}}}},[w,Gt,B,Sn.copy,z,mt,De,ge]);Zt("copy",Lo,f,!1,!1);const wd=d.useCallback(async v=>{var k,$;if(!(!Sn.cut||!(((k=mt.current)==null?void 0:k.contains(document.activeElement))===!0||(($=s.current)==null?void 0:$.contains(document.activeElement))===!0))&&(await Lo(v),B.current!==void 0)){let A={current:{cell:B.current.cell,range:B.current.range,rangeStack:[]},rows:dt.empty(),columns:dt.empty()};const W=de==null?void 0:de(A);if(W===!1||(A=W===!0?A:W,A.current===void 0))return;Lr(A.current.range)}},[Lr,B,Sn.cut,Lo,mt,de]);Zt("cut",wd,f,!1,!1);const yd=d.useCallback((v,M)=>{if(ue!==void 0){z!==0&&(v=v.map(A=>[A[0]-z,A[1]])),ue(v,M);return}if(v.length===0||M===-1)return;const[k,$]=v[M];u.current!==void 0&&u.current[0]===k&&u.current[1]===$||(u.current=[k,$],yr(k,$,!1,!1))},[ue,z,yr]),[Ci,Si]=((ns=St==null?void 0:St.current)==null?void 0:ns.cell)??[],xi=d.useRef(At);xi.current=At,d.useLayoutEffect(()=>{var v,M,k,$;Fa.current&&!vr.current&&Ci!==void 0&&Si!==void 0&&(Ci!==((M=(v=K.current)==null?void 0:v.current)==null?void 0:M.cell[0])||Si!==(($=(k=K.current)==null?void 0:k.current)==null?void 0:$.cell[1]))&&xi.current(Ci,Si),vr.current=!1},[Ci,Si]);const ql=B.current!==void 0&&(B.current.cell[0]>=et.length||B.current.cell[1]>=Qt);d.useLayoutEffect(()=>{ql&&ie(Oi,!1)},[ql,ie]);const Cd=d.useMemo(()=>kt===!0&&(Se==null?void 0:Se.tint)===!0?dt.fromSingleSelection(Qt-1):dt.empty(),[Qt,kt,Se==null?void 0:Se.tint]),Sd=d.useCallback(v=>typeof Be=="boolean"?Be:(Be==null?void 0:Be(v-z))??!0,[z,Be]),xd=d.useMemo(()=>{if(Ia===void 0||s.current===null)return null;const{bounds:v,group:M}=Ia,k=s.current.getBoundingClientRect();return d.createElement(rg,{bounds:v,group:M,canvasBounds:k,onClose:()=>Ea(void 0),onFinish:$=>{Ea(void 0),ne==null||ne(M,$)}})},[ne,Ia]),kd=Math.min(et.length,Re+(xn?1:0));d.useImperativeHandle(t,()=>({appendRow:(v,M)=>eo(v+z,M),updateCells:v=>{var M;return z!==0&&(v=v.map(k=>({cell:[k.cell[0]+z,k.cell[1]]}))),(M=cn.current)==null?void 0:M.damage(v)},getBounds:(v,M)=>{var k;if(!((s==null?void 0:s.current)===null||(mt==null?void 0:mt.current)===null)){if(v===void 0&&M===void 0){const $=s.current.getBoundingClientRect(),A=$.width/mt.current.clientWidth;return{x:$.x-mt.current.scrollLeft*A,y:$.y-mt.current.scrollTop*A,width:mt.current.scrollWidth*A,height:mt.current.scrollHeight*A}}return(k=cn.current)==null?void 0:k.getBounds((v??0)+z,M)}},focus:()=>{var v;return(v=cn.current)==null?void 0:v.focus()},emit:async v=>{switch(v){case"delete":Fo({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!1,key:"Delete",keyCode:46,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-right":Fo({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"r",keyCode:82,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-down":Fo({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"d",keyCode:68,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"copy":await Lo(void 0,!0);break;case"paste":await La();break}},scrollTo:At,remeasureColumns:v=>{for(const M of v)wi(M+z)}}),[eo,wi,mt,Lo,Fo,La,z,At]);const[Zl,Jl]=Gn??[],Md=d.useCallback(v=>{const[M,k]=v;if(k===-1){nt!=="none"&&(Oe(dt.fromSingleSelection(M),void 0,!1),rn());return}Zl===M&&Jl===k||(ot({cell:v,range:{x:M,y:k,width:1,height:1}},!0,!1,"keyboard-nav"),At(M,k))},[nt,rn,At,Zl,Jl,ot,Oe]),[Rd,Id]=d.useState(!1),Ql=d.useRef(pc(v=>{Id(v)},5)),Ed=d.useCallback(()=>{Ql.current(!0),B.current===void 0&&B.columns.length===0&&B.rows.length===0&&l===void 0&&ot({cell:[z,hi],range:{x:z,y:hi,width:1,height:1}},!0,!1,"keyboard-select")},[hi,B,l,z,ot]),Dd=d.useCallback(()=>{Ql.current(!1)},[]),[Od,Pd]=d.useMemo(()=>{let v;const M=(zt==null?void 0:zt.scrollbarWidthOverride)??el(),k=De+(kt?1:0);if(typeof On=="number")v=st+k*On;else{let A=0;const W=Math.min(k,10);for(let V=0;V<W;V++)A+=On(V);A=Math.floor(A/W),v=st+k*A}v+=M;const $=et.reduce((A,W)=>W.width+A,0)+M;return[`${Math.min(1e5,$)}px`,`${Math.min(1e5,v)}px`]},[et,zt==null?void 0:zt.scrollbarWidthOverride,On,De,kt,st]),Td=d.useMemo(()=>Of(Ie),[Ie]);return d.createElement(Ac.Provider,{value:Ie},d.createElement(bg,{style:Td,className:pe,inWidth:g??Od,inHeight:b??Pd},d.createElement(Qh,{fillHandle:Ht,drawFocusRing:Er,experimental:zt,fixedShadowX:Vt,fixedShadowY:Yt,getRowThemeOverride:Cn,headerIcons:tr,imageWindowLoader:ni,initialSize:fr,isDraggable:nr,onDragLeave:rr,onRowMoved:Nn,overscrollX:ya,overscrollY:Ca,preventDiagonalScrolling:Gr,rightElement:Ur,rightElementProps:Xr,smoothScrollX:Ir,smoothScrollY:hr,className:pe,enableGroups:nn,onCanvasFocused:Ed,onCanvasBlur:Dd,canvasRef:s,onContextMenu:bd,theme:Ie,cellXOffset:rd,cellYOffset:hi,accessibilityHeight:Or.height,onDragEnd:gd,columns:et,nonGrowWidth:Pn,drawHeader:He,onColumnProposeMove:F,drawCell:$e,disabledRows:Cd,freezeColumns:kd,lockColumns:z,firstColAccessible:z===0,getCellContent:mn,minColumnWidth:_n,maxColumnWidth:Dr,searchInputRef:a,showSearch:Io,onSearchClose:Sa,highlightRegions:od,getCellsForSelection:Gt,getGroupDetails:Ma,headerHeight:Ro,isFocused:Rd,groupHeaderHeight:nn?di:0,freezeTrailingRows:xt+(kt&&(Se==null?void 0:Se.sticky)===!0?1:0),hasAppendRow:kt,onColumnResize:ae,onColumnResizeEnd:ee,onColumnResizeStart:se,onCellFocused:Md,onColumnMoved:fd,onDragStart:hd,onHeaderMenuClick:cd,onHeaderIndicatorClick:ud,onItemHovered:Ta,isFilling:(l==null?void 0:l.fillHandle)===!0,onMouseMove:sd,onKeyDown:Fo,onKeyUp:tt,onMouseDown:id,onMouseUp:ld,onDragOverCell:Lt,onDrop:wt,onSearchResultsChanged:yd,onVisibleRegionChanged:dd,clientSize:Xe,rowHeight:On,searchResults:G,searchValue:he,onSearchValueChange:ve,rows:Qt,scrollRef:mt,selection:B,translateX:Or.tx,translateY:Or.ty,verticalBorder:Sd,gridRef:cn,getCellRenderer:Qe,resizeIndicator:wa}),xd,o!==void 0&&d.createElement(d.Suspense,{fallback:null},d.createElement(Dg,{...o,validateCell:T,bloom:H,id:vd,getCellRenderer:Qe,className:(zt==null?void 0:zt.isSubGrid)===!0?"click-outside-ignore":void 0,provideEditor:Dn,imageEditorOverride:m,onFinishEditing:pd,markdownDivCreateNode:h,isOutsideClick:gr}))))},Fg=d.forwardRef(Tg),eu=20;function Ds(e){const{cell:t,posX:n,posY:r,bounds:o,theme:i}=e,{width:a,height:s,x:l,y:c}=o,u=t.maxSize??eu,f=Math.floor(o.y+s/2),m=Sc(u,s,i.cellVerticalPadding),p=Cc(t.contentAlign??"center",l,a,i.cellHorizontalPadding,m),h=yc(p,f,m),g=xc(l+n,c+r,h);return ml(t)&&g}const Lg={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??"false"},kind:X.Boolean,needsHover:!0,useLabel:!1,needsHoverPosition:!0,measure:()=>50,draw:e=>Hg(e,e.cell.data,ml(e.cell),e.cell.maxSize??eu,e.cell.hoverEffectIntensity??.35),onDelete:e=>({...e,data:!1}),onSelect:e=>{Ds(e)&&e.preventDefault()},onClick:e=>{if(Ds(e))return{...e.cell,data:Zc(e.cell.data)}},onPaste:(e,t)=>{let n=Ni;return e.toLowerCase()==="true"?n=!0:e.toLowerCase()==="false"?n=!1:e.toLowerCase()==="indeterminate"&&(n=gl),n===t.data?void 0:{...t,data:n}}};function Hg(e,t,n,r,o){if(!n&&t===Ni)return;const{ctx:i,hoverAmount:a,theme:s,rect:l,highlighted:c,hoverX:u,hoverY:f,cell:{contentAlign:m}}=e,{x:p,y:h,width:g,height:b}=l;let w=!1;if(o>0){let y=n?1-o+o*a:.4;if(t===Ni&&(y*=a),y===0)return;y<1&&(w=!0,i.globalAlpha=y)}Cl(i,s,t,p,h,g,b,c,u,f,r,m),w&&(i.globalAlpha=1)}const Ag=Ct("div")({name:"BubblesOverlayEditorStyle",class:"gdg-b1ygi5by",propsAsIs:!1}),$g=e=>{const{bubbles:t}=e;return d.createElement(Ag,null,t.map((n,r)=>d.createElement("div",{key:r,className:"boe-bubble"},n)),d.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},zg=$g,Vg={getAccessibilityString:e=>kc(e.data),kind:X.Bubble,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((r,o)=>e.measureText(o).width+r+20,0)+2*n.cellHorizontalPadding-4,draw:e=>Ng(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return d.createElement(zg,{bubbles:t.data})},onPaste:()=>{}},Bg=4;function Ng(e,t){const{rect:n,theme:r,ctx:o,highlighted:i}=e,{x:a,y:s,width:l,height:c}=n,u=20,f=8,m=Bg;let p=a+r.cellHorizontalPadding;const h=[];for(const g of t){if(p>a+l)break;const b=fn(g,o,r.baseFontFull).width;h.push({x:p,width:b}),p+=b+f*2+m}o.beginPath();for(const g of h)$n(o,g.x,s+(c-u)/2,g.width+f*2,u,r.roundingRadius??u/2);o.fillStyle=i?r.bgBubbleSelected:r.bgBubble,o.fill();for(const[g,b]of h.entries())o.beginPath(),o.fillStyle=r.textBubble,o.fillText(t[g],b.x+f,s+c/2+Kt(o,r))}const Wg=Ct("div")({name:"DrilldownOverlayEditorStyle",class:"gdg-d4zsq0x",propsAsIs:!1}),_g=e=>{const{drilldowns:t}=e;return d.createElement(Wg,null,t.map((n,r)=>d.createElement("div",{key:r,className:"doe-bubble"},n.img!==void 0&&d.createElement("img",{src:n.img}),d.createElement("div",null,n.text))))},Gg=_g,Ug={getAccessibilityString:e=>kc(e.data.map(t=>t.text)),kind:X.Drilldown,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((r,o)=>e.measureText(o.text).width+r+20+(o.img!==void 0?18:0),0)+2*n.cellHorizontalPadding-4,draw:e=>Kg(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return d.createElement(Gg,{drilldowns:t.data})},onPaste:()=>{}},Xg=4,Ba={};function Yg(e,t,n,r){const o=Math.ceil(window.devicePixelRatio),i=5,a=n-i*2,s=4,l=n*o,c=r+i,u=r*3,f=(u+i*2)*o,m=`${e},${t},${o},${n}`;if(Ba[m]!==void 0)return{el:Ba[m],height:l,width:f,middleWidth:s*o,sideWidth:c*o,padding:i*o,dpr:o};const p=document.createElement("canvas"),h=p.getContext("2d");return h===null?null:(p.width=f,p.height=l,h.scale(o,o),Ba[m]=p,h.beginPath(),$n(h,i,i,u,a,r),h.shadowColor="rgba(24, 25, 34, 0.4)",h.shadowBlur=1,h.fillStyle=e,h.fill(),h.shadowColor="rgba(24, 25, 34, 0.3)",h.shadowOffsetY=1,h.shadowBlur=5,h.fillStyle=e,h.fill(),h.shadowOffsetY=0,h.shadowBlur=0,h.shadowBlur=0,h.beginPath(),$n(h,i+.5,i+.5,u,a,r),h.strokeStyle=t,h.lineWidth=1,h.stroke(),{el:p,height:l,width:f,sideWidth:c*o,middleWidth:r*o,padding:i*o,dpr:o})}function Kg(e,t){const{rect:n,theme:r,ctx:o,imageLoader:i,col:a,row:s}=e,{x:l,width:c}=n,u=r.baseFontFull,f=Pc(o,u),m=Math.min(n.height,Math.max(16,Math.ceil(f*r.lineHeight)*2)),p=Math.floor(n.y+(n.height-m)/2),h=m-10,g=8,b=Xg;let w=l+r.cellHorizontalPadding;const y=r.roundingRadius??6,S=Yg(r.bgCell,r.drilldownBorder,m,y),E=[];for(const D of t){if(w>l+c)break;const C=fn(D.text,o,u).width;let I=0;D.img!==void 0&&i.loadOrGetImage(D.img,a,s)!==void 0&&(I=h-8+4);const x=C+I+g*2;E.push({x:w,width:x}),w+=x+b}if(S!==null){const{el:D,height:R,middleWidth:C,sideWidth:I,width:x,dpr:L,padding:H}=S,P=I/L,F=H/L;for(const O of E){const q=Math.floor(O.x),j=Math.floor(O.width),te=j-(P-F)*2;o.imageSmoothingEnabled=!1,o.drawImage(D,0,0,I,R,q-F,p,P,m),te>0&&o.drawImage(D,I,0,C,R,q+(P-F),p,te,m),o.drawImage(D,x-I,0,I,R,q+j-(P-F),p,P,m),o.imageSmoothingEnabled=!0}}o.beginPath();for(const[D,R]of E.entries()){const C=t[D];let I=R.x+g;if(C.img!==void 0){const x=i.loadOrGetImage(C.img,a,s);if(x!==void 0){const L=h-8;let H=0,P=0,F=x.width,O=x.height;F>O?(H+=(F-O)/2,F=O):O>F&&(P+=(O-F)/2,O=F),o.beginPath(),$n(o,I,p+m/2-L/2,L,L,r.roundingRadius??3),o.save(),o.clip(),o.drawImage(x,H,P,F,O,I,p+m/2-L/2,L,L),o.restore(),I+=L+4}}o.beginPath(),o.fillStyle=r.textBubble,o.fillText(C.text,I,p+m/2+Kt(o,r))}}const jg={getAccessibilityString:e=>e.data.join(", "),kind:X.Image,needsHover:!1,useLabel:!1,needsHoverPosition:!1,draw:e=>qg(e,e.cell.displayData??e.cell.data,e.cell.rounding??e.theme.roundingRadius??4,e.cell.contentAlign),measure:(e,t)=>t.data.length*50,onDelete:e=>({...e,data:[]}),provideEditor:()=>e=>{const{value:t,onFinishedEditing:n,imageEditorOverride:r}=e,o=r??af;return d.createElement(o,{urls:t.data,canWrite:t.readonly!==!0,onCancel:n,onChange:i=>{n({...t,data:[i]})}})},onPaste:(e,t)=>{e=e.trim();const r=e.split(",").map(o=>{try{return new URL(o),o}catch{return}}).filter(o=>o!==void 0);if(!(r.length===t.data.length&&r.every((o,i)=>o===t.data[i])))return{...t,data:r}}},Na=4;function qg(e,t,n,r){const{rect:o,col:i,row:a,theme:s,ctx:l,imageLoader:c}=e,{x:u,y:f,height:m,width:p}=o,h=m-s.cellVerticalPadding*2,g=[];let b=0;for(let y=0;y<t.length;y++){const S=t[y];if(S.length===0)continue;const E=c.loadOrGetImage(S,i,a);if(E!==void 0){g[y]=E;const D=E.width*(h/E.height);b+=D+Na}}if(b===0)return;b-=Na;let w=u+s.cellHorizontalPadding;r==="right"?w=Math.floor(u+p-s.cellHorizontalPadding-b):r==="center"&&(w=Math.floor(u+p/2-b/2));for(const y of g){if(y===void 0)continue;const S=y.width*(h/y.height);n>0&&(l.beginPath(),$n(l,w,f+s.cellVerticalPadding,S,h,n),l.save(),l.clip()),l.drawImage(y,w,f+s.cellVerticalPadding,S,h),n>0&&l.restore(),w+=S+Na}}function Zg(e,t){let n=e*49632+t*325176;return n^=n<<13,n^=n>>17,n^=n<<5,n/4294967295*2}const Jg={getAccessibilityString:()=>"",kind:X.Loading,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:()=>120,draw:e=>{const{cell:t,col:n,row:r,ctx:o,rect:i,theme:a}=e;if(t.skeletonWidth===void 0||t.skeletonWidth===0)return;let s=t.skeletonWidth;t.skeletonWidthVariability!==void 0&&t.skeletonWidthVariability>0&&(s+=Math.round(Zg(n,r)*t.skeletonWidthVariability));const l=a.cellHorizontalPadding;s+l*2>=i.width&&(s=i.width-l*2-1);const c=t.skeletonHeight??Math.min(18,i.height-2*a.cellVerticalPadding);$n(o,i.x+l,i.y+(i.height-c)/2,s,c,a.roundingRadius??3),o.fillStyle=Nr(a.textDark,.1),o.fill()},onPaste:()=>{}},Qg=()=>e=>e.targetWidth,Os=Ct("div")({name:"MarkdownOverlayEditorStyle",class:"gdg-m1pnx84e",propsAsIs:!1,vars:{"m1pnx84e-0":[Qg(),"px"]}}),e0=e=>{const{value:t,onChange:n,forceEditMode:r,createNode:o,targetRect:i,onFinish:a,validatedSelection:s}=e,l=t.data,c=t.readonly===!0,[u,f]=d.useState(l===""||r),m=d.useCallback(()=>{f(h=>!h)},[]),p=l?"gdg-ml-6":"";return u?d.createElement(Os,{targetWidth:i.width-20},d.createElement(Wr,{autoFocus:!0,highlight:!1,validatedSelection:s,value:l,onKeyDown:h=>{h.key==="Enter"&&h.stopPropagation()},onChange:n}),d.createElement("div",{className:`gdg-edit-icon gdg-checkmark-hover ${p}`,onClick:()=>a(t)},d.createElement(Jd,null))):d.createElement(Os,{targetWidth:i.width},d.createElement(sf,{contents:l,createNode:o}),!c&&d.createElement(d.Fragment,null,d.createElement("div",{className:"spacer"}),d.createElement("div",{className:`gdg-edit-icon gdg-edit-hover ${p}`,onClick:m},d.createElement(pl,null))),d.createElement("textarea",{className:"gdg-md-edit-textarea gdg-input",autoFocus:!0}))},t0={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:X.Markdown,needsHover:!1,needsHoverPosition:!1,drawPrep:ei,measure:(e,t,n)=>{const r=t.data.split(`
`)[0];return e.measureText(r).width+2*n.cellHorizontalPadding},draw:e=>Zn(e,e.cell.data,e.cell.contentAlign),onDelete:e=>({...e,data:""}),provideEditor:()=>e=>{const{onChange:t,value:n,target:r,onFinishedEditing:o,markdownDivCreateNode:i,forceEditMode:a,validatedSelection:s}=e;return d.createElement(e0,{onFinish:o,targetRect:r,value:n,validatedSelection:s,onChange:l=>t({...n,data:l.target.value}),forceEditMode:a,createNode:i})},onPaste:(e,t)=>e===t.data?void 0:{...t,data:e}},n0={getAccessibilityString:e=>e.row.toString(),kind:En.Marker,needsHover:!0,needsHoverPosition:!1,drawPrep:r0,measure:()=>44,draw:e=>i0(e,e.cell.row,e.cell.checked,e.cell.markerKind,e.cell.drawHandle,e.cell.checkboxStyle),onClick:e=>{const{bounds:t,cell:n,posX:r,posY:o}=e,{width:i,height:a}=t,s=n.drawHandle?7+(i-7)/2:i/2,l=a/2;if(Math.abs(r-s)<=10&&Math.abs(o-l)<=10)return{...n,checked:!n.checked}},onPaste:()=>{}};function r0(e,t){const{ctx:n,theme:r}=e,o=r.markerFontFull,i=t??{};return(i==null?void 0:i.font)!==o&&(n.font=o,i.font=o),i.deprep=o0,n.textAlign="center",i}function o0(e){const{ctx:t}=e;t.textAlign="start"}function i0(e,t,n,r,o,i){const{ctx:a,rect:s,hoverAmount:l,theme:c}=e,{x:u,y:f,width:m,height:p}=s,h=n?1:r==="checkbox-visible"?.6+.4*l:l;if(r!=="number"&&h>0){a.globalAlpha=h;const g=7*(n?l:1);if(Cl(a,c,n,o?u+g:u,f,o?m-g:m,p,!0,void 0,void 0,18,"center",i),o){a.globalAlpha=l,a.beginPath();for(const b of[3,6])for(const w of[-5,-1,3])a.rect(u+b,f+p/2+w,2,2);a.fillStyle=c.textLight,a.fill(),a.beginPath()}a.globalAlpha=1}if(r==="number"||r==="both"&&!n){const g=t.toString(),b=c.markerFontFull,w=u+m/2;r==="both"&&l!==0&&(a.globalAlpha=1-l),a.fillStyle=c.textLight,a.font=b,a.fillText(g,w,f+p/2+Kt(a,b)),l!==0&&(a.globalAlpha=1)}}const a0={getAccessibilityString:()=>"",kind:En.NewRow,needsHover:!0,needsHoverPosition:!1,measure:()=>200,draw:e=>l0(e,e.cell.hint,e.cell.icon),onPaste:()=>{}};function l0(e,t,n){const{ctx:r,rect:o,hoverAmount:i,theme:a,spriteManager:s}=e,{x:l,y:c,width:u,height:f}=o;r.beginPath(),r.globalAlpha=i,r.rect(l+1,c+1,u,f-2),r.fillStyle=a.bgHeaderHovered,r.fill(),r.globalAlpha=1,r.beginPath();const m=t!=="";let p=0;if(n!==void 0){const g=f-8,b=l+8/2,w=c+8/2;s.drawSprite(n,"normal",r,b,w,g,a,m?1:i),p=g}else{p=24;const h=12,g=m?h:i*h,b=m?0:(1-i)*h*.5,w=a.cellHorizontalPadding+4;g>0&&(r.moveTo(l+w+b,c+f/2),r.lineTo(l+w+b+g,c+f/2),r.moveTo(l+w+b+g*.5,c+f/2-g*.5),r.lineTo(l+w+b+g*.5,c+f/2+g*.5),r.lineWidth=2,r.strokeStyle=a.bgIconHeader,r.lineCap="round",r.stroke())}r.fillStyle=a.textMedium,r.fillText(t,p+l+a.cellHorizontalPadding+.5,c+f/2+Kt(r,a)),r.beginPath()}function tu(e,t,n,r,o,i,a){e.textBaseline="alphabetic";const s=s0(e,o,r,t,(n==null?void 0:n.fullSize)??!1);e.beginPath(),$n(e,s.x,s.y,s.width,s.height,t.roundingRadius??4),e.globalAlpha=i,e.fillStyle=(n==null?void 0:n.bgColor)??Nr(t.textDark,.1),e.fill(),e.globalAlpha=1,e.fillStyle=t.textDark,e.textBaseline="middle",a==null||a("text")}function s0(e,t,n,r,o){const i=r.cellHorizontalPadding,a=r.cellVerticalPadding;if(o)return{x:t.x+i/2,y:t.y+a/2+1,width:t.width-i,height:t.height-a-1};const s=fn(n,e,r.baseFontFull,"alphabetic"),l=t.height-a,c=Math.min(l,s.actualBoundingBoxAscent*2.5);return{x:t.x+i/2,y:t.y+(t.height-c)/2+1,width:s.width+i*3,height:c-1}}const c0=d.lazy(async()=>await hl(()=>import("./number-overlay-editor-BtPU24jQ.js"),__vite__mapDeps([10,1,3,11]),import.meta.url)),u0={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:X.Number,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,useLabel:!0,drawPrep:ei,draw:e=>{const{hoverAmount:t,cell:n,ctx:r,theme:o,rect:i,overrideCursor:a}=e,{hoverEffect:s,displayData:l,hoverEffectTheme:c}=n;s===!0&&t>0&&tu(r,o,c,l,i,t,a),Zn(e,e.cell.displayData,e.cell.contentAlign)},measure:(e,t,n)=>e.measureText(t.displayData).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:void 0}),provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:o}=e;return d.createElement(d.Suspense,{fallback:null},d.createElement(c0,{highlight:t,disabled:r.readonly===!0,value:r.data,fixedDecimals:r.fixedDecimals,allowNegative:r.allowNegative,thousandSeparator:r.thousandSeparator,decimalSeparator:r.decimalSeparator,validatedSelection:o,onChange:i=>n({...r,data:Number.isNaN(i.floatValue??0)?0:i.floatValue})}))},onPaste:(e,t,n)=>{const r=typeof n.rawValue=="number"?n.rawValue:Number.parseFloat(typeof n.rawValue=="string"?n.rawValue:e);if(!(Number.isNaN(r)||t.data===r))return{...t,data:r,displayData:n.formattedString??t.displayData}}},d0={getAccessibilityString:()=>"",measure:()=>108,kind:X.Protected,needsHover:!1,needsHoverPosition:!1,draw:f0,onPaste:()=>{}};function f0(e){const{ctx:t,theme:n,rect:r}=e,{x:o,y:i,height:a}=r;t.beginPath();const s=2.5;let l=o+n.cellHorizontalPadding+s;const c=i+a/2,u=Math.cos(ss(30))*s,f=Math.sin(ss(30))*s;for(let m=0;m<12;m++)t.moveTo(l,c-s),t.lineTo(l,c+s),t.moveTo(l+u,c-f),t.lineTo(l-u,c+f),t.moveTo(l-u,c-f),t.lineTo(l+u,c+f),l+=8;t.lineWidth=1.1,t.lineCap="square",t.strokeStyle=n.textLight,t.stroke()}const h0={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:X.RowID,needsHover:!1,needsHoverPosition:!1,drawPrep:(e,t)=>ei(e,t,e.theme.textLight),draw:e=>Zn(e,e.cell.data,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.data).width+n.cellHorizontalPadding*2,provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:o}=e;return It.createElement(Wr,{highlight:t,autoFocus:r.readonly!==!0,disabled:r.readonly!==!1,value:r.data,validatedSelection:o,onChange:i=>n({...r,data:i.target.value})})},onPaste:()=>{}},g0={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:X.Text,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,drawPrep:ei,useLabel:!0,draw:e=>{const{cell:t,hoverAmount:n,hyperWrapping:r,ctx:o,rect:i,theme:a,overrideCursor:s}=e,{displayData:l,contentAlign:c,hoverEffect:u,allowWrapping:f,hoverEffectTheme:m}=t;u===!0&&n>0&&tu(o,a,m,l,i,n,s),Zn(e,l,c,f,r)},measure:(e,t,n)=>{const r=t.displayData.split(`
`,t.allowWrapping===!0?void 0:1);let o=0;for(const i of r)o=Math.max(o,e.measureText(i).width);return o+2*n.cellHorizontalPadding},onDelete:e=>({...e,data:""}),provideEditor:e=>({disablePadding:e.allowWrapping===!0,editor:t=>{const{isHighlighted:n,onChange:r,value:o,validatedSelection:i}=t;return d.createElement(Wr,{style:e.allowWrapping===!0?{padding:"3px 8.5px"}:void 0,highlight:n,autoFocus:o.readonly!==!0,disabled:o.readonly===!0,altNewline:!0,value:o.data,validatedSelection:i,onChange:a=>r({...o,data:a.target.value})})}}),onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},m0=Ct("div")({name:"UriOverlayEditorStyle",class:"gdg-u1rrojo",propsAsIs:!1}),p0=e=>{const{uri:t,onChange:n,forceEditMode:r,readonly:o,validatedSelection:i,preview:a}=e,[s,l]=d.useState(!o&&(t===""||r)),c=d.useCallback(()=>{l(!0)},[]);return s?d.createElement(Wr,{validatedSelection:i,highlight:!0,autoFocus:!0,value:t,onChange:n}):d.createElement(m0,null,d.createElement("a",{className:"gdg-link-area",href:t,target:"_blank",rel:"noopener noreferrer"},a),!o&&d.createElement("div",{className:"gdg-edit-icon",onClick:c},d.createElement(pl,null)),d.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},v0=p0;function nu(e,t,n,r){let o=n.cellHorizontalPadding;const i=t.height/2-e.actualBoundingBoxAscent/2,a=e.width,s=e.actualBoundingBoxAscent;return r==="right"?o=t.width-a-n.cellHorizontalPadding:r==="center"&&(o=t.width/2-a/2),{x:o,y:i,width:a,height:s}}function Ps(e){const{cell:t,bounds:n,posX:r,posY:o,theme:i}=e,a=t.displayData??t.data;if(t.hoverEffect!==!0||t.onClickUri===void 0)return!1;const s=Dc(a,i.baseFontFull);if(s===void 0)return!1;const l=nu(s,n,i,t.contentAlign);return Vr({x:l.x-4,y:l.y-4,width:l.width+8,height:l.height+8},r,o)}const b0={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:X.Uri,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!0,useLabel:!0,drawPrep:ei,draw:e=>{const{cell:t,theme:n,overrideCursor:r,hoverX:o,hoverY:i,rect:a,ctx:s}=e,l=t.displayData??t.data,c=t.hoverEffect===!0;if(r!==void 0&&c&&o!==void 0&&i!==void 0){const u=fn(l,s,n.baseFontFull),f=nu(u,a,n,t.contentAlign),{x:m,y:p,width:h,height:g}=f;if(o>=m-4&&o<=m-4+h+8&&i>=p-4&&i<=p-4+g+8){const b=Kt(s,n.baseFontFull);r("pointer");const w=5,y=p-b;s.beginPath(),s.moveTo(a.x+m,Math.floor(a.y+y+g+w)+.5),s.lineTo(a.x+m+h,Math.floor(a.y+y+g+w)+.5),s.strokeStyle=n.linkColor,s.stroke(),s.save(),s.fillStyle=e.cellFillColor,Zn({...e,rect:{...a,x:a.x-1}},l,t.contentAlign),Zn({...e,rect:{...a,x:a.x-2}},l,t.contentAlign),Zn({...e,rect:{...a,x:a.x+1}},l,t.contentAlign),Zn({...e,rect:{...a,x:a.x+2}},l,t.contentAlign),s.restore()}}s.fillStyle=c?n.linkColor:n.textDark,Zn(e,l,t.contentAlign)},onSelect:e=>{Ps(e)&&e.preventDefault()},onClick:e=>{var r;const{cell:t}=e;Ps(e)&&((r=t.onClickUri)==null||r.call(t,e))},measure:(e,t,n)=>e.measureText(t.displayData??t.data).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:""}),provideEditor:e=>t=>{const{onChange:n,value:r,forceEditMode:o,validatedSelection:i}=t;return d.createElement(v0,{forceEditMode:r.readonly!==!0&&(o||e.hoverEffect===!0&&e.onClickUri!==void 0),uri:r.data,preview:r.displayData??r.data,validatedSelection:i,readonly:r.readonly===!0,onChange:a=>n({...r,data:a.target.value})})},onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},w0=[n0,a0,Lg,Vg,Ug,jg,Jg,t0,u0,d0,h0,g0,b0],Wa=[];class y0 extends Fc{constructor(){super(...arguments);Ye(this,"imageLoaded",()=>{});Ye(this,"loadedLocations",[]);Ye(this,"cache",{});Ye(this,"sendLoaded",Wd(()=>{this.imageLoaded(new Xo(this.loadedLocations)),this.loadedLocations=[]},20));Ye(this,"clearOutOfWindow",()=>{const n=Object.keys(this.cache);for(const r of n){const o=this.cache[r];let i=!1;for(let a=0;a<o.cells.length;a++){const s=o.cells[a];if(this.isInWindow(s)){i=!0;break}}i?o.cells=o.cells.filter(this.isInWindow):(o.cancel(),delete this.cache[r])}})}setCallback(n){this.imageLoaded=n}loadImage(n,r,o,i){let a=!1;const s=Wa.pop()??new Image;let l=!1;const c={img:void 0,cells:[An(r,o)],url:n,cancel:()=>{l||(l=!0,Wa.length<12?Wa.unshift(s):a||(s.src=""))}},u=new Promise(f=>s.addEventListener("load",()=>f(null)));requestAnimationFrame(async()=>{try{s.src=n,await u,await s.decode();const f=this.cache[i];if(f!==void 0&&!l){f.img=s;for(const m of f.cells)this.loadedLocations.push(yl(m));a=!0,this.sendLoaded()}}catch{c.cancel()}}),this.cache[i]=c}loadOrGetImage(n,r,o){const i=n,a=this.cache[i];if(a!==void 0){const s=An(r,o);return a.cells.includes(s)||a.cells.push(s),a.img}else this.loadImage(n,r,o,i)}}const C0=y0,S0=(e,t)=>{const n=d.useMemo(()=>({...lh,...e.headerIcons}),[e.headerIcons]),r=d.useMemo(()=>e.imageWindowLoader??new C0,[e.imageWindowLoader]);return d.createElement(Fg,{...e,renderers:w0,headerIcons:n,ref:t,imageWindowLoader:r})},ru=d.forwardRef(S0),x0=[[50,5],[61.23,39.55],[97.55,39.55],[68.16,60.9],[79.39,95.45],[50,74.1],[20.61,95.45],[31.84,60.9],[2.45,39.55],[38.77,39.55]];function k0(e,t,n){let r=!1;for(const o of x0){const i=(o[0]-50)*(n/100)+t[0],a=(o[1]-50)*(n/100)+t[1];r?e.lineTo(i,a):(e.moveTo(i,a),r=!0)}e.closePath()}const M0=()=>Pe("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Pe("path",{d:"M47.1468 13.7811C48.0449 11.0172 51.9551 11.0172 52.8532 13.7812L60.5522 37.4762C60.9538 38.7123 62.1056 39.5491 63.4053 39.5491H88.3198C91.226 39.5491 92.4343 43.268 90.0831 44.9762L69.9269 59.6205C68.8755 60.3845 68.4355 61.7386 68.8371 62.9746L76.5361 86.6697C77.4342 89.4336 74.2707 91.732 71.9196 90.0238L51.7634 75.3794C50.7119 74.6155 49.2881 74.6155 48.2366 75.3795L28.0804 90.0238C25.7293 91.732 22.5659 89.4336 23.4639 86.6697L31.1629 62.9746C31.5645 61.7386 31.1245 60.3845 30.0731 59.6205L9.91686 44.9762C7.56572 43.268 8.77405 39.5491 11.6802 39.5491H36.5947C37.8944 39.5491 39.0462 38.7123 39.4478 37.4762L47.1468 13.7811Z",fill:"currentColor"})}),R0=Ct("div")({name:"EditorWrap",class:"e8nv6xj",propsAsIs:!1}),I0={kind:X.Custom,isMatch:e=>e.data.kind==="star-cell",needsHover:!0,draw:(e,t)=>{const{ctx:n,theme:r,rect:o,hoverAmount:i}=e,{rating:a}=t.data,s=r.cellHorizontalPadding;let l=o.x+s;const c=Math.min(5,Math.ceil(a));l+=8,n.beginPath();for(let u=0;u<c;u++)k0(n,[l,o.y+o.height/2],16),l+=18;return n.fillStyle=r.textDark,n.globalAlpha=.6+.4*i,n.fill(),n.globalAlpha=1,!0},provideEditor:()=>e=>Pe(R0,{children:[0,1,2,3,4].map(t=>Pe("div",{className:e.value.data.rating<t+1?"gdg-inactive":"gdg-active",onClick:()=>{e.onChange({...e.value,data:{...e.value.data,rating:t+1}})},children:Pe(M0,{})},t))}),onPaste:(e,t)=>{const n=Number.parseInt(e);return{...t,rating:Number.isNaN(n)?0:n}}},E0=I0,D0={kind:X.Custom,isMatch:e=>e.data.kind==="sparkline-cell",needsHover:!0,needsHoverPosition:!0,draw:(e,t)=>{const{ctx:n,theme:r,rect:o,hoverAmount:i,hoverX:a}=e;let{values:s,yAxis:l,color:c,graphKind:u="area",displayValues:f,hideAxis:m}=t.data;const[p,h]=l;if(s.length===0)return!0;s=s.map(R=>Math.min(1,Math.max(0,(R-p)/(h-p))));const g=r.cellHorizontalPadding,b=g+o.x,w=o.y+3,y=o.height-6,S=o.width-g*2,E=h-p,D=h<=0?w:p>=0?w+y:w+y*(h/E);if(!m&&p<=0&&h>=0&&(n.beginPath(),n.moveTo(b,D),n.lineTo(b+S,D),n.globalAlpha=.4,n.lineWidth=1,n.strokeStyle=r.textLight,n.stroke(),n.globalAlpha=1),u==="bar"){n.beginPath();const R=2,C=(s.length-1)*R,I=(S-C)/s.length;let x=b;for(const L of s){const H=w+y-L*y;n.moveTo(x,D),n.lineTo(x+I,D),n.lineTo(x+I,H),n.lineTo(x,H),x+=I+R}n.fillStyle=t.data.color??r.accentColor,n.fill()}else{s.length===1&&(s=[s[0],s[0]],f&&(f=[f[0],f[0]])),n.beginPath();const R=(o.width-16)/(s.length-1),C=s.map((x,L)=>({x:b+R*L,y:w+y-x*y}));n.moveTo(C[0].x,C[0].y);let I=0;if(C.length>2)for(I=1;I<C.length-2;I++){const x=(C[I].x+C[I+1].x)/2,L=(C[I].y+C[I+1].y)/2;n.quadraticCurveTo(C[I].x,C[I].y,x,L)}if(n.quadraticCurveTo(C[I].x,C[I].y,C[I+1].x,C[I+1].y),n.strokeStyle=c??r.accentColor,n.lineWidth=1+i*.5,n.stroke(),n.lineTo(o.x+o.width-g,D),n.lineTo(o.x+g,D),n.closePath(),u==="area"){n.globalAlpha=.2+.2*i;const x=n.createLinearGradient(0,w,0,w+y*1.4);x.addColorStop(0,c??r.accentColor);const[L,H,P]=Br(c??r.accentColor);x.addColorStop(1,`rgba(${L}, ${H}, ${P}, 0)`),n.fillStyle=x,n.fill(),n.globalAlpha=1}if(a!==void 0&&(u==="line"||u==="area")&&f!==void 0){n.beginPath();const x=Math.min(s.length-1,Math.max(0,Math.round((a-g)/R)));n.moveTo(b+x*R,o.y+1),n.lineTo(b+x*R,o.y+o.height),n.lineWidth=1,n.strokeStyle=r.textLight,n.stroke(),n.save(),n.font=`8px ${r.fontFamily}`,n.fillStyle=r.textMedium,n.textBaseline="top",n.fillText(f[x],b,o.y+r.cellVerticalPadding),n.restore()}}return!0},provideEditor:()=>{},onPaste:(e,t)=>t},O0=D0;function qo(e,t,n,r,o,i){if(!(r<=0||o<=0)){if(typeof i=="number"&&i<=0){e.rect(t,n,r,o);return}typeof i=="number"&&(i={tl:i,tr:i,br:i,bl:i}),i={tl:Math.min(i.tl,o/2,r/2),tr:Math.min(i.tr,o/2,r/2),bl:Math.min(i.bl,o/2,r/2),br:Math.min(i.br,o/2,r/2)},i.tl=Math.max(0,i.tl),i.tr=Math.max(0,i.tr),i.br=Math.max(0,i.br),i.bl=Math.max(0,i.bl),e.moveTo(t+i.tl,n),e.arcTo(t+r,n,t+r,n+i.tr,i.tr),e.arcTo(t+r,n+o,t+r-i.br,n+o,i.br),e.arcTo(t,n+o,t,n+o-i.bl,i.bl),e.arcTo(t,n,t+i.tl,n,i.tl)}}const Ar=20,io=6,P0=()=>e=>e.tagHeight/2,T0=()=>e=>e.tagHeight,F0=()=>e=>e.innerPad,L0=Ct("div")({name:"EditorWrap",class:"e14vzbfa",propsAsIs:!1,vars:{"e14vzbfa-0":[P0(),"px"],"e14vzbfa-1":[T0(),"px"],"e14vzbfa-2":[F0(),"px"]}}),H0={kind:X.Custom,isMatch:e=>e.data.kind==="tags-cell",draw:(e,t)=>{var m;const{ctx:n,theme:r,rect:o}=e,{possibleTags:i,tags:a}=t.data,s={x:o.x+r.cellHorizontalPadding,y:o.y+r.cellVerticalPadding,width:o.width-2*r.cellHorizontalPadding,height:o.height-2*r.cellVerticalPadding},l=Math.max(1,Math.floor(s.height/(Ar+io)));let c=s.x,u=1,f=s.y+(s.height-l*Ar-(l-1)*io)/2;for(const p of a){const h=((m=i.find(y=>y.tag===p))==null?void 0:m.color)??r.bgBubble;n.font=`12px ${r.fontFamily}`;const b=fn(p,n).width+io*2,w=Ar/2;if(c!==s.x&&c+b>s.x+s.width&&u<l&&(u++,f+=Ar+io,c=s.x),n.fillStyle=h,n.beginPath(),qo(n,c,f,b,Ar,r.roundingRadius??Ar/2),n.fill(),n.fillStyle=r.textDark,n.fillText(p,c+io,f+w+Kt(n,`12px ${r.fontFamily}`)),c+=b+8,c>s.x+s.width&&u>=l)break}return!0},provideEditor:()=>e=>{const{onChange:t,value:n}=e,{readonly:r=!1}=n,{possibleTags:o,tags:i}=n.data;return Pe(L0,{tagHeight:Ar,innerPad:io,className:r?"gdg-readonly":"",children:o.map(a=>{const s=i.indexOf(a.tag)!==-1;return mo("label",{children:[!r&&Pe("input",{className:"gdg-input",type:"checkbox",checked:s,onChange:()=>{const l=s?i.filter(c=>c!==a.tag):[...i,a.tag];t({...e.value,data:{...n.data,tags:l}})}}),Pe("div",{className:"gdg-pill "+(s?"gdg-selected":"gdg-unselected"),style:{backgroundColor:s?a.color:void 0},children:a.tag})]},a.tag)})})},onPaste:(e,t)=>({...t,tags:t.possibleTags.map(n=>n.tag).filter(n=>e.split(",").map(r=>r.trim()).includes(n))})},A0=H0,$0={kind:X.Custom,isMatch:e=>e.data.kind==="user-profile-cell",draw:(e,t)=>{const{ctx:n,rect:r,theme:o,imageLoader:i,col:a,row:s}=e,{image:l,name:c,initial:u,tint:f}=t.data,m=o.cellHorizontalPadding,p=Math.min(12,r.height/2-o.cellVerticalPadding),h=r.x+m,g=i.loadOrGetImage(l,a,s);n.save(),n.beginPath(),n.arc(h+p,r.y+r.height/2,p,0,Math.PI*2),n.globalAlpha=.2,n.fillStyle=f,n.fill(),n.globalAlpha=1,n.font=`600 16px ${o.fontFamily}`;const b=fn(u[0],n);return n.fillText(u[0],h+p-b.width/2,r.y+r.height/2+Kt(n,`600 16px ${o.fontFamily}`)),g!==void 0&&(n.save(),n.beginPath(),n.arc(h+p,r.y+r.height/2,p,0,Math.PI*2),n.clip(),n.drawImage(g,h,r.y+r.height/2-p,p*2,p*2),n.restore()),c!==void 0&&(n.font=o.baseFontFull,n.fillStyle=o.textDark,n.fillText(c,h+p*2+m,r.y+r.height/2+Kt(n,o))),n.restore(),!0},provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r}=e;return Pe(Wr,{highlight:t,autoFocus:!0,value:r.data.name??"",disabled:r.readonly??!1,onChange:o=>n({...r,data:{...r.data,name:o.target.value}})})},onPaste:(e,t)=>({...t,name:e})},z0=$0;function Ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ts(Object(n),!0).forEach(function(r){No(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ts(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V0(e){if(Array.isArray(e))return e}function B0(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}function N0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cr(e,t){return V0(e)||B0(e,t)||_d(e,t)||N0()}var W0=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function ou(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,o=r===void 0?!1:r,i=e.defaultValue,a=i===void 0?null:i,s=e.inputValue,l=e.menuIsOpen,c=e.onChange,u=e.onInputChange,f=e.onMenuClose,m=e.onMenuOpen,p=e.value,h=Qn(e,W0),g=d.useState(s!==void 0?s:n),b=cr(g,2),w=b[0],y=b[1],S=d.useState(l!==void 0?l:o),E=cr(S,2),D=E[0],R=E[1],C=d.useState(p!==void 0?p:a),I=cr(C,2),x=I[0],L=I[1],H=d.useCallback(function(pe,me){typeof c=="function"&&c(pe,me),L(pe)},[c]),P=d.useCallback(function(pe,me){var J;typeof u=="function"&&(J=u(pe,me)),y(J!==void 0?J:pe)},[u]),F=d.useCallback(function(){typeof m=="function"&&m(),R(!0)},[m]),O=d.useCallback(function(){typeof f=="function"&&f(),R(!1)},[f]),q=s!==void 0?s:w,j=l!==void 0?l:D,te=p!==void 0?p:x;return xe(xe({},h),{},{inputValue:q,menuIsOpen:j,onChange:H,onInputChange:P,onMenuClose:O,onMenuOpen:F,value:te})}function _0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gd(r.key),r)}}function G0(e,t,n){return t&&Fs(e.prototype,t),n&&Fs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function al(e,t){return al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},al(e,t)}function U0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&al(e,t)}function Yi(e){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yi(e)}function iu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iu=function(){return!!e})()}function X0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y0(e,t){if(t&&(vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X0(e)}function K0(e){var t=iu();return function(){var r=Yi(e),o;if(t){var i=Yi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Y0(this,o)}}function j0(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function q0(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Z0=function(){function e(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(q0(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=j0(o);try{i.insertRule(r,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),en="-ms-",Ki="-moz-",ct="-webkit-",au="comm",kl="rule",Ml="decl",J0="@import",lu="@keyframes",Q0=Math.abs,ra=String.fromCharCode,em=Object.assign;function tm(e,t){return(((t<<2^un(e,0))<<2^un(e,1))<<2^un(e,2))<<2^un(e,3)}function su(e){return e.trim()}function nm(e,t){return(e=t.exec(e))?e[0]:e}function ut(e,t,n){return e.replace(t,n)}function ll(e,t){return e.indexOf(t)}function un(e,t){return e.charCodeAt(t)|0}function Zo(e,t,n){return e.slice(t,n)}function Kn(e){return e.length}function Rl(e){return e.length}function Pi(e,t){return t.push(e),e}function rm(e,t){return e.map(t).join("")}var oa=1,bo=1,cu=0,hn=0,Nt=0,wo="";function ia(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:oa,column:bo,length:a,return:""}}function Vo(e,t){return em(ia("",null,null,"",null,null,0),e,{length:-e.length},t)}function om(){return Nt}function im(){return Nt=hn>0?un(wo,--hn):0,bo--,Nt===10&&(bo=1,oa--),Nt}function vn(){return Nt=hn<cu?un(wo,hn++):0,bo++,Nt===10&&(bo=1,oa++),Nt}function Jn(){return un(wo,hn)}function Ai(){return hn}function ti(e,t){return Zo(wo,e,t)}function Jo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uu(e){return oa=bo=1,cu=Kn(wo=e),hn=0,[]}function du(e){return wo="",e}function $i(e){return su(ti(hn-1,sl(e===91?e+2:e===40?e+1:e)))}function am(e){for(;(Nt=Jn())&&Nt<33;)vn();return Jo(e)>2||Jo(Nt)>3?"":" "}function lm(e,t){for(;--t&&vn()&&!(Nt<48||Nt>102||Nt>57&&Nt<65||Nt>70&&Nt<97););return ti(e,Ai()+(t<6&&Jn()==32&&vn()==32))}function sl(e){for(;vn();)switch(Nt){case e:return hn;case 34:case 39:e!==34&&e!==39&&sl(Nt);break;case 40:e===41&&sl(e);break;case 92:vn();break}return hn}function sm(e,t){for(;vn()&&e+Nt!==57;)if(e+Nt===84&&Jn()===47)break;return"/*"+ti(t,hn-1)+"*"+ra(e===47?e:vn())}function cm(e){for(;!Jo(Jn());)vn();return ti(e,hn)}function um(e){return du(zi("",null,null,null,[""],e=uu(e),0,[0],e))}function zi(e,t,n,r,o,i,a,s,l){for(var c=0,u=0,f=a,m=0,p=0,h=0,g=1,b=1,w=1,y=0,S="",E=o,D=i,R=r,C=S;b;)switch(h=y,y=vn()){case 40:if(h!=108&&C.charCodeAt(f-1)==58){ll(C+=ut($i(y),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:C+=$i(y);break;case 9:case 10:case 13:case 32:C+=am(h);break;case 92:C+=lm(Ai()-1,7);continue;case 47:switch(Jn()){case 42:case 47:Pi(dm(sm(vn(),Ai()),t,n),l);break;default:C+="/"}break;case 123*g:s[c++]=Kn(C)*w;case 125*g:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+u:p>0&&Kn(C)-f&&Pi(p>32?Hs(C+";",r,n,f-1):Hs(ut(C," ","")+";",r,n,f-2),l);break;case 59:C+=";";default:if(Pi(R=Ls(C,t,n,c,u,o,s,S,E=[],D=[],f),i),y===123)if(u===0)zi(C,t,R,R,E,i,f,s,D);else switch(m){case 100:case 109:case 115:zi(e,R,R,r&&Pi(Ls(e,R,R,0,0,o,s,S,o,E=[],f),D),o,D,f,s,r?E:D);break;default:zi(C,R,R,R,[""],D,0,s,D)}}c=u=p=0,g=w=1,S=C="",f=a;break;case 58:f=1+Kn(C),p=h;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&im()==125)continue}switch(C+=ra(y),y*g){case 38:w=u>0?1:(C+="\f",-1);break;case 44:s[c++]=(Kn(C)-1)*w,w=1;break;case 64:Jn()===45&&(C+=$i(vn())),m=Jn(),u=f=Kn(S=C+=cm(Ai())),y++;break;case 45:h===45&&Kn(C)==2&&(g=0)}}return i}function Ls(e,t,n,r,o,i,a,s,l,c,u){for(var f=o-1,m=o===0?i:[""],p=Rl(m),h=0,g=0,b=0;h<r;++h)for(var w=0,y=Zo(e,f+1,f=Q0(g=a[h])),S=e;w<p;++w)(S=su(g>0?m[w]+" "+y:ut(y,/&\f/g,m[w])))&&(l[b++]=S);return ia(e,t,n,o===0?kl:s,l,c,u)}function dm(e,t,n){return ia(e,t,n,au,ra(om()),Zo(e,2,-2),0)}function Hs(e,t,n,r){return ia(e,t,n,Ml,Zo(e,0,r),Zo(e,r+1,-1),r)}function fu(e,t){switch(tm(e,t)){case 5103:return ct+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+e+Ki+e+en+e+e;case 6828:case 4268:return ct+e+en+e+e;case 6165:return ct+e+en+"flex-"+e+e;case 5187:return ct+e+ut(e,/(\w+).+(:[^]+)/,ct+"box-$1$2"+en+"flex-$1$2")+e;case 5443:return ct+e+en+"flex-item-"+ut(e,/flex-|-self/,"")+e;case 4675:return ct+e+en+"flex-line-pack"+ut(e,/align-content|flex-|-self/,"")+e;case 5548:return ct+e+en+ut(e,"shrink","negative")+e;case 5292:return ct+e+en+ut(e,"basis","preferred-size")+e;case 6060:return ct+"box-"+ut(e,"-grow","")+ct+e+en+ut(e,"grow","positive")+e;case 4554:return ct+ut(e,/([^-])(transform)/g,"$1"+ct+"$2")+e;case 6187:return ut(ut(ut(e,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),e,"")+e;case 5495:case 3959:return ut(e,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return ut(ut(e,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+en+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+e+e;case 4095:case 3583:case 4068:case 2532:return ut(e,/(.+)-inline(.+)/,ct+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kn(e)-1-t>6)switch(un(e,t+1)){case 109:if(un(e,t+4)!==45)break;case 102:return ut(e,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+Ki+(un(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ll(e,"stretch")?fu(ut(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(un(e,t+1)!==115)break;case 6444:switch(un(e,Kn(e)-3-(~ll(e,"!important")&&10))){case 107:return ut(e,":",":"+ct)+e;case 101:return ut(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(un(e,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+en+"$2box$3")+e}break;case 5936:switch(un(e,t+11)){case 114:return ct+e+en+ut(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ct+e+en+ut(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ct+e+en+ut(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ct+e+en+e+e}return e}function go(e,t){for(var n="",r=Rl(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function fm(e,t,n,r){switch(e.type){case J0:case Ml:return e.return=e.return||e.value;case au:return"";case lu:return e.return=e.value+"{"+go(e.children,r)+"}";case kl:e.value=e.props.join(",")}return Kn(n=go(e.children,r))?e.return=e.value+"{"+n+"}":""}function hm(e){var t=Rl(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}function gm(e){return function(t){t.root||(t=t.return)&&e(t)}}function mm(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ml:e.return=fu(e.value,e.length);break;case lu:return go([Vo(e,{value:ut(e.value,"@","@"+ct)})],r);case kl:if(e.length)return rm(e.props,function(o){switch(nm(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return go([Vo(e,{props:[ut(o,/:(read-\w+)/,":"+Ki+"$1")]})],r);case"::placeholder":return go([Vo(e,{props:[ut(o,/:(plac\w+)/,":"+ct+"input-$1")]}),Vo(e,{props:[ut(o,/:(plac\w+)/,":"+Ki+"$1")]}),Vo(e,{props:[ut(o,/:(plac\w+)/,en+"input-$1")]})],r)}return""})}}var pm=function(t,n,r){for(var o=0,i=0;o=i,i=Jn(),o===38&&i===12&&(n[r]=1),!Jo(i);)vn();return ti(t,hn)},vm=function(t,n){var r=-1,o=44;do switch(Jo(o)){case 0:o===38&&Jn()===12&&(n[r]=1),t[r]+=pm(hn-1,n,r);break;case 2:t[r]+=$i(o);break;case 4:if(o===44){t[++r]=Jn()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=ra(o)}while(o=vn());return t},bm=function(t,n){return du(vm(uu(t),n))},As=new WeakMap,wm=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!As.get(r))&&!o){As.set(t,!0);for(var i=[],a=bm(n,i),s=r.props,l=0,c=0;l<a.length;l++)for(var u=0;u<s.length;u++,c++)t.props[c]=i[l]?a[l].replace(/&\f/g,s[u]):s[u]+" "+a[l]}}},ym=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}},Cm=[mm],Sm=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var b=g.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var o=t.stylisPlugins||Cm,i={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var b=g.getAttribute("data-emotion").split(" "),w=1;w<b.length;w++)i[b[w]]=!0;s.push(g)});var l,c=[wm,ym];{var u,f=[fm,gm(function(g){u.insert(g)})],m=hm(c.concat(o,f)),p=function(b){return go(um(b),m)};l=function(b,w,y,S){u=y,p(b?b+"{"+w.styles+"}":w.styles),S&&(h.inserted[w.name]=!0)}}var h={key:n,sheet:new Z0({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:l};return h.sheet.hydrate(s),h},hu={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jt=typeof Symbol=="function"&&Symbol.for,Il=jt?Symbol.for("react.element"):60103,El=jt?Symbol.for("react.portal"):60106,aa=jt?Symbol.for("react.fragment"):60107,la=jt?Symbol.for("react.strict_mode"):60108,sa=jt?Symbol.for("react.profiler"):60114,ca=jt?Symbol.for("react.provider"):60109,ua=jt?Symbol.for("react.context"):60110,Dl=jt?Symbol.for("react.async_mode"):60111,da=jt?Symbol.for("react.concurrent_mode"):60111,fa=jt?Symbol.for("react.forward_ref"):60112,ha=jt?Symbol.for("react.suspense"):60113,xm=jt?Symbol.for("react.suspense_list"):60120,ga=jt?Symbol.for("react.memo"):60115,ma=jt?Symbol.for("react.lazy"):60116,km=jt?Symbol.for("react.block"):60121,Mm=jt?Symbol.for("react.fundamental"):60117,Rm=jt?Symbol.for("react.responder"):60118,Im=jt?Symbol.for("react.scope"):60119;function bn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Il:switch(e=e.type,e){case Dl:case da:case aa:case sa:case la:case ha:return e;default:switch(e=e&&e.$$typeof,e){case ua:case fa:case ma:case ga:case ca:return e;default:return t}}case El:return t}}}function gu(e){return bn(e)===da}ft.AsyncMode=Dl;ft.ConcurrentMode=da;ft.ContextConsumer=ua;ft.ContextProvider=ca;ft.Element=Il;ft.ForwardRef=fa;ft.Fragment=aa;ft.Lazy=ma;ft.Memo=ga;ft.Portal=El;ft.Profiler=sa;ft.StrictMode=la;ft.Suspense=ha;ft.isAsyncMode=function(e){return gu(e)||bn(e)===Dl};ft.isConcurrentMode=gu;ft.isContextConsumer=function(e){return bn(e)===ua};ft.isContextProvider=function(e){return bn(e)===ca};ft.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Il};ft.isForwardRef=function(e){return bn(e)===fa};ft.isFragment=function(e){return bn(e)===aa};ft.isLazy=function(e){return bn(e)===ma};ft.isMemo=function(e){return bn(e)===ga};ft.isPortal=function(e){return bn(e)===El};ft.isProfiler=function(e){return bn(e)===sa};ft.isStrictMode=function(e){return bn(e)===la};ft.isSuspense=function(e){return bn(e)===ha};ft.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===aa||e===da||e===sa||e===la||e===ha||e===xm||typeof e=="object"&&e!==null&&(e.$$typeof===ma||e.$$typeof===ga||e.$$typeof===ca||e.$$typeof===ua||e.$$typeof===fa||e.$$typeof===Mm||e.$$typeof===Rm||e.$$typeof===Im||e.$$typeof===km)};ft.typeOf=bn;hu.exports=ft;var Em=hu.exports,mu=Em,Dm={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Om={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pu={};pu[mu.ForwardRef]=Dm;pu[mu.Memo]=Om;var Pm=!0;function Tm(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):r+=o+" "}),r}var vu=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||Pm===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},Fm=function(t,n,r){vu(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function Lm(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Hm={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Am=/[A-Z]|^ms/g,$m=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bu=function(t){return t.charCodeAt(1)===45},$s=function(t){return t!=null&&typeof t!="boolean"},_a=Ad(function(e){return bu(e)?e:e.replace(Am,"-$&").toLowerCase()}),zs=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace($m,function(r,o,i){return jn={name:o,styles:i,next:jn},o})}return Hm[t]!==1&&!bu(t)&&typeof n=="number"&&n!==0?n+"px":n};function Qo(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return jn={name:n.name,styles:n.styles,next:jn},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)jn={name:r.name,styles:r.styles,next:jn},r=r.next;var o=n.styles+";";return o}return zm(e,t,n)}case"function":{if(e!==void 0){var i=jn,a=n(e);return jn=i,Qo(e,t,a)}break}}if(t==null)return n;var s=t[n];return s!==void 0?s:n}function zm(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Qo(e,t,n[o])+";";else for(var i in n){var a=n[i];if(typeof a!="object")t!=null&&t[a]!==void 0?r+=i+"{"+t[a]+"}":$s(a)&&(r+=_a(i)+":"+zs(i,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var s=0;s<a.length;s++)$s(a[s])&&(r+=_a(i)+":"+zs(i,a[s])+";");else{var l=Qo(e,t,a);switch(i){case"animation":case"animationName":{r+=_a(i)+":"+l+";";break}default:r+=i+"{"+l+"}"}}}return r}var Vs=/label:\s*([^\s;\n{]+)\s*(;|$)/g,jn,wu=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,i="";jn=void 0;var a=t[0];a==null||a.raw===void 0?(o=!1,i+=Qo(r,n,a)):i+=a[0];for(var s=1;s<t.length;s++)i+=Qo(r,n,t[s]),o&&(i+=a[s]);Vs.lastIndex=0;for(var l="",c;(c=Vs.exec(i))!==null;)l+="-"+c[1];var u=Lm(i)+l;return{name:u,styles:i,next:jn}},Ol={}.hasOwnProperty,yu=d.createContext(typeof HTMLElement<"u"?Sm({key:"css"}):null);yu.Provider;var Vm=function(t){return d.forwardRef(function(n,r){var o=d.useContext(yu);return t(n,o,r)})},Bm=d.createContext({}),Nm=d.useInsertionEffect?d.useInsertionEffect:function(t){t()};function Wm(e){Nm(e)}var cl="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",_m=function(t,n){var r={};for(var o in n)Ol.call(n,o)&&(r[o]=n[o]);return r[cl]=t,r},Gm=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return vu(n,r,o),Wm(function(){return Fm(n,r,o)}),null},Um=Vm(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[cl],i=[r],a="";typeof e.className=="string"?a=Tm(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var s=wu(i,void 0,d.useContext(Bm));a+=t.key+"-"+s.name;var l={};for(var c in e)Ol.call(e,c)&&c!=="css"&&c!==cl&&(l[c]=e[c]);return l.ref=n,l.className=a,d.createElement(d.Fragment,null,d.createElement(Gm,{cache:t,serialized:s,isStringTag:typeof o=="string"}),d.createElement(o,l))}),Me=function(t,n){var r=arguments;if(n==null||!Ol.call(n,"css"))return d.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=Um,i[1]=_m(t,n);for(var a=2;a<o;a++)i[a]=r[a];return d.createElement.apply(null,i)};function Pl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wu(t)}var Xm=function(){var t=Pl.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Ym(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Km=Math.min,jm=Math.max,ji=Math.round,Ti=Math.floor,qi=e=>({x:e,y:e});function qm(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Cu(e){return xu(e)?(e.nodeName||"").toLowerCase():"#document"}function zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Su(e){var t;return(t=(xu(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xu(e){return e instanceof Node||e instanceof zn(e).Node}function ul(e){return e instanceof Element||e instanceof zn(e).Element}function Tl(e){return e instanceof HTMLElement||e instanceof zn(e).HTMLElement}function Bs(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zn(e).ShadowRoot}function ku(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Fl(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Zm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jm(e){return["html","body","#document"].includes(Cu(e))}function Fl(e){return zn(e).getComputedStyle(e)}function Qm(e){if(Cu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Bs(e)&&e.host||Su(e);return Bs(t)?t.host:t}function Mu(e){const t=Qm(e);return Jm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tl(t)&&ku(t)?t:Mu(t)}function Zi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Mu(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=zn(o);return i?t.concat(a,a.visualViewport||[],ku(o)?o:[],a.frameElement&&n?Zi(a.frameElement):[]):t.concat(o,Zi(o,[],n))}function e1(e){const t=Fl(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Tl(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=ji(n)!==i||ji(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function Ll(e){return ul(e)?e:e.contextElement}function Ga(e){const t=Ll(e);if(!Tl(t))return qi(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=e1(t);let a=(i?ji(n.width):n.width)/r,s=(i?ji(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const t1=qi(0);function n1(e){const t=zn(e);return!Zm()||!t.visualViewport?t1:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function r1(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==zn(e)?!1:t}function Ns(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Ll(e);let a=qi(1);t&&(r?ul(r)&&(a=Ga(r)):a=Ga(e));const s=r1(i,n,r)?n1(i):qi(0);let l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,u=o.width/a.x,f=o.height/a.y;if(i){const m=zn(i),p=r&&ul(r)?zn(r):r;let h=m.frameElement;for(;h&&r&&p!==m;){const g=Ga(h),b=h.getBoundingClientRect(),w=Fl(h),y=b.left+(h.clientLeft+parseFloat(w.paddingLeft))*g.x,S=b.top+(h.clientTop+parseFloat(w.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,f*=g.y,l+=y,c+=S,h=zn(h).frameElement}}return qm({width:u,height:f,x:l,y:c})}function o1(e,t){let n=null,r;const o=Su(e);function i(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:f,height:m}=e.getBoundingClientRect();if(s||t(),!f||!m)return;const p=Ti(u),h=Ti(o.clientWidth-(c+f)),g=Ti(o.clientHeight-(u+m)),b=Ti(c),y={rootMargin:-p+"px "+-h+"px "+-g+"px "+-b+"px",threshold:jm(0,Km(1,l))||1};let S=!0;function E(D){const R=D[0].intersectionRatio;if(R!==l){if(!S)return a();R?a(!1,R):r=setTimeout(()=>{a(!1,1e-7)},100)}S=!1}try{n=new IntersectionObserver(E,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,y)}n.observe(e)}return a(!0),i}function i1(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ll(e),u=o||i?[...c?Zi(c):[],...Zi(t)]:[];u.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=c&&s?o1(c,n):null;let m=-1,p=null;a&&(p=new ResizeObserver(w=>{let[y]=w;y&&y.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let h,g=l?Ns(e):null;l&&b();function b(){const w=Ns(e);g&&(w.x!==g.x||w.y!==g.y||w.width!==g.width||w.height!==g.height)&&n(),g=w,h=requestAnimationFrame(b)}return n(),()=>{var w;u.forEach(y=>{o&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(h)}}var dl=d.useLayoutEffect,a1=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ji=function(){};function l1(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function s1(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&i.push("".concat(l1(e,a)));return i.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var Qi=function(t){return v1(t)?t.filter(Boolean):vc(t)==="object"&&t!==null?[t]:[]},Ru=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=Qn(t,a1);return xe({},n)},Pt=function(t,n,r){var o=t.cx,i=t.getStyles,a=t.getClassNames,s=t.className;return{css:i(n,t),className:o(r??{},a(n,t),s)}};function pa(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function c1(e){return pa(e)?window.innerHeight:e.clientHeight}function Iu(e){return pa(e)?window.pageYOffset:e.scrollTop}function ea(e,t){if(pa(e)){window.scrollTo(0,t);return}e.scrollTop=t}function u1(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}function d1(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Fi(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ji,o=Iu(e),i=t-o,a=10,s=0;function l(){s+=a;var c=d1(s,o,i,n);ea(e,c),s<n?window.requestAnimationFrame(l):r(e)}l()}function Ws(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?ea(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&ea(e,Math.max(t.offsetTop-o,0))}function f1(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function _s(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function h1(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Eu=!1,g1={get passive(){return Eu=!0}},Li=typeof window<"u"?window:{};Li.addEventListener&&Li.removeEventListener&&(Li.addEventListener("p",Ji,g1),Li.removeEventListener("p",Ji,!1));var m1=Eu;function p1(e){return e!=null}function v1(e){return Array.isArray(e)}function _o(e,t,n){return e?t:n}var b1=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=Object.entries(t).filter(function(a){var s=cr(a,1),l=s[0];return!r.includes(l)});return i.reduce(function(a,s){var l=cr(s,2),c=l[0],u=l[1];return a[c]=u,a},{})},w1=["children","innerProps"],y1=["children","innerProps"];function C1(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,i=e.shouldScroll,a=e.isFixedPosition,s=e.controlHeight,l=u1(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u=l.getBoundingClientRect(),f=u.height,m=n.getBoundingClientRect(),p=m.bottom,h=m.height,g=m.top,b=n.offsetParent.getBoundingClientRect(),w=b.top,y=a?window.innerHeight:c1(l),S=Iu(l),E=parseInt(getComputedStyle(n).marginBottom,10),D=parseInt(getComputedStyle(n).marginTop,10),R=w-D,C=y-g,I=R+S,x=f-S-g,L=p-y+S+E,H=S+g-D,P=160;switch(o){case"auto":case"bottom":if(C>=h)return{placement:"bottom",maxHeight:t};if(x>=h&&!a)return i&&Fi(l,L,P),{placement:"bottom",maxHeight:t};if(!a&&x>=r||a&&C>=r){i&&Fi(l,L,P);var F=a?C-E:x-E;return{placement:"bottom",maxHeight:F}}if(o==="auto"||a){var O=t,q=a?R:I;return q>=r&&(O=Math.min(q-E-s,t)),{placement:"top",maxHeight:O}}if(o==="bottom")return i&&ea(l,L),{placement:"bottom",maxHeight:t};break;case"top":if(R>=h)return{placement:"top",maxHeight:t};if(I>=h&&!a)return i&&Fi(l,H,P),{placement:"top",maxHeight:t};if(!a&&I>=r||a&&R>=r){var j=t;return(!a&&I>=r||a&&R>=r)&&(j=a?R-D:I-D),i&&Fi(l,H,P),{placement:"top",maxHeight:j}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return c}function S1(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var Du=function(t){return t==="auto"?"bottom":t},x1=function(t,n){var r,o=t.placement,i=t.theme,a=i.borderRadius,s=i.spacing,l=i.colors;return xe((r={label:"menu"},No(r,S1(o),"100%"),No(r,"position","absolute"),No(r,"width","100%"),No(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},Ou=d.createContext(null),k1=function(t){var n=t.children,r=t.minMenuHeight,o=t.maxMenuHeight,i=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,c=d.useContext(Ou)||{},u=c.setPortalPlacement,f=d.useRef(null),m=d.useState(o),p=cr(m,2),h=p[0],g=p[1],b=d.useState(null),w=cr(b,2),y=w[0],S=w[1],E=l.spacing.controlHeight;return dl(function(){var D=f.current;if(D){var R=a==="fixed",C=s&&!R,I=C1({maxHeight:o,menuEl:D,minHeight:r,placement:i,shouldScroll:C,isFixedPosition:R,controlHeight:E});g(I.maxHeight),S(I.placement),u==null||u(I.placement)}},[o,i,a,s,r,u,E]),n({ref:f,placerProps:xe(xe({},t),{},{placement:y||Du(i),maxHeight:h})})},M1=function(t){var n=t.children,r=t.innerRef,o=t.innerProps;return Me("div",Te({},Pt(t,"menu",{menu:!0}),{ref:r},o),n)},R1=M1,I1=function(t,n){var r=t.maxHeight,o=t.theme.spacing.baseUnit;return xe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:o,paddingTop:o})},E1=function(t){var n=t.children,r=t.innerProps,o=t.innerRef,i=t.isMulti;return Me("div",Te({},Pt(t,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:o},r),n)},Pu=function(t,n){var r=t.theme,o=r.spacing.baseUnit,i=r.colors;return xe({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(o*2,"px ").concat(o*3,"px")})},D1=Pu,O1=Pu,P1=function(t){var n=t.children,r=n===void 0?"No options":n,o=t.innerProps,i=Qn(t,w1);return Me("div",Te({},Pt(xe(xe({},i),{},{children:r,innerProps:o}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),o),r)},T1=function(t){var n=t.children,r=n===void 0?"Loading...":n,o=t.innerProps,i=Qn(t,y1);return Me("div",Te({},Pt(xe(xe({},i),{},{children:r,innerProps:o}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),o),r)},F1=function(t){var n=t.rect,r=t.offset,o=t.position;return{left:n.left,position:o,top:r,width:n.width,zIndex:1}},L1=function(t){var n=t.appendTo,r=t.children,o=t.controlElement,i=t.innerProps,a=t.menuPlacement,s=t.menuPosition,l=d.useRef(null),c=d.useRef(null),u=d.useState(Du(a)),f=cr(u,2),m=f[0],p=f[1],h=d.useMemo(function(){return{setPortalPlacement:p}},[]),g=d.useState(null),b=cr(g,2),w=b[0],y=b[1],S=d.useCallback(function(){if(o){var C=f1(o),I=s==="fixed"?0:window.pageYOffset,x=C[m]+I;(x!==(w==null?void 0:w.offset)||C.left!==(w==null?void 0:w.rect.left)||C.width!==(w==null?void 0:w.rect.width))&&y({offset:x,rect:C})}},[o,s,m,w==null?void 0:w.offset,w==null?void 0:w.rect.left,w==null?void 0:w.rect.width]);dl(function(){S()},[S]);var E=d.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),o&&l.current&&(c.current=i1(o,l.current,S,{elementResize:"ResizeObserver"in window}))},[o,S]);dl(function(){E()},[E]);var D=d.useCallback(function(C){l.current=C,E()},[E]);if(!n&&s!=="fixed"||!w)return null;var R=Me("div",Te({ref:D},Pt(xe(xe({},t),{},{offset:w.offset,position:s,rect:w.rect}),"menuPortal",{"menu-portal":!0}),i),r);return Me(Ou.Provider,{value:h},n?Ud.createPortal(R,n):R)},H1=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},A1=function(t){var n=t.children,r=t.innerProps,o=t.isDisabled,i=t.isRtl;return Me("div",Te({},Pt(t,"container",{"--is-disabled":o,"--is-rtl":i}),r),n)},$1=function(t,n){var r=t.theme.spacing,o=t.isMulti,i=t.hasValue,a=t.selectProps.controlShouldRenderValue;return xe({alignItems:"center",display:o&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},z1=function(t){var n=t.children,r=t.innerProps,o=t.isMulti,i=t.hasValue;return Me("div",Te({},Pt(t,"valueContainer",{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":i}),r),n)},V1=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},B1=function(t){var n=t.children,r=t.innerProps;return Me("div",Te({},Pt(t,"indicatorsContainer",{indicators:!0}),r),n)},Gs,N1=["size"],W1=["innerProps","isRtl","size"],_1={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Tu=function(t){var n=t.size,r=Qn(t,N1);return Me("svg",Te({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:_1},r))},Hl=function(t){return Me(Tu,Te({size:20},t),Me("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Fu=function(t){return Me(Tu,Te({size:20},t),Me("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Lu=function(t,n){var r=t.isFocused,o=t.theme,i=o.spacing.baseUnit,a=o.colors;return xe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:i*2,":hover":{color:r?a.neutral80:a.neutral40}})},G1=Lu,U1=function(t){var n=t.children,r=t.innerProps;return Me("div",Te({},Pt(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Me(Fu,null))},X1=Lu,Y1=function(t){var n=t.children,r=t.innerProps;return Me("div",Te({},Pt(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Me(Hl,null))},K1=function(t,n){var r=t.isDisabled,o=t.theme,i=o.spacing.baseUnit,a=o.colors;return xe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:i*2,marginTop:i*2})},j1=function(t){var n=t.innerProps;return Me("span",Te({},n,Pt(t,"indicatorSeparator",{"indicator-separator":!0})))},q1=Xm(Gs||(Gs=Ym([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Z1=function(t,n){var r=t.isFocused,o=t.size,i=t.theme,a=i.colors,s=i.spacing.baseUnit;return xe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:s*2})},Ua=function(t){var n=t.delay,r=t.offset;return Me("span",{css:Pl({animation:"".concat(q1," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},J1=function(t){var n=t.innerProps,r=t.isRtl,o=t.size,i=o===void 0?4:o,a=Qn(t,W1);return Me("div",Te({},Pt(xe(xe({},a),{},{innerProps:n,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Me(Ua,{delay:0,offset:r}),Me(Ua,{delay:160,offset:!0}),Me(Ua,{delay:320,offset:!r}))},Q1=function(t,n){var r=t.isDisabled,o=t.isFocused,i=t.theme,a=i.colors,s=i.borderRadius,l=i.spacing;return xe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:o?a.primary:a.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:o?a.primary:a.neutral30}})},ep=function(t){var n=t.children,r=t.isDisabled,o=t.isFocused,i=t.innerRef,a=t.innerProps,s=t.menuIsOpen;return Me("div",Te({ref:i},Pt(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":o,"control--menu-is-open":s}),a,{"aria-disabled":r||void 0}),n)},tp=ep,np=["data"],rp=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},op=function(t){var n=t.children,r=t.cx,o=t.getStyles,i=t.getClassNames,a=t.Heading,s=t.headingProps,l=t.innerProps,c=t.label,u=t.theme,f=t.selectProps;return Me("div",Te({},Pt(t,"group",{group:!0}),l),Me(a,Te({},s,{selectProps:f,theme:u,getStyles:o,getClassNames:i,cx:r}),c),Me("div",null,n))},ip=function(t,n){var r=t.theme,o=r.colors,i=r.spacing;return xe({label:"group",cursor:"default",display:"block"},n?{}:{color:o.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},ap=function(t){var n=Ru(t);n.data;var r=Qn(n,np);return Me("div",Te({},Pt(t,"groupHeading",{"group-heading":!0}),r))},lp=op,sp=["innerRef","isDisabled","isHidden","inputClassName"],cp=function(t,n){var r=t.isDisabled,o=t.value,i=t.theme,a=i.spacing,s=i.colors;return xe(xe({visibility:r?"hidden":"visible",transform:o?"translateZ(0)":""},up),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:s.neutral80})},Hu={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},up={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":xe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Hu)},dp=function(t){return xe({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},Hu)},fp=function(t){var n=t.cx,r=t.value,o=Ru(t),i=o.innerRef,a=o.isDisabled,s=o.isHidden,l=o.inputClassName,c=Qn(o,sp);return Me("div",Te({},Pt(t,"input",{"input-container":!0}),{"data-value":r||""}),Me("input",Te({className:n({input:!0},l),ref:i,style:dp(s),disabled:a},c)))},hp=fp,gp=function(t,n){var r=t.theme,o=r.spacing,i=r.borderRadius,a=r.colors;return xe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:o.baseUnit/2})},mp=function(t,n){var r=t.theme,o=r.borderRadius,i=r.colors,a=t.cropWithEllipsis;return xe({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:o/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},pp=function(t,n){var r=t.theme,o=r.spacing,i=r.borderRadius,a=r.colors,s=t.isFocused;return xe({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:s?a.dangerLight:void 0,paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},Au=function(t){var n=t.children,r=t.innerProps;return Me("div",r,n)},vp=Au,bp=Au;function wp(e){var t=e.children,n=e.innerProps;return Me("div",Te({role:"button"},n),t||Me(Hl,{size:14}))}var yp=function(t){var n=t.children,r=t.components,o=t.data,i=t.innerProps,a=t.isDisabled,s=t.removeProps,l=t.selectProps,c=r.Container,u=r.Label,f=r.Remove;return Me(c,{data:o,innerProps:xe(xe({},Pt(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:l},Me(u,{data:o,innerProps:xe({},Pt(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Me(f,{data:o,innerProps:xe(xe({},Pt(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:l}))},Cp=yp,Sp=function(t,n){var r=t.isDisabled,o=t.isFocused,i=t.isSelected,a=t.theme,s=a.spacing,l=a.colors;return xe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?l.primary:o?l.primary25:"transparent",color:r?l.neutral20:i?l.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?l.primary:l.primary50}})},xp=function(t){var n=t.children,r=t.isDisabled,o=t.isFocused,i=t.isSelected,a=t.innerRef,s=t.innerProps;return Me("div",Te({},Pt(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":o,"option--is-selected":i}),{ref:a,"aria-disabled":r},s),n)},kp=xp,Mp=function(t,n){var r=t.theme,o=r.spacing,i=r.colors;return xe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},Rp=function(t){var n=t.children,r=t.innerProps;return Me("div",Te({},Pt(t,"placeholder",{placeholder:!0}),r),n)},Ip=Rp,Ep=function(t,n){var r=t.isDisabled,o=t.theme,i=o.spacing,a=o.colors;return xe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Dp=function(t){var n=t.children,r=t.isDisabled,o=t.innerProps;return Me("div",Te({},Pt(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),o),n)},Op=Dp,Al={ClearIndicator:Y1,Control:tp,DropdownIndicator:U1,DownChevron:Fu,CrossIcon:Hl,Group:lp,GroupHeading:ap,IndicatorsContainer:B1,IndicatorSeparator:j1,Input:hp,LoadingIndicator:J1,Menu:R1,MenuList:E1,MenuPortal:L1,LoadingMessage:T1,NoOptionsMessage:P1,MultiValue:Cp,MultiValueContainer:vp,MultiValueLabel:bp,MultiValueRemove:wp,Option:kp,Placeholder:Ip,SelectContainer:A1,SingleValue:Op,ValueContainer:z1},Pp=function(t){return xe(xe({},Al),t.components)},Us=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Tp(e,t){return!!(e===t||Us(e)&&Us(t))}function Fp(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Tp(e[n],t[n]))return!1;return!0}function Lp(e,t){t===void 0&&(t=Fp);var n=null;function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var a=e.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){n=null},r}var Hp={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Ap=function(t){return Me("span",Te({css:Hp},t))},Xs=Ap,$p={guidance:function(t){var n=t.isSearchable,r=t.isMulti,o=t.tabSelectsValue,i=t.context,a=t.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,o=r===void 0?"":r,i=t.labels,a=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(o,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return a?"option ".concat(o," is disabled. Select another option."):"option ".concat(o,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,o=t.options,i=t.label,a=i===void 0?"":i,s=t.selectValue,l=t.isDisabled,c=t.isSelected,u=t.isAppleDevice,f=function(g,b){return g&&g.length?"".concat(g.indexOf(b)+1," of ").concat(g.length):""};if(n==="value"&&s)return"value ".concat(a," focused, ").concat(f(s,r),".");if(n==="menu"&&u){var m=l?" disabled":"",p="".concat(c?" selected":"").concat(m);return"".concat(a).concat(p,", ").concat(f(o,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},zp=function(t){var n=t.ariaSelection,r=t.focusedOption,o=t.focusedValue,i=t.focusableOptions,a=t.isFocused,s=t.selectValue,l=t.selectProps,c=t.id,u=t.isAppleDevice,f=l.ariaLiveMessages,m=l.getOptionLabel,p=l.inputValue,h=l.isMulti,g=l.isOptionDisabled,b=l.isSearchable,w=l.menuIsOpen,y=l.options,S=l.screenReaderStatus,E=l.tabSelectsValue,D=l.isLoading,R=l["aria-label"],C=l["aria-live"],I=d.useMemo(function(){return xe(xe({},$p),f||{})},[f]),x=d.useMemo(function(){var q="";if(n&&I.onChange){var j=n.option,te=n.options,pe=n.removedValue,me=n.removedValues,J=n.value,Y=function(he){return Array.isArray(he)?null:he},ne=pe||j||Y(J),Z=ne?m(ne):"",ce=te||me||void 0,ue=ce?ce.map(m):[],G=xe({isDisabled:ne&&g(ne,s),label:Z,labels:ue},n);q=I.onChange(G)}return q},[n,I,g,s,m]),L=d.useMemo(function(){var q="",j=r||o,te=!!(r&&s&&s.includes(r));if(j&&I.onFocus){var pe={focused:j,label:m(j),isDisabled:g(j,s),isSelected:te,options:i,context:j===r?"menu":"value",selectValue:s,isAppleDevice:u};q=I.onFocus(pe)}return q},[r,o,m,g,I,i,s,u]),H=d.useMemo(function(){var q="";if(w&&y.length&&!D&&I.onFilter){var j=S({count:i.length});q=I.onFilter({inputValue:p,resultsMessage:j})}return q},[i,p,w,I,y,S,D]),P=(n==null?void 0:n.action)==="initial-input-focus",F=d.useMemo(function(){var q="";if(I.guidance){var j=o?"value":w?"menu":"input";q=I.guidance({"aria-label":R,context:j,isDisabled:r&&g(r,s),isMulti:h,isSearchable:b,tabSelectsValue:E,isInitialFocus:P})}return q},[R,r,o,h,g,b,w,I,s,E,P]),O=Me(d.Fragment,null,Me("span",{id:"aria-selection"},x),Me("span",{id:"aria-focused"},L),Me("span",{id:"aria-results"},H),Me("span",{id:"aria-guidance"},F));return Me(d.Fragment,null,Me(Xs,{id:c},P&&O),Me(Xs,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!P&&O))},Vp=zp,fl=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Bp=new RegExp("["+fl.map(function(e){return e.letters}).join("")+"]","g"),$u={};for(var Xa=0;Xa<fl.length;Xa++)for(var Ya=fl[Xa],Ka=0;Ka<Ya.letters.length;Ka++)$u[Ya.letters[Ka]]=Ya.base;var zu=function(t){return t.replace(Bp,function(n){return $u[n]})},Np=Lp(zu),Ys=function(t){return t.replace(/^\s+|\s+$/g,"")},Wp=function(t){return"".concat(t.label," ").concat(t.value)},_p=function(t){return function(n,r){if(n.data.__isNew__)return!0;var o=xe({ignoreCase:!0,ignoreAccents:!0,stringify:Wp,trim:!0,matchFrom:"any"},t),i=o.ignoreCase,a=o.ignoreAccents,s=o.stringify,l=o.trim,c=o.matchFrom,u=l?Ys(r):r,f=l?Ys(s(n)):s(n);return i&&(u=u.toLowerCase(),f=f.toLowerCase()),a&&(u=Np(u),f=zu(f)),c==="start"?f.substr(0,u.length)===u:f.indexOf(u)>-1}},Gp=["innerRef"];function Up(e){var t=e.innerRef,n=Qn(e,Gp),r=b1(n,"onExited","in","enter","exit","appear");return Me("input",Te({ref:t},r,{css:Pl({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Xp=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function Yp(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,i=e.onTopLeave,a=d.useRef(!1),s=d.useRef(!1),l=d.useRef(0),c=d.useRef(null),u=d.useCallback(function(b,w){if(c.current!==null){var y=c.current,S=y.scrollTop,E=y.scrollHeight,D=y.clientHeight,R=c.current,C=w>0,I=E-D-S,x=!1;I>w&&a.current&&(r&&r(b),a.current=!1),C&&s.current&&(i&&i(b),s.current=!1),C&&w>I?(n&&!a.current&&n(b),R.scrollTop=E,x=!0,a.current=!0):!C&&-w>S&&(o&&!s.current&&o(b),R.scrollTop=0,x=!0,s.current=!0),x&&Xp(b)}},[n,r,o,i]),f=d.useCallback(function(b){u(b,b.deltaY)},[u]),m=d.useCallback(function(b){l.current=b.changedTouches[0].clientY},[]),p=d.useCallback(function(b){var w=l.current-b.changedTouches[0].clientY;u(b,w)},[u]),h=d.useCallback(function(b){if(b){var w=m1?{passive:!1}:!1;b.addEventListener("wheel",f,w),b.addEventListener("touchstart",m,w),b.addEventListener("touchmove",p,w)}},[p,m,f]),g=d.useCallback(function(b){b&&(b.removeEventListener("wheel",f,!1),b.removeEventListener("touchstart",m,!1),b.removeEventListener("touchmove",p,!1))},[p,m,f]);return d.useEffect(function(){if(t){var b=c.current;return h(b),function(){g(b)}}},[t,h,g]),function(b){c.current=b}}var Ks=["boxSizing","height","overflow","paddingRight","position"],js={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function qs(e){e.preventDefault()}function Zs(e){e.stopPropagation()}function Js(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Qs(){return"ontouchstart"in window||navigator.maxTouchPoints}var ec=!!(typeof window<"u"&&window.document&&window.document.createElement),Bo=0,ao={capture:!1,passive:!1};function Kp(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,o=d.useRef({}),i=d.useRef(null),a=d.useCallback(function(l){if(ec){var c=document.body,u=c&&c.style;if(r&&Ks.forEach(function(h){var g=u&&u[h];o.current[h]=g}),r&&Bo<1){var f=parseInt(o.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,p=window.innerWidth-m+f||0;Object.keys(js).forEach(function(h){var g=js[h];u&&(u[h]=g)}),u&&(u.paddingRight="".concat(p,"px"))}c&&Qs()&&(c.addEventListener("touchmove",qs,ao),l&&(l.addEventListener("touchstart",Js,ao),l.addEventListener("touchmove",Zs,ao))),Bo+=1}},[r]),s=d.useCallback(function(l){if(ec){var c=document.body,u=c&&c.style;Bo=Math.max(Bo-1,0),r&&Bo<1&&Ks.forEach(function(f){var m=o.current[f];u&&(u[f]=m)}),c&&Qs()&&(c.removeEventListener("touchmove",qs,ao),l&&(l.removeEventListener("touchstart",Js,ao),l.removeEventListener("touchmove",Zs,ao)))}},[r]);return d.useEffect(function(){if(t){var l=i.current;return a(l),function(){s(l)}}},[t,a,s]),function(l){i.current=l}}var jp=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},qp={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Zp(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,o=r===void 0?!0:r,i=e.onBottomArrive,a=e.onBottomLeave,s=e.onTopArrive,l=e.onTopLeave,c=Yp({isEnabled:o,onBottomArrive:i,onBottomLeave:a,onTopArrive:s,onTopLeave:l}),u=Kp({isEnabled:n}),f=function(p){c(p),u(p)};return Me(d.Fragment,null,n&&Me("div",{onClick:jp,css:qp}),t(f))}var Jp={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Qp=function(t){var n=t.name,r=t.onFocus;return Me("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Jp,value:"",onChange:function(){}})},ev=Qp;function $l(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function tv(){return $l(/^iPhone/i)}function Vu(){return $l(/^Mac/i)}function nv(){return $l(/^iPad/i)||Vu()&&navigator.maxTouchPoints>1}function rv(){return tv()||nv()}function ov(){return Vu()||rv()}var iv=function(t){return t.label},Bu=function(t){return t.label},Nu=function(t){return t.value},av=function(t){return!!t.isDisabled},lv={clearIndicator:X1,container:H1,control:Q1,dropdownIndicator:G1,group:rp,groupHeading:ip,indicatorsContainer:V1,indicatorSeparator:K1,input:cp,loadingIndicator:Z1,loadingMessage:O1,menu:x1,menuList:I1,menuPortal:F1,multiValue:gp,multiValueLabel:mp,multiValueRemove:pp,noOptionsMessage:D1,option:Sp,placeholder:Mp,singleValue:Ep,valueContainer:$1},sv={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},cv=4,Wu=4,uv=38,dv=Wu*2,fv={baseUnit:Wu,controlHeight:uv,menuGutter:dv},ja={borderRadius:cv,colors:sv,spacing:fv},hv={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:_s(),captureMenuScroll:!_s(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:_p(),formatGroupLabel:iv,getOptionLabel:Bu,getOptionValue:Nu,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:av,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!h1(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function tc(e,t,n,r){var o=Uu(e,t,n),i=Xu(e,t,n),a=Gu(e,t),s=ta(e,t);return{type:"option",data:t,isDisabled:o,isSelected:i,label:a,value:s,index:r}}function Vi(e,t){return e.options.map(function(n,r){if("options"in n){var o=n.options.map(function(a,s){return tc(e,a,t,s)}).filter(function(a){return rc(e,a)});return o.length>0?{type:"group",data:n,options:o,index:r}:void 0}var i=tc(e,n,t,r);return rc(e,i)?i:void 0}).filter(p1)}function _u(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,ho(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function nc(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,ho(r.options.map(function(o){return{data:o.data,id:"".concat(t,"-").concat(r.index,"-").concat(o.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function gv(e,t){return _u(Vi(e,t))}function rc(e,t){var n=e.inputValue,r=n===void 0?"":n,o=t.data,i=t.isSelected,a=t.label,s=t.value;return(!Ku(e)||!i)&&Yu(e,{label:a,value:s,data:o},r)}function mv(e,t){var n=e.focusedValue,r=e.selectValue,o=r.indexOf(n);if(o>-1){var i=t.indexOf(n);if(i>-1)return n;if(o<t.length)return t[o]}return null}function pv(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var qa=function(t,n){var r,o=(r=t.find(function(i){return i.data===n}))===null||r===void 0?void 0:r.id;return o||null},Gu=function(t,n){return t.getOptionLabel(n)},ta=function(t,n){return t.getOptionValue(n)};function Uu(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function Xu(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=ta(e,t);return n.some(function(o){return ta(e,o)===r})}function Yu(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var Ku=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},vv=1,zl=function(e){U0(n,e);var t=K0(n);function n(r){var o;if(_0(this,n),o=t.call(this,r),o.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.isAppleDevice=ov(),o.controlRef=null,o.getControlRef=function(l){o.controlRef=l},o.focusedOptionRef=null,o.getFocusedOptionRef=function(l){o.focusedOptionRef=l},o.menuListRef=null,o.getMenuListRef=function(l){o.menuListRef=l},o.inputRef=null,o.getInputRef=function(l){o.inputRef=l},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(l,c){var u=o.props,f=u.onChange,m=u.name;c.name=m,o.ariaOnChange(l,c),f(l,c)},o.setValue=function(l,c,u){var f=o.props,m=f.closeMenuOnSelect,p=f.isMulti,h=f.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:h}),m&&(o.setState({inputIsHiddenAfterUpdate:!p}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(l,{action:c,option:u})},o.selectOption=function(l){var c=o.props,u=c.blurInputOnSelect,f=c.isMulti,m=c.name,p=o.state.selectValue,h=f&&o.isOptionSelected(l,p),g=o.isOptionDisabled(l,p);if(h){var b=o.getOptionValue(l);o.setValue(p.filter(function(w){return o.getOptionValue(w)!==b}),"deselect-option",l)}else if(!g)f?o.setValue([].concat(ho(p),[l]),"select-option",l):o.setValue(l,"select-option");else{o.ariaOnChange(l,{action:"select-option",option:l,name:m});return}u&&o.blurInput()},o.removeValue=function(l){var c=o.props.isMulti,u=o.state.selectValue,f=o.getOptionValue(l),m=u.filter(function(h){return o.getOptionValue(h)!==f}),p=_o(c,m,m[0]||null);o.onChange(p,{action:"remove-value",removedValue:l}),o.focusInput()},o.clearValue=function(){var l=o.state.selectValue;o.onChange(_o(o.props.isMulti,[],null),{action:"clear",removedValues:l})},o.popValue=function(){var l=o.props.isMulti,c=o.state.selectValue,u=c[c.length-1],f=c.slice(0,c.length-1),m=_o(l,f,f[0]||null);o.onChange(m,{action:"pop-value",removedValue:u})},o.getFocusedOptionId=function(l){return qa(o.state.focusableOptionsWithIds,l)},o.getFocusableOptionsWithIds=function(){return nc(Vi(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return s1.apply(void 0,[o.props.classNamePrefix].concat(c))},o.getOptionLabel=function(l){return Gu(o.props,l)},o.getOptionValue=function(l){return ta(o.props,l)},o.getStyles=function(l,c){var u=o.props.unstyled,f=lv[l](c,u);f.boxSizing="border-box";var m=o.props.styles[l];return m?m(f,c):f},o.getClassNames=function(l,c){var u,f;return(u=(f=o.props.classNames)[l])===null||u===void 0?void 0:u.call(f,c)},o.getElementId=function(l){return"".concat(o.state.instancePrefix,"-").concat(l)},o.getComponents=function(){return Pp(o.props)},o.buildCategorizedOptions=function(){return Vi(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return _u(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(l,c){o.setState({ariaSelection:xe({value:l},c)})},o.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(l){o.blockOptionHover=!1},o.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&o.onMenuClose():c&&o.openMenu("first"):(c&&(o.openAfterFocus=!0),o.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},o.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!o.props.isDisabled){var c=o.props,u=c.isMulti,f=c.menuIsOpen;o.focusInput(),f?(o.setState({inputIsHiddenAfterUpdate:!u}),o.onMenuClose()):o.openMenu("first"),l.preventDefault()}},o.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(o.clearValue(),l.preventDefault(),o.openAfterFocus=!1,l.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(l){typeof o.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&pa(l.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(l)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(l){var c=l.touches,u=c&&c.item(0);u&&(o.initialTouchX=u.clientX,o.initialTouchY=u.clientY,o.userIsDragging=!1)},o.onTouchMove=function(l){var c=l.touches,u=c&&c.item(0);if(u){var f=Math.abs(u.clientX-o.initialTouchX),m=Math.abs(u.clientY-o.initialTouchY),p=5;o.userIsDragging=f>p||m>p}},o.onTouchEnd=function(l){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(l.target)&&o.menuListRef&&!o.menuListRef.contains(l.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(l){o.userIsDragging||o.onControlMouseDown(l)},o.onClearIndicatorTouchEnd=function(l){o.userIsDragging||o.onClearIndicatorMouseDown(l)},o.onDropdownIndicatorTouchEnd=function(l){o.userIsDragging||o.onDropdownIndicatorMouseDown(l)},o.handleInputChange=function(l){var c=o.props.inputValue,u=l.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(u,{action:"input-change",prevInputValue:c}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(l){o.props.onFocus&&o.props.onFocus(l),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(l){var c=o.props.inputValue;if(o.menuListRef&&o.menuListRef.contains(document.activeElement)){o.inputRef.focus();return}o.props.onBlur&&o.props.onBlur(l),o.onInputChange("",{action:"input-blur",prevInputValue:c}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1})},o.onOptionHover=function(l){if(!(o.blockOptionHover||o.state.focusedOption===l)){var c=o.getFocusableOptions(),u=c.indexOf(l);o.setState({focusedOption:l,focusedOptionId:u>-1?o.getFocusedOptionId(l):null})}},o.shouldHideSelectedOptions=function(){return Ku(o.props)},o.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),o.focus()},o.onKeyDown=function(l){var c=o.props,u=c.isMulti,f=c.backspaceRemovesValue,m=c.escapeClearsValue,p=c.inputValue,h=c.isClearable,g=c.isDisabled,b=c.menuIsOpen,w=c.onKeyDown,y=c.tabSelectsValue,S=c.openMenuOnFocus,E=o.state,D=E.focusedOption,R=E.focusedValue,C=E.selectValue;if(!g&&!(typeof w=="function"&&(w(l),l.defaultPrevented))){switch(o.blockOptionHover=!0,l.key){case"ArrowLeft":if(!u||p)return;o.focusValue("previous");break;case"ArrowRight":if(!u||p)return;o.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(R)o.removeValue(R);else{if(!f)return;u?o.popValue():h&&o.clearValue()}break;case"Tab":if(o.isComposing||l.shiftKey||!b||!y||!D||S&&o.isOptionSelected(D,C))return;o.selectOption(D);break;case"Enter":if(l.keyCode===229)break;if(b){if(!D||o.isComposing)return;o.selectOption(D);break}return;case"Escape":b?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:p}),o.onMenuClose()):h&&m&&o.clearValue();break;case" ":if(p)return;if(!b){o.openMenu("first");break}if(!D)return;o.selectOption(D);break;case"ArrowUp":b?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":b?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!b)return;o.focusOption("pageup");break;case"PageDown":if(!b)return;o.focusOption("pagedown");break;case"Home":if(!b)return;o.focusOption("first");break;case"End":if(!b)return;o.focusOption("last");break;default:return}l.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++vv),o.state.selectValue=Qi(r.value),r.menuIsOpen&&o.state.selectValue.length){var i=o.getFocusableOptionsWithIds(),a=o.buildFocusableOptions(),s=a.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=i,o.state.focusedOption=a[s],o.state.focusedOptionId=qa(i,a[s])}return o}return G0(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Ws(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(o){var i=this.props,a=i.isDisabled,s=i.menuIsOpen,l=this.state.isFocused;(l&&!a&&o.isDisabled||l&&s&&!o.menuIsOpen)&&this.focusInput(),l&&a&&!o.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&o.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Ws(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(o,i){this.props.onInputChange(o,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(o){var i=this,a=this.state,s=a.selectValue,l=a.isFocused,c=this.buildFocusableOptions(),u=o==="first"?0:c.length-1;if(!this.props.isMulti){var f=c.indexOf(s[0]);f>-1&&(u=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(o){var i=this.state,a=i.selectValue,s=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(s);s||(l=-1);var c=a.length-1,u=-1;if(a.length){switch(o){case"previous":l===0?u=0:l===-1?u=c:u=l-1;break;case"next":l>-1&&l<c&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:a[u]})}}}},{key:"focusOption",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,a=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,c=s.indexOf(a);a||(c=-1),o==="up"?l=c>0?c-1:s.length-1:o==="down"?l=(c+1)%s.length:o==="pageup"?(l=c-i,l<0&&(l=0)):o==="pagedown"?(l=c+i,l>s.length-1&&(l=s.length-1)):o==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(ja):xe(xe({},ja),this.props.theme):ja}},{key:"getCommonProps",value:function(){var o=this.clearValue,i=this.cx,a=this.getStyles,s=this.getClassNames,l=this.getValue,c=this.selectOption,u=this.setValue,f=this.props,m=f.isMulti,p=f.isRtl,h=f.options,g=this.hasValue();return{clearValue:o,cx:i,getStyles:a,getClassNames:s,getValue:l,hasValue:g,isMulti:m,isRtl:p,options:h,selectOption:c,selectProps:f,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var o=this.state.selectValue;return o.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var o=this.props,i=o.isClearable,a=o.isMulti;return i===void 0?a:i}},{key:"isOptionDisabled",value:function(o,i){return Uu(this.props,o,i)}},{key:"isOptionSelected",value:function(o,i){return Xu(this.props,o,i)}},{key:"filterOption",value:function(o,i){return Yu(this.props,o,i)}},{key:"formatOptionLabel",value:function(o,i){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(o,{context:i,inputValue:a,selectValue:s})}else return this.getOptionLabel(o)}},{key:"formatGroupLabel",value:function(o){return this.props.formatGroupLabel(o)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var o=this.props,i=o.isDisabled,a=o.isSearchable,s=o.inputId,l=o.inputValue,c=o.tabIndex,u=o.form,f=o.menuIsOpen,m=o.required,p=this.getComponents(),h=p.Input,g=this.state,b=g.inputIsHidden,w=g.ariaSelection,y=this.commonProps,S=s||this.getElementId("input"),E=xe(xe(xe({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(w==null?void 0:w.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?d.createElement(h,Te({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:i,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:l},E)):d.createElement(Up,Te({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ji,onFocus:this.onInputFocus,disabled:i,tabIndex:c,inputMode:"none",form:u,value:""},E))}},{key:"renderPlaceholderOrValue",value:function(){var o=this,i=this.getComponents(),a=i.MultiValue,s=i.MultiValueContainer,l=i.MultiValueLabel,c=i.MultiValueRemove,u=i.SingleValue,f=i.Placeholder,m=this.commonProps,p=this.props,h=p.controlShouldRenderValue,g=p.isDisabled,b=p.isMulti,w=p.inputValue,y=p.placeholder,S=this.state,E=S.selectValue,D=S.focusedValue,R=S.isFocused;if(!this.hasValue()||!h)return w?null:d.createElement(f,Te({},m,{key:"placeholder",isDisabled:g,isFocused:R,innerProps:{id:this.getElementId("placeholder")}}),y);if(b)return E.map(function(I,x){var L=I===D,H="".concat(o.getOptionLabel(I),"-").concat(o.getOptionValue(I));return d.createElement(a,Te({},m,{components:{Container:s,Label:l,Remove:c},isFocused:L,isDisabled:g,key:H,index:x,removeProps:{onClick:function(){return o.removeValue(I)},onTouchEnd:function(){return o.removeValue(I)},onMouseDown:function(F){F.preventDefault()}},data:I}),o.formatOptionLabel(I,"value"))});if(w)return null;var C=E[0];return d.createElement(u,Te({},m,{data:C,isDisabled:g}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var o=this.getComponents(),i=o.ClearIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,c=s.isLoading,u=this.state.isFocused;if(!this.isClearable()||!i||l||!this.hasValue()||c)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return d.createElement(i,Te({},a,{innerProps:f,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var o=this.getComponents(),i=o.LoadingIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,c=s.isLoading,u=this.state.isFocused;if(!i||!c)return null;var f={"aria-hidden":"true"};return d.createElement(i,Te({},a,{innerProps:f,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var o=this.getComponents(),i=o.DropdownIndicator,a=o.IndicatorSeparator;if(!i||!a)return null;var s=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return d.createElement(a,Te({},s,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var o=this.getComponents(),i=o.DropdownIndicator;if(!i)return null;var a=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return d.createElement(i,Te({},a,{innerProps:c,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var o=this,i=this.getComponents(),a=i.Group,s=i.GroupHeading,l=i.Menu,c=i.MenuList,u=i.MenuPortal,f=i.LoadingMessage,m=i.NoOptionsMessage,p=i.Option,h=this.commonProps,g=this.state.focusedOption,b=this.props,w=b.captureMenuScroll,y=b.inputValue,S=b.isLoading,E=b.loadingMessage,D=b.minMenuHeight,R=b.maxMenuHeight,C=b.menuIsOpen,I=b.menuPlacement,x=b.menuPosition,L=b.menuPortalTarget,H=b.menuShouldBlockScroll,P=b.menuShouldScrollIntoView,F=b.noOptionsMessage,O=b.onMenuScrollToTop,q=b.onMenuScrollToBottom;if(!C)return null;var j=function(Z,ce){var ue=Z.type,G=Z.data,ve=Z.isDisabled,he=Z.isSelected,Ve=Z.label,tt=Z.value,ht=g===G,at=ve?void 0:function(){return o.onOptionHover(G)},ze=ve?void 0:function(){return o.selectOption(G)},Ke="".concat(o.getElementId("option"),"-").concat(ce),ke={id:Ke,onClick:ze,onMouseMove:at,onMouseOver:at,tabIndex:-1,role:"option","aria-selected":o.isAppleDevice?void 0:he};return d.createElement(p,Te({},h,{innerProps:ke,data:G,isDisabled:ve,isSelected:he,key:Ke,label:Ve,type:ue,value:tt,isFocused:ht,innerRef:ht?o.getFocusedOptionRef:void 0}),o.formatOptionLabel(Z.data,"menu"))},te;if(this.hasOptions())te=this.getCategorizedOptions().map(function(ne){if(ne.type==="group"){var Z=ne.data,ce=ne.options,ue=ne.index,G="".concat(o.getElementId("group"),"-").concat(ue),ve="".concat(G,"-heading");return d.createElement(a,Te({},h,{key:G,data:Z,options:ce,Heading:s,headingProps:{id:ve,data:ne.data},label:o.formatGroupLabel(ne.data)}),ne.options.map(function(he){return j(he,"".concat(ue,"-").concat(he.index))}))}else if(ne.type==="option")return j(ne,"".concat(ne.index))});else if(S){var pe=E({inputValue:y});if(pe===null)return null;te=d.createElement(f,h,pe)}else{var me=F({inputValue:y});if(me===null)return null;te=d.createElement(m,h,me)}var J={minMenuHeight:D,maxMenuHeight:R,menuPlacement:I,menuPosition:x,menuShouldScrollIntoView:P},Y=d.createElement(k1,Te({},h,J),function(ne){var Z=ne.ref,ce=ne.placerProps,ue=ce.placement,G=ce.maxHeight;return d.createElement(l,Te({},h,J,{innerRef:Z,innerProps:{onMouseDown:o.onMenuMouseDown,onMouseMove:o.onMenuMouseMove},isLoading:S,placement:ue}),d.createElement(Zp,{captureEnabled:w,onTopArrive:O,onBottomArrive:q,lockEnabled:H},function(ve){return d.createElement(c,Te({},h,{innerRef:function(Ve){o.getMenuListRef(Ve),ve(Ve)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:o.getElementId("listbox")},isLoading:S,maxHeight:G,focusedOption:g}),te)}))});return L||x==="fixed"?d.createElement(u,Te({},h,{appendTo:L,controlElement:this.controlRef,menuPlacement:I,menuPosition:x}),Y):Y}},{key:"renderFormField",value:function(){var o=this,i=this.props,a=i.delimiter,s=i.isDisabled,l=i.isMulti,c=i.name,u=i.required,f=this.state.selectValue;if(u&&!this.hasValue()&&!s)return d.createElement(ev,{name:c,onFocus:this.onValueInputFocus});if(!(!c||s))if(l)if(a){var m=f.map(function(g){return o.getOptionValue(g)}).join(a);return d.createElement("input",{name:c,type:"hidden",value:m})}else{var p=f.length>0?f.map(function(g,b){return d.createElement("input",{key:"i-".concat(b),name:c,type:"hidden",value:o.getOptionValue(g)})}):d.createElement("input",{name:c,type:"hidden",value:""});return d.createElement("div",null,p)}else{var h=f[0]?this.getOptionValue(f[0]):"";return d.createElement("input",{name:c,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var o=this.commonProps,i=this.state,a=i.ariaSelection,s=i.focusedOption,l=i.focusedValue,c=i.isFocused,u=i.selectValue,f=this.getFocusableOptions();return d.createElement(Vp,Te({},o,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:s,focusedValue:l,isFocused:c,selectValue:u,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var o=this.getComponents(),i=o.Control,a=o.IndicatorsContainer,s=o.SelectContainer,l=o.ValueContainer,c=this.props,u=c.className,f=c.id,m=c.isDisabled,p=c.menuIsOpen,h=this.state.isFocused,g=this.commonProps=this.getCommonProps();return d.createElement(s,Te({},g,{className:u,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:h}),this.renderLiveRegion(),d.createElement(i,Te({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:h,menuIsOpen:p}),d.createElement(l,Te({},g,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),d.createElement(a,Te({},g,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(o,i){var a=i.prevProps,s=i.clearFocusValueOnUpdate,l=i.inputIsHiddenAfterUpdate,c=i.ariaSelection,u=i.isFocused,f=i.prevWasFocused,m=i.instancePrefix,p=o.options,h=o.value,g=o.menuIsOpen,b=o.inputValue,w=o.isMulti,y=Qi(h),S={};if(a&&(h!==a.value||p!==a.options||g!==a.menuIsOpen||b!==a.inputValue)){var E=g?gv(o,y):[],D=g?nc(Vi(o,y),"".concat(m,"-option")):[],R=s?mv(i,y):null,C=pv(i,E),I=qa(D,C);S={selectValue:y,focusedOption:C,focusedOptionId:I,focusableOptionsWithIds:D,focusedValue:R,clearFocusValueOnUpdate:!1}}var x=l!=null&&o!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},L=c,H=u&&f;return u&&!H&&(L={value:_o(w,y,y[0]||null),options:y,action:"initial-input-focus"},H=!f),(c==null?void 0:c.action)==="initial-input-focus"&&(L=null),xe(xe(xe({},S),x),{},{prevProps:o,ariaSelection:L,prevWasFocused:H})}}]),n}(d.Component);zl.defaultProps=hv;var bv=d.forwardRef(function(e,t){var n=ou(e);return d.createElement(zl,Te({ref:t},n))}),ju=bv;const wv=e=>{const{Menu:t}=Al,{children:n,...r}=e;return Pe(t,{...r,children:n})},yv=Ct("div")({name:"Wrap",class:"wg6ppx4",propsAsIs:!1}),Cv=Ct("div")({name:"PortalWrap",class:"p7jnwoo",propsAsIs:!1}),Sv=Ct("div")({name:"ReadOnlyWrap",class:"raz52dj",propsAsIs:!1}),xv=e=>{const{value:t,onFinishedEditing:n,initialValue:r}=e,{allowedValues:o,value:i}=t.data,[a,s]=d.useState(i),[l,c]=d.useState(r??""),u=$c(),f=d.useMemo(()=>o.map(m=>typeof m=="string"||m===null||m===void 0?{value:m,label:(m==null?void 0:m.toString())??""}:m),[o]);return t.readonly?Pe(Sv,{children:Pe(Wr,{highlight:!0,autoFocus:!1,disabled:!0,value:a??"",onChange:()=>{}})}):Pe(yv,{children:Pe(ju,{className:"glide-select",inputValue:l,onInputChange:c,menuPlacement:"auto",value:f.find(m=>m.value===a),styles:{control:m=>({...m,border:0,boxShadow:"none"}),option:(m,{isFocused:p})=>({...m,fontSize:u.editorFontSize,fontFamily:u.fontFamily,cursor:p?"pointer":void 0,paddingLeft:u.cellHorizontalPadding,paddingRight:u.cellHorizontalPadding,":active":{...m[":active"],color:u.accentFg},":empty::after":{content:'"&nbsp;"',visibility:"hidden"}})},theme:m=>({...m,colors:{...m.colors,neutral0:u.bgCell,neutral5:u.bgCell,neutral10:u.bgCell,neutral20:u.bgCellMedium,neutral30:u.bgCellMedium,neutral40:u.bgCellMedium,neutral50:u.textLight,neutral60:u.textMedium,neutral70:u.textMedium,neutral80:u.textDark,neutral90:u.textDark,neutral100:u.textDark,primary:u.accentColor,primary75:u.accentColor,primary50:u.accentColor,primary25:u.accentLight}}),menuPortalTarget:document.getElementById("portal"),autoFocus:!0,openMenuOnFocus:!0,components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null,Menu:m=>Pe(Cv,{children:Pe(wv,{className:"click-outside-ignore",...m})})},options:f,onChange:async m=>{m!==null&&(s(m.value),await new Promise(p=>window.requestAnimationFrame(p)),n({...t,data:{...t.data,value:m.value}}))}})})},kv={kind:X.Custom,isMatch:e=>e.data.kind==="dropdown-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o}=e,{value:i}=t.data,a=t.data.allowedValues.find(l=>typeof l=="string"||l===null||l===void 0?l===i:l.value===i),s=typeof a=="string"?a:(a==null?void 0:a.label)??"";return s&&(n.fillStyle=r.textDark,n.fillText(s,o.x+r.cellHorizontalPadding,o.y+o.height/2+Kt(n,r))),!0},measure:(e,t,n)=>{const{value:r}=t.data;return(r?e.measureText(r).width:0)+n.cellHorizontalPadding*2},provideEditor:()=>({editor:xv,disablePadding:!0,deletedValue:e=>({...e,copyData:"",data:{...e.data,value:""}})}),onPaste:(e,t)=>({...t,value:t.allowedValues.includes(e)?e:t.value})},qu=kv,Mv=d.lazy(async()=>await hl(()=>import("./article-cell-editor-xzWafJD4.js"),__vite__mapDeps([12,3,1,13]),import.meta.url)),Rv={kind:X.Custom,isMatch:e=>e.data.kind==="article-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o}=e,{markdown:i}=t.data;let a=i;a.includes(`
`)&&(a=a.split(/\r?\n/)[0]);const s=o.width/4;return a.length>s&&(a=a.slice(0,s)),n.fillStyle=r.textDark,n.fillText(a,o.x+r.cellHorizontalPadding,o.y+o.height/2+Kt(n,r)),!0},provideEditor:()=>({editor:e=>Pe(d.Suspense,{fallback:null,children:Pe(Mv,{...e})}),styleOverride:{position:"fixed",left:"12.5vw",top:"12.5vh",width:"75vw",borderRadius:"9px",maxWidth:"unset",maxHeight:"unset"},disablePadding:!0}),onPaste:(e,t)=>({...t,markdown:e})},Iv=Rv,$r=6,Ev={marginRight:8},Dv={display:"flex",alignItems:"center",flexGrow:1},Ov={kind:X.Custom,isMatch:e=>e.data.kind==="range-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o}=e,{min:i,max:a,value:s,label:l,measureLabel:c}=t.data,u=o.x+r.cellHorizontalPadding,f=o.y+o.height/2,m=a-i,p=(s-i)/m;n.save();let h=0;l!==void 0&&(n.font=`12px ${r.fontFamily}`,h=fn(c??l,n,`12px ${r.fontFamily}`).width+r.cellHorizontalPadding);const g=o.width-r.cellHorizontalPadding*2-h;if(g>=$r){const b=n.createLinearGradient(u,f,u+g,f);b.addColorStop(0,r.accentColor),b.addColorStop(p,r.accentColor),b.addColorStop(p,r.bgBubble),b.addColorStop(1,r.bgBubble),n.beginPath(),n.fillStyle=b,qo(n,u,f-$r/2,g,$r,$r/2),n.fill(),n.beginPath(),qo(n,u+.5,f-$r/2+.5,g-1,$r-1,($r-1)/2),n.strokeStyle=r.accentLight,n.lineWidth=1,n.stroke()}return l!==void 0&&(n.textAlign="right",n.fillStyle=r.textDark,n.fillText(l,o.x+o.width-r.cellHorizontalPadding,f+Kt(n,`12px ${r.fontFamily}`))),n.restore(),!0},provideEditor:()=>e=>{const{data:t,readonly:n}=e.value,r=t.value.toString(),o=t.min.toString(),i=t.max.toString(),a=t.step.toString();return mo("label",{style:Dv,children:[Pe("input",{style:Ev,type:"range",value:r,min:o,max:i,step:a,onChange:l=>{e.onChange({...e.value,data:{...t,value:Number(l.target.value)}})},disabled:n}),r]})},onPaste:(e,t)=>{let n=Number.parseFloat(e);return n=Number.isNaN(n)?t.value:Math.max(t.min,Math.min(t.max,n)),{...t,value:n}}},Pv=Ov,Tv={kind:X.Custom,isMatch:e=>e.data.kind==="spinner-cell",draw:e=>{const{ctx:t,theme:n,rect:r,requestAnimationFrame:o}=e,i=window.performance.now()%1e3/1e3,a=r.x+r.width/2,s=r.y+r.height/2;return t.beginPath(),t.arc(a,s,Math.min(12,r.height/6),Math.PI*2*i,Math.PI*2*i+Math.PI*1.5),t.strokeStyle=n.textMedium,t.lineWidth=1.5,t.stroke(),t.lineWidth=1,o(),!0},provideEditor:()=>{}},Fv=Tv,Lv=Ct("input")({name:"StyledInputBox",class:"s1b2b8y4",propsAsIs:!1}),Za=(e,t)=>{if(t==null)return"";const n=t.toISOString();switch(e){case"date":return n.split("T")[0];case"datetime-local":return n.replace("Z","");case"time":return n.split("T")[1].replace("Z","");default:throw new Error(`Unknown date kind ${e}`)}},Hv=e=>{const t=e.value.data,{format:n,displayDate:r}=t,o=t.step!==void 0&&!Number.isNaN(Number(t.step))?Number(t.step):void 0,i=t.min instanceof Date?Za(n,t.min):t.min,a=t.max instanceof Date?Za(n,t.max):t.max;let s=t.date;const l=t.timezoneOffset?t.timezoneOffset*60*1e3:0;l&&s&&(s=new Date(s.getTime()+l));const c=Za(n,s);return e.value.readonly?Pe(Wr,{highlight:!0,autoFocus:!1,disabled:!0,value:r??"",onChange:()=>{}}):Pe(Lv,{"data-testid":"date-picker-cell",required:!0,type:n,defaultValue:c,min:i,max:a,step:o,autoFocus:!0,onChange:u=>{isNaN(u.target.valueAsNumber)?e.onChange({...e.value,data:{...e.value.data,date:void 0}}):e.onChange({...e.value,data:{...e.value.data,date:new Date(u.target.valueAsNumber-l)}})}})},Av={kind:X.Custom,isMatch:e=>e.data.kind==="date-picker-cell",draw:(e,t)=>{const{displayDate:n}=t.data;return kf(e,n,t.contentAlign),!0},measure:(e,t,n)=>{const{displayDate:r}=t.data;return e.measureText(r).width+n.cellHorizontalPadding*2},provideEditor:()=>({editor:Hv}),onPaste:(e,t)=>{let n=NaN;return e&&(n=Number(e).valueOf(),Number.isNaN(n)&&(n=Date.parse(e),t.format==="time"&&Number.isNaN(n)&&(n=Date.parse(`1970-01-01T${e}Z`)))),{...t,date:Number.isNaN(n)?void 0:new Date(n)}}},$v=Av;function oc(e){if(e.cell.data.navigateOn!=="click"!==e.ctrlKey)return;const r=document.createElement("canvas").getContext("2d",{alpha:!1});if(r===null)return;const{posX:o,bounds:i,cell:a,theme:s}=e,l=s.baseFontFull;r.font=l;const{links:c}=a.data,u=s.cellHorizontalPadding;let f=i.x+u;const m=i.x+o;for(const[p,h]of c.entries()){const g=p<c.length-1,b=fn(h.title,r),w=g?fn(h.title+",",r,l):b;if(m>f&&m<f+b.width)return h;f+=w.width+4}}const zv={kind:X.Custom,needsHover:!0,needsHoverPosition:!0,isMatch:e=>e.data.kind==="links-cell",onSelect:e=>{oc(e)!==void 0&&e.preventDefault()},onClick:e=>{var n;const t=oc(e);t!==void 0&&((n=t.onClick)==null||n.call(t),e.preventDefault())},draw:(e,t)=>{var g;const{ctx:n,rect:r,theme:o,hoverX:i=-100,highlighted:a}=e,{links:s,underlineOffset:l=5}=t.data,c=o.cellHorizontalPadding;let u=r.x+c;const f=r.x+i,m=o.baseFontFull,p=Kt(n,m),h=r.y+r.height/2+p;for(const[b,w]of s.entries()){const y=b<s.length-1,S=fn(w.title,n,m),E=y?fn(w.title+",",n,m):S;f>u&&f<u+S.width&&((g=e.overrideCursor)==null||g.call(e,"pointer"),n.moveTo(u,Math.floor(h+l)+.5),n.lineTo(u+S.width,Math.floor(h+l)+.5),n.strokeStyle=o.textDark,n.stroke(),n.fillStyle=a?dn(o.accentLight,o.bgCell):o.bgCell,n.fillText(y?w.title+",":w.title,u-1,h),n.fillText(y?w.title+",":w.title,u+1,h),n.fillText(y?w.title+",":w.title,u-2,h),n.fillText(y?w.title+",":w.title,u+2,h)),n.fillStyle=o.textDark,n.fillText(y?w.title+",":w.title,u,h),u+=E.width+4}return!0},provideEditor:()=>e=>{const{value:t,onChange:n}=e,{links:r,maxLinks:o=Number.MAX_SAFE_INTEGER}=t.data;return mo(Vv,{onKeyDown:Bv,children:[r.map((i,a)=>Pe(Nv,{link:i.href??"",title:i.title,focus:a===0,onDelete:r.length>1?()=>{const s=[...r];s.splice(a,1),n({...t,data:{...t.data,links:s}})}:void 0,onChange:(s,l)=>{const c=[...r];c[a]={href:s,title:l},n({...t,data:{...t.data,links:c}})}},a)),Pe("button",{disabled:r.length>=o,className:"add-link",onClick:()=>{const i=[...r,{title:""}];n({...t,data:{...t.data,links:i}})},children:"Add link"})]})},onPaste:(e,t)=>{const n=e.split(",");if(!t.links.some((r,o)=>n[o]!==r.title))return{...t,links:n.map(r=>({title:r}))}}},Vv=Ct("div")({name:"LinksCellEditorStyle",class:"lld219p",propsAsIs:!1});function Bv(e){e.key==="Tab"&&e.stopPropagation()}const Nv=e=>{const{link:t,onChange:n,title:r,onDelete:o,focus:i}=e;return mo("div",{className:"gdg-link-title-editor",children:[Pe("input",{className:"gdg-title-input",value:r,placeholder:"Title",autoFocus:i,onChange:a=>{n(t,a.target.value)}}),Pe("input",{className:"gdg-link-input",value:t,placeholder:"URL",onChange:a=>{n(a.target.value,r)}}),o!==void 0&&Pe("button",{onClick:o,children:mo("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",id:"icon-import",xmlns:"http://www.w3.org/2000/svg",children:[Pe("path",{d:"M3 6L5 6L21 6",stroke:"currentColor",strokeWidth:"1px",strokeLinecap:"round",strokeLinejoin:"round"}),Pe("path",{d:"M17.9019 6C18.491 6 18.9525 6.50676 18.8975 7.09334L17.67 20.1867C17.5736 21.2144 16.711 22 15.6787 22H8.32127C7.28902 22 6.42635 21.2144 6.33 20.1867L5.1025 7.09334C5.04751 6.50676 5.50898 6 6.09813 6H17.9019Z",stroke:"currentColor",strokeWidth:"1px",strokeLinecap:"round",strokeLinejoin:"round"}),Pe("path",{d:"M14.4499 10.211L13.9949 17",stroke:"currentColor",strokeWidth:"1px",strokeLinecap:"round",strokeLinejoin:"round"}),Pe("path",{d:"M9.55499 10.211L10.0049 17",stroke:"currentColor",strokeWidth:"1px",strokeLinecap:"round",strokeLinejoin:"round"}),Pe("path",{d:"M7.5 2.25H16.5",stroke:"currentColor",strokeWidth:"1px",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})},Wv=zv;function Ja(e,t,n){if(typeof e=="string")return t[e]!==void 0?t[e]:e;let[r,o]=e;return t[r]!==void 0&&(r=t[r]),t[o]!==void 0&&(o=t[o]),hf(r,o,n)}function ic(e,t,n,r){const o=Math.floor(e.x+r.cellHorizontalPadding+1),i=Math.floor(e.y+r.cellVerticalPadding+1),a=Math.ceil(e.width-r.cellHorizontalPadding*2-1),s=Math.ceil(e.height-r.cellVerticalPadding*2-1);return t!==void 0&&n!==void 0&&t+e.x>=o&&t+e.x<o+a&&n+e.y>=i&&n+e.y<i+s}const _v={kind:X.Custom,isMatch:e=>e.data.kind==="button-cell",needsHoverPosition:!0,needsHover:!0,onSelect:e=>e.preventDefault(),onClick:e=>{var a,s;const{cell:t,theme:n,bounds:r,posX:o,posY:i}=e;ic(r,o,i,n)&&((s=(a=t.data).onClick)==null||s.call(a))},drawPrep:e=>{const{ctx:t}=e;return t.textAlign="center",{deprep:n=>{n.ctx.textAlign="start"}}},draw:(e,t)=>{var C,I;const{ctx:n,theme:r,rect:o,hoverX:i,hoverY:a,frameTime:s,drawState:l}=e,{title:c,backgroundColor:u,color:f,borderColor:m,borderRadius:p}=t.data,h=Math.floor(o.x+r.cellHorizontalPadding+1),g=Math.floor(o.y+r.cellVerticalPadding+1),b=Math.ceil(o.width-r.cellHorizontalPadding*2-1),w=Math.ceil(o.height-r.cellVerticalPadding*2-1);if(b<=0||w<=0)return!0;const y=ic(o,i,a,r);let[S,E]=l;y&&((C=e.overrideCursor)==null||C.call(e,"pointer")),S??(S={hovered:!1,animationStartTime:0}),y!==S.hovered&&(S={...S,hovered:y,animationStartTime:s},E(S));const D=Math.min(1,(s-S.animationStartTime)/200),R=y?D:1-D;return D<1&&((I=e.requestAnimationFrame)==null||I.call(e)),u!==void 0&&(n.beginPath(),qo(n,h,g,b,w,p??r.roundingRadius??0),n.fillStyle=Ja(u,r,R),n.fill()),m!==void 0&&(n.beginPath(),qo(n,h+.5,g+.5,b-1,w-1,p??r.roundingRadius??0),n.strokeStyle=Ja(m,r,R),n.lineWidth=1,n.stroke()),n.fillStyle=Ja(f??r.accentColor,r,R),n.fillText(c,h+b/2,g+w/2+Kt(n,r.baseFontFull)),!0},provideEditor:void 0},Gv=_v,ac=16;function lc(e,t,n,r,o){return e>=n+r.cellHorizontalPadding-4&&e<=n+r.cellHorizontalPadding+18&&t>=o/2-9&&t<=o/2+9}const Uv={kind:X.Custom,isMatch:e=>e.data.kind==="tree-view-cell",needsHover:!0,needsHoverPosition:!0,onClick:e=>{const{theme:t,bounds:n,posX:r,posY:o,cell:i}=e,{height:a}=n,{canOpen:s,depth:l,onClickOpener:c}=i.data;return!s||c===void 0?void 0:lc(r,o,l*ac,t,a)?c(i):void 0},draw:(e,t)=>{var w;const{ctx:n,theme:r,rect:o,hoverX:i=0,hoverY:a=0}=e,{x:s,y:l,height:c}=o,{canOpen:u,depth:f,text:m,isOpen:p}=t.data,h=Kt(n,r),g=f*ac,b=l+c/2;if(u){const y=lc(i,a,g,r,c);p?(n.moveTo(g+s+r.cellHorizontalPadding,b-2.5),n.lineTo(g+s+r.cellHorizontalPadding+5,b+2.5),n.lineTo(g+s+r.cellHorizontalPadding+10,b-2.5)):(n.moveTo(g+s+r.cellHorizontalPadding+2.5,b-5),n.lineTo(g+s+r.cellHorizontalPadding+2.5+5,b),n.lineTo(g+s+r.cellHorizontalPadding+2.5,b+5)),n.strokeStyle=y?r.textMedium:r.textLight,n.lineWidth=2,n.stroke(),y&&((w=e.overrideCursor)==null||w.call(e,"pointer"))}return n.fillStyle=r.textDark,n.fillText(m,16+s+g+r.cellHorizontalPadding+.5,l+c/2+h),!0},provideEditor:void 0},Xv=Uv;var Yv=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],sc=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=String(t).toLowerCase(),i=String(r.getOptionValue(n)).toLowerCase(),a=String(r.getOptionLabel(n)).toLowerCase();return i===o||a===o},Qa={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,n,r,o){return!(!t||n.some(function(i){return sc(t,i,o)})||r.some(function(i){return sc(t,i,o)}))},getNewOptionData:function(t,n){return{label:n,value:t,__isNew__:!0}}};function Kv(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,r=e.createOptionPosition,o=r===void 0?"last":r,i=e.formatCreateLabel,a=i===void 0?Qa.formatCreateLabel:i,s=e.isValidNewOption,l=s===void 0?Qa.isValidNewOption:s,c=e.getNewOptionData,u=c===void 0?Qa.getNewOptionData:c,f=e.onCreateOption,m=e.options,p=m===void 0?[]:m,h=e.onChange,g=Qn(e,Yv),b=g.getOptionValue,w=b===void 0?Nu:b,y=g.getOptionLabel,S=y===void 0?Bu:y,E=g.inputValue,D=g.isLoading,R=g.isMulti,C=g.value,I=g.name,x=d.useMemo(function(){return l(E,Qi(C),p,{getOptionValue:w,getOptionLabel:S})?u(E,a(E)):void 0},[a,u,S,w,E,l,p,C]),L=d.useMemo(function(){return(n||!D)&&x?o==="first"?[x].concat(ho(p)):[].concat(ho(p),[x]):p},[n,o,D,x,p]),H=d.useCallback(function(P,F){if(F.action!=="select-option")return h(P,F);var O=Array.isArray(P)?P:[P];if(O[O.length-1]===x){if(f)f(E);else{var q=u(E,E),j={action:"create-option",name:I,option:q};h(_o(R,[].concat(ho(Qi(C)),[q]),q),j)}return}h(P,F)},[u,E,R,I,x,f,h,C]);return xe(xe({},g),{},{options:L,onChange:H})}var jv=d.forwardRef(function(e,t){var n=ou(e),r=Kv(n);return d.createElement(zl,Te({ref:t},r))}),qv=jv;const Yn=20,kr=6,cc=4,Vl="__value",Zv=new RegExp(`^${Vl}\\d+__`),Jv=Ct("div")({name:"Wrap",class:"w18ots60",propsAsIs:!1}),Qv=Ct("div")({name:"PortalWrap",class:"p2ix37",propsAsIs:!1}),Bi=e=>e.map(t=>typeof t=="string"||t===null||t===void 0?{value:t,label:t??"",color:void 0}:{value:t.value,label:t.label??t.value??"",color:t.color??void 0}),Zu=(e,t,n)=>e==null?[]:e.map((r,o)=>{const i=n?`${Vl}${o}__`:"",a=t.find(s=>s.value===r);return a?{...a,value:`${i}${a.value}`}:{value:`${i}${r}`,label:r}}),eb=e=>{const{Menu:t}=Al,{children:n,...r}=e;return Pe(t,{...r,children:n})},tb=e=>{const{value:t,initialValue:n,onChange:r,onFinishedEditing:o}=e,{options:i,values:a,allowCreation:s,allowDuplicates:l}=t.data,c=$c(),[u,f]=d.useState(a),[m,p]=d.useState(!0),[h,g]=d.useState(n??""),b=d.useMemo(()=>Bi(i??[]),[i]),w=s&&l&&b.length===0,y=d.useCallback(C=>{m&&C.stopPropagation()},[m]),S={control:C=>({...C,border:0,boxShadow:"none",backgroundColor:c.bgCell}),menu:C=>({...C,backgroundColor:c.bgCell}),option:(C,I)=>({...C,fontSize:c.editorFontSize,fontFamily:c.fontFamily,color:c.textDark,...I.isFocused?{backgroundColor:c.accentLight,cursor:"pointer"}:{},":active":{...C[":active"],color:c.accentFg,backgroundColor:c.accentColor}}),input:(C,{isDisabled:I})=>I?{display:"none"}:{...C,fontSize:c.editorFontSize,fontFamily:c.fontFamily,color:c.textDark},placeholder:C=>({...C,fontSize:c.editorFontSize,fontFamily:c.fontFamily,color:c.textLight}),noOptionsMessage:C=>({...C,fontSize:c.editorFontSize,fontFamily:c.fontFamily,color:c.textLight}),clearIndicator:C=>({...C,color:c.textLight,":hover":{color:c.textDark,cursor:"pointer"}}),multiValue:(C,{data:I})=>({...C,backgroundColor:I.color??c.bgBubble,borderRadius:`${c.roundingRadius??Yn/2}px`}),multiValueLabel:(C,{data:I,isDisabled:x})=>({...C,paddingRight:x?kr:0,paddingLeft:kr,paddingTop:0,paddingBottom:0,color:I.color?tl(I.color)>.5?"black":"white":c.textBubble,fontSize:c.editorFontSize,fontFamily:c.fontFamily,justifyContent:"center",alignItems:"center",display:"flex",height:Yn}),multiValueRemove:(C,{data:I,isDisabled:x,isFocused:L})=>x?{display:"none"}:{...C,color:I.color?tl(I.color)>.5?"black":"white":c.textBubble,backgroundColor:void 0,borderRadius:L?`${c.roundingRadius??Yn/2}px`:void 0,":hover":{cursor:"pointer"}}},E=d.useCallback(C=>{const I=C.map(x=>l&&x.startsWith(Vl)?x.replace(new RegExp(Zv),""):x);f(I),r({...t,data:{...t.data,values:I}})},[t,r,l]),D=C=>{switch(C.key){case"Enter":case"Tab":if(!h){o(t,[0,1]);return}l&&s&&(g(""),E([...u??[],h]),p(!1),C.preventDefault())}};return Pe(Jv,{onKeyDown:y,"data-testid":"multi-select-cell",children:Pe(s?qv:ju,{className:"gdg-multi-select",isMulti:!0,isDisabled:t.readonly,isClearable:!0,isSearchable:!0,inputValue:h,onInputChange:g,options:b,placeholder:t.readonly?"":s?"Add...":void 0,noOptionsMessage:C=>s&&l&&C.inputValue?`Create "${C.inputValue}"`:void 0,menuIsOpen:t.readonly?!1:m,onMenuOpen:()=>p(!0),onMenuClose:()=>p(!1),value:Zu(u,b,l),onKeyDown:t.readonly?void 0:D,menuPlacement:"auto",menuPortalTarget:document.getElementById("portal"),autoFocus:!0,openMenuOnFocus:!0,openMenuOnClick:!0,closeMenuOnSelect:!0,backspaceRemovesValue:!0,escapeClearsValue:!1,styles:S,components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null,Menu:C=>w?null:Pe(Qv,{children:Pe(eb,{className:"click-outside-ignore",...C})})},onChange:async C=>{C!==null&&E(C.map(I=>I.value))}})})},nb={kind:X.Custom,isMatch:e=>e.data.kind==="multi-select-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o,highlighted:i}=e,{values:a,options:s}=t.data;if(a==null)return!0;const l=Bi(s??[]),c={x:o.x+r.cellHorizontalPadding,y:o.y+r.cellVerticalPadding,width:o.width-2*r.cellHorizontalPadding,height:o.height-2*r.cellVerticalPadding},u=Math.max(1,Math.floor(c.height/(Yn+kr)));let{x:f}=c,m=1,p=u===1?c.y+(c.height-Yn)/2:c.y+(c.height-u*Yn-(u-1)*kr)/2;for(const h of a){const g=l.find(D=>D.value===h),b=(g==null?void 0:g.color)??(i?r.bgBubbleSelected:r.bgBubble),w=(g==null?void 0:g.label)??h,S=fn(w,n).width+kr*2,E=Yn/2;if(f!==c.x&&f+S>c.x+c.width&&m<u&&(m++,p+=Yn+kr,f=c.x),n.fillStyle=b,n.beginPath(),$n(n,f,p,S,Yn,r.roundingRadius??Yn/2),n.fill(),n.fillStyle=g!=null&&g.color?tl(b)>.5?"#000000":"#ffffff":r.textBubble,n.fillText(w,f+kr,p+E+Kt(n,r)),f+=S+cc,f>c.x+c.width+r.cellHorizontalPadding&&m>=u)break}return!0},measure:(e,t,n)=>{const{values:r,options:o}=t.data;return r?Zu(r,Bi(o??[]),t.data.allowDuplicates).map(a=>a.label??a.value).reduce((a,s)=>e.measureText(s).width+a+kr*2+cc,0)+2*n.cellHorizontalPadding-4:n.cellHorizontalPadding*2},provideEditor:()=>({editor:tb,disablePadding:!0,deletedValue:e=>({...e,copyData:"",data:{...e.data,values:[]}})}),onPaste:(e,t)=>{if(!e||!e.trim())return{...t,values:[]};let n=e.split(",").map(r=>r.trim());if(t.allowDuplicates||(n=n.filter((r,o)=>n.indexOf(r)===o)),!t.allowCreation){const r=Bi(t.options??[]);n=n.filter(o=>r.find(i=>i.value===o))}if(n.length!==0)return{...t,values:n}}},Ju=nb,Qu=[E0,O0,A0,z0,qu,Iv,Fv,Pv,$v,Wv,Gv,Xv,Ju],rb=Ct("div")({name:"SimpleWrapper",class:"s1wvhs74",propsAsIs:!1}),ob=e=>Pe(rb,{children:Pe("div",{className:"content",children:e.children})}),ib={title:"Extra Packages/Cells",decorators:[e=>Pe(ob,{children:Pe(e,{})})]},ab=Ct("div")({name:"BeautifulStyle",class:"b16aqpip",propsAsIs:!1}),ed=e=>{const{title:t,children:n,description:r}=e,{ref:o,width:i,height:a}=Xd();return mo(ab,{children:[Pe("h1",{children:t}),r,Pe("div",{className:"sizer",children:Pe("div",{className:"sizer-clip",ref:o,children:Pe("div",{style:{position:"relative",width:i??100,height:a??100},children:n})})})]})},td=Ct("p")({name:"Description",class:"d1npx1y",propsAsIs:!1}),nd={smoothScrollX:!0,smoothScrollY:!0,isDraggable:!1,rowMarkers:"none",width:"100%"};let tn=1;function Ut(){return(tn=tn*16807%2147483647)/2147483647}const ar=[{tag:"Bug",color:"#ff4d4d35"},{tag:"Feature",color:"#35f8ff35"},{tag:"Enhancement",color:"#48ff5735"},{tag:"First Issue",color:"#436fff35"},{tag:"PR",color:"#e0ff3235"},{tag:"Assigned",color:"#ff1eec35"}],uo=()=>Pe(ed,{title:"Custom cells",description:Pe(td,{children:"Some of our extension cells."}),children:Pe(ru,{...nd,customRenderers:Qu,onPaste:!0,onCellEdited:(...e)=>console.log("Edit Cell",...e),getCellsForSelection:!0,getCellContent:e=>{const[t,n]=e;if(t===0)return{kind:X.Custom,allowOverlay:!0,copyData:"4",data:{kind:"star-cell",label:"Test",rating:4}};if(t===1){tn=n+1;const r=qn(0,15).map(()=>Ut()*100-50);return{kind:X.Custom,allowOverlay:!1,copyData:"4",data:{kind:"sparkline-cell",values:r,displayValues:r.map(o=>Math.round(o).toString()),color:n%2===0?"#77c4c4":"#D98466",yAxis:[-50,50]}}}else if(t===2){tn=n+1;const r=qn(0,15).map(()=>Ut()*100-50);return{kind:X.Custom,allowOverlay:!1,copyData:"4",data:{kind:"sparkline-cell",values:r,displayValues:r.map(o=>Math.round(o).toString()),color:n%2===0?"#77c4c4":"#D98466",graphKind:"line",hideAxis:!0,yAxis:[-50,50]}}}else{if(t===3)return tn=n+1,{kind:X.Custom,allowOverlay:!1,copyData:"4",data:{kind:"sparkline-cell",values:qn(0,15).map(()=>Ut()*100-50),color:n%2===0?"#77c4c4":"#D98466",graphKind:"bar",yAxis:[-50,50]}};if(t===4)return tn=n+1,Ut(),{kind:X.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"tags-cell",possibleTags:ar,tags:bc([ar[Math.round(Ut()*1e3)%ar.length].tag,ar[Math.round(Ut()*1e3)%ar.length].tag,ar[Math.round(Ut()*1e3)%ar.length].tag,ar[Math.round(Ut()*1e3)%ar.length].tag])}};if(t===5)return tn=n+1,Ut(),{kind:X.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"user-profile-cell",image:n%2?void 0:"https://i.redd.it/aqc1hwhalsz71.jpg",initial:"B",tint:"#F1D86E",name:n%5?void 0:"Bee bb"}};if(t===6)return tn=n+1,Ut(),{kind:X.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"dropdown-cell",allowedValues:[null,"Good","Better",{value:"best",label:"Best"}],value:"Good"}};if(t===7){tn=n+1,Ut();const r=Ut();return{kind:X.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"range-cell",min:10,max:30,value:10+Math.round(r*20),step:1,label:`${Math.round(r*100)}%`,measureLabel:"100%"}}}else{if(t===8)return tn=n+1,Ut(),{kind:X.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"article-cell",markdown:"## This is a test"}};if(t===9)return tn=n+1,Ut(),{kind:X.Custom,allowOverlay:!0,copyData:"4",data:{kind:"spinner-cell"}};if(t===10)return tn=n+1,Ut(),{kind:X.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"date-picker-cell",date:new Date,displayDate:new Date().toISOString(),format:"datetime-local"}};if(t===11)return tn=n+1,Ut(),{kind:X.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"date-picker-cell",date:new Date,displayDate:new Date().toISOString().split("T")[0],format:"date"}};if(t===12)return tn=n+1,Ut(),{kind:X.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"date-picker-cell",date:new Date,displayDate:new Date().toISOString().split("T")[1].replace("Z",""),format:"time"}};if(t===13)return tn=n+1,Ut(),{kind:X.Custom,allowOverlay:!0,copyData:"4",data:{kind:"links-cell",underlineOffset:6,links:[{title:"Linky phone",onClick:()=>alert("Click 1")},{title:"Click the linky dinky",onClick:()=>alert("Click 2")}]}};if(t===14)return tn=n+1,Ut(),{kind:X.Custom,allowOverlay:!0,copyData:"4",readonly:!0,data:{kind:"button-cell",backgroundColor:["transparent","#6572ffee"],color:["accentColor","accentFg"],borderColor:"#6572ffa0",borderRadius:9,title:"View Details",onClick:()=>window.alert("Button clicked")},themeOverride:{baseFontStyle:"700 12px"}};if(t===15)return{kind:X.Custom,allowOverlay:!1,copyData:"4",data:{canOpen:!0,depth:n%3,isOpen:n%7===0,kind:"tree-view-cell",text:"Row "+n,onClickOpener:()=>{alert("Open")}},readonly:!0};if(t===16)return{kind:X.Custom,allowOverlay:!0,copyData:["glide","data","grid"].join(","),readonly:n%2===0,data:{kind:"multi-select-cell",values:["glide","data","grid"],options:[{value:"glide",color:"#ffc38a"},{value:"data",color:"#ebfdea"},{value:"grid",color:"teal"}],allowDuplicates:!1,allowCreation:!0}}}}throw new Error("Fail")},columns:[{title:"Stars",width:100},{title:"Sparkline (area)",width:150},{title:"Sparkline (line)",width:150},{title:"Sparkline (bars)",width:150},{title:"Tags",width:250},{title:"Profile",width:150},{id:"dropdown",title:"Dropdown"},{title:"Range",width:150},{title:"Article",width:150},{title:"Spinner",width:150},{id:"datetime-picker",title:"Datetime Picker"},{id:"date-picker",title:"Date Picker"},{id:"time-picker",title:"Time Picker"},{title:"Links",width:150},{title:"Button",width:120},{title:"TreeView",width:150},{id:"multiselect",title:"Multiselect"}],rows:500})});uo.parameters={options:{showPanel:!1}};const fo=()=>{const e=d.useRef([[]]);return Pe(ed,{title:"Custom cell editing",description:Pe(td,{children:"Cells can be edited and responding to copy/paste using the copyData attribute."}),children:Pe(ru,{...nd,customRenderers:Qu,onPaste:!0,fillHandle:!0,onCellEdited:(t,n)=>{var i;const[r,o]=t;n.kind===X.Custom&&(((i=e.current)==null?void 0:i[r])==null&&(e.current[r]=[]),qu.isMatch(n)&&r===0?e.current[r][o]=n.data.value??"":Ju.isMatch(n)&&(r===1||r===2)&&(e.current[r][o]=n.data.values??[]))},getCellsForSelection:!0,getCellContent:t=>{var o,i,a,s,l,c;const[n,r]=t;if(n===0){const u=((i=(o=e.current)==null?void 0:o[n])==null?void 0:i[r])??"A";return{kind:X.Custom,allowOverlay:!0,copyData:u,data:{kind:"dropdown-cell",allowedValues:["A","B","C"],value:u}}}else if(n===1){const u=((s=(a=e.current)==null?void 0:a[n])==null?void 0:s[r])??["glide"];return{kind:X.Custom,allowOverlay:!0,copyData:u==null?void 0:u.join(","),data:{kind:"multi-select-cell",values:u,options:[{value:"glide",color:"#ffc38a",label:"Glide"},{value:"data",color:"#ebfdea",label:"Data"},{value:"grid",color:"teal",label:"Grid"}],allowDuplicates:!1,allowCreation:!0}}}else if(n===2){const u=((c=(l=e.current)==null?void 0:l[n])==null?void 0:c[r])??["glide data grid"];return{kind:X.Custom,allowOverlay:!0,copyData:u==null?void 0:u.join(","),data:{kind:"multi-select-cell",values:u,allowDuplicates:!0,allowCreation:!0}}}throw new Error("Fail")},columns:[{title:"Dropdown",width:150},{title:"Multi Select",width:200,themeOverride:{roundingRadius:4}},{title:"Multi Select (no options)",width:200}],rows:500})})};fo.parameters={options:{showPanel:!1}};var uc,dc,fc;uo.parameters={...uo.parameters,docs:{...(uc=uo.parameters)==null?void 0:uc.docs,source:{originalSource:`() => {
  return <BeautifulWrapper title="Custom cells" description={<Description>Some of our extension cells.</Description>}>
            <DataEditor {...defaultProps} customRenderers={allCells} onPaste={true}
    // eslint-disable-next-line no-console
    onCellEdited={(...args) => console.log("Edit Cell", ...args)} getCellsForSelection={true} getCellContent={cell => {
      const [col, row] = cell;
      if (col === 0) {
        return ({
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          data: {
            kind: "star-cell",
            label: "Test",
            rating: 4
          }
        } as StarCell);
      } else if (col === 1) {
        num = row + 1;
        const values = range(0, 15).map(() => rand() * 100 - 50);
        return ({
          kind: GridCellKind.Custom,
          allowOverlay: false,
          copyData: "4",
          data: {
            kind: "sparkline-cell",
            values,
            displayValues: values.map(x => Math.round(x).toString()),
            color: row % 2 === 0 ? "#77c4c4" : "#D98466",
            yAxis: [-50, 50]
          }
        } as SparklineCell);
      } else if (col === 2) {
        num = row + 1;
        const values = range(0, 15).map(() => rand() * 100 - 50);
        return ({
          kind: GridCellKind.Custom,
          allowOverlay: false,
          copyData: "4",
          data: {
            kind: "sparkline-cell",
            values,
            displayValues: values.map(x => Math.round(x).toString()),
            color: row % 2 === 0 ? "#77c4c4" : "#D98466",
            graphKind: "line",
            hideAxis: true,
            yAxis: [-50, 50]
          }
        } as SparklineCell);
      } else if (col === 3) {
        num = row + 1;
        return ({
          kind: GridCellKind.Custom,
          allowOverlay: false,
          copyData: "4",
          data: {
            kind: "sparkline-cell",
            values: range(0, 15).map(() => rand() * 100 - 50),
            color: row % 2 === 0 ? "#77c4c4" : "#D98466",
            graphKind: "bar",
            yAxis: [-50, 50]
          }
        } as SparklineCell);
      } else if (col === 4) {
        num = row + 1;
        rand();
        return ({
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "tags-cell",
            possibleTags: possibleTags,
            tags: uniq([possibleTags[Math.round(rand() * 1000) % possibleTags.length].tag, possibleTags[Math.round(rand() * 1000) % possibleTags.length].tag, possibleTags[Math.round(rand() * 1000) % possibleTags.length].tag, possibleTags[Math.round(rand() * 1000) % possibleTags.length].tag])
          }
        } as TagsCell);
      } else if (col === 5) {
        num = row + 1;
        rand();
        return ({
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "user-profile-cell",
            image: row % 2 ? undefined : "https://i.redd.it/aqc1hwhalsz71.jpg",
            initial: "B",
            tint: "#F1D86E",
            name: row % 5 ? undefined : "Bee bb"
          }
        } as UserProfileCell);
      } else if (col === 6) {
        num = row + 1;
        rand();
        const d: DropdownCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "dropdown-cell",
            allowedValues: [null, "Good", "Better", {
              value: "best",
              label: "Best"
            }],
            value: "Good"
          }
        };
        return d;
      } else if (col === 7) {
        num = row + 1;
        rand();
        const v = rand();
        const d: RangeCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "range-cell",
            min: 10,
            max: 30,
            value: 10 + Math.round(v * 20),
            step: 1,
            label: \`\${Math.round(v * 100)}%\`,
            measureLabel: "100%"
          }
        };
        return d;
      } else if (col === 8) {
        num = row + 1;
        rand();
        const d: ArticleCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "article-cell",
            markdown: "## This is a test"
          }
        };
        return d;
      } else if (col === 9) {
        num = row + 1;
        rand();
        const d: SpinnerCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          data: {
            kind: "spinner-cell"
          }
        };
        return d;
      } else if (col === 10) {
        num = row + 1;
        rand();
        const d: DatePickerCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "date-picker-cell",
            date: new Date(),
            displayDate: new Date().toISOString(),
            format: "datetime-local"
          }
        };
        return d;
      } else if (col === 11) {
        num = row + 1;
        rand();
        const d: DatePickerCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "date-picker-cell",
            date: new Date(),
            displayDate: new Date().toISOString().split("T")[0],
            format: "date"
          }
        };
        return d;
      } else if (col === 12) {
        num = row + 1;
        rand();
        const d: DatePickerCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "date-picker-cell",
            date: new Date(),
            displayDate: new Date().toISOString().split("T")[1].replace("Z", ""),
            format: "time"
          }
        };
        return d;
      } else if (col === 13) {
        num = row + 1;
        rand();
        const d: LinksCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          data: {
            kind: "links-cell",
            underlineOffset: 6,
            links: [{
              title: "Linky phone",
              onClick: () => alert("Click 1")
            }, {
              title: "Click the linky dinky",
              onClick: () => alert("Click 2")
            }]
          }
        };
        return d;
      } else if (col === 14) {
        num = row + 1;
        rand();
        const d: ButtonCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: true,
          data: {
            kind: "button-cell",
            backgroundColor: ["transparent", "#6572ffee"],
            color: ["accentColor", "accentFg"],
            borderColor: "#6572ffa0",
            borderRadius: 9,
            title: "View Details",
            onClick: () => window.alert("Button clicked")
          },
          themeOverride: {
            baseFontStyle: "700 12px"
          }
        };
        return d;
      } else if (col === 15) {
        const t: TreeViewCell = {
          kind: GridCellKind.Custom,
          allowOverlay: false,
          copyData: "4",
          data: {
            canOpen: true,
            depth: row % 3,
            isOpen: row % 7 === 0,
            kind: "tree-view-cell",
            text: "Row " + row,
            onClickOpener: () => {
              alert("Open");
              return undefined;
            }
          },
          readonly: true
        };
        return t;
      } else if (col === 16) {
        const t: MultiSelectCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: ["glide", "data", "grid"].join(","),
          readonly: row % 2 === 0,
          data: {
            kind: "multi-select-cell",
            values: ["glide", "data", "grid"],
            options: [{
              value: "glide",
              color: "#ffc38a"
            }, {
              value: "data",
              color: "#ebfdea"
            }, {
              value: "grid",
              color: "teal"
            }],
            allowDuplicates: false,
            allowCreation: true
          }
        };
        return t;
      }
      throw new Error("Fail");
    }} columns={[{
      title: "Stars",
      width: 100
    }, {
      title: "Sparkline (area)",
      width: 150
    }, {
      title: "Sparkline (line)",
      width: 150
    }, {
      title: "Sparkline (bars)",
      width: 150
    }, {
      title: "Tags",
      width: 250
    }, {
      title: "Profile",
      width: 150
    }, {
      id: "dropdown",
      title: "Dropdown"
    }, {
      title: "Range",
      width: 150
    }, {
      title: "Article",
      width: 150
    }, {
      title: "Spinner",
      width: 150
    }, {
      id: "datetime-picker",
      title: "Datetime Picker"
    }, {
      id: "date-picker",
      title: "Date Picker"
    }, {
      id: "time-picker",
      title: "Time Picker"
    }, {
      title: "Links",
      width: 150
    }, {
      title: "Button",
      width: 120
    }, {
      title: "TreeView",
      width: 150
    }, {
      id: "multiselect",
      title: "Multiselect"
    }]} rows={500} />
        </BeautifulWrapper>;
}`,...(fc=(dc=uo.parameters)==null?void 0:dc.docs)==null?void 0:fc.source}}};var hc,gc,mc;fo.parameters={...fo.parameters,docs:{...(hc=fo.parameters)==null?void 0:hc.docs,source:{originalSource:`() => {
  const data = React.useRef<any[][]>([[]]);
  return <BeautifulWrapper title="Custom cell editing" description={<Description>
                    Cells can be edited and responding to copy/paste using the copyData attribute.
                </Description>}>
            <DataEditor {...defaultProps} customRenderers={allCells} onPaste={true} fillHandle={true} onCellEdited={(cell, newVal) => {
      const [col, row] = cell;
      if (newVal.kind !== GridCellKind.Custom) {
        return;
      }
      if (data.current?.[col] == null) {
        data.current[col] = [];
      }
      if (DropdownRenderer.isMatch(newVal) && col === 0) {
        data.current[col][row] = newVal.data.value ?? "";
      } else if (MultiSelectRenderer.isMatch(newVal) && (col === 1 || col === 2)) {
        data.current[col][row] = newVal.data.values ?? [];
      }
    }} getCellsForSelection={true} getCellContent={cell => {
      const [col, row] = cell;
      if (col === 0) {
        const val = data.current?.[col]?.[row] ?? "A";
        return ({
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: val,
          data: {
            kind: "dropdown-cell",
            allowedValues: ["A", "B", "C"],
            value: val
          }
        } as DropdownCell);
      } else if (col === 1) {
        const val = data.current?.[col]?.[row] ?? ["glide"];
        return ({
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: val?.join(","),
          data: {
            kind: "multi-select-cell",
            values: val,
            options: [{
              value: "glide",
              color: "#ffc38a",
              label: "Glide"
            }, {
              value: "data",
              color: "#ebfdea",
              label: "Data"
            }, {
              value: "grid",
              color: "teal",
              label: "Grid"
            }],
            allowDuplicates: false,
            allowCreation: true
          }
        } as MultiSelectCell);
      } else if (col === 2) {
        const val = data.current?.[col]?.[row] ?? ["glide data grid"];
        return ({
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: val?.join(","),
          data: {
            kind: "multi-select-cell",
            values: val,
            allowDuplicates: true,
            allowCreation: true
          }
        } as MultiSelectCell);
      }
      throw new Error("Fail");
    }} columns={[{
      title: "Dropdown",
      width: 150
    }, {
      title: "Multi Select",
      width: 200,
      themeOverride: {
        roundingRadius: 4
      }
    }, {
      title: "Multi Select (no options)",
      width: 200
    }]} rows={500} />
        </BeautifulWrapper>;
}`,...(mc=(gc=fo.parameters)==null?void 0:gc.docs)==null?void 0:mc.source}}};const lb=["CustomCells","CustomCellEditing"],vb=Object.freeze(Object.defineProperty({__proto__:null,CustomCellEditing:fo,CustomCells:uo,__namedExportsOrder:lb,default:ib},Symbol.toStringTag,{value:"Module"}));export{eg as C,Ac as T,so as a,Kd as b,vb as c,lo as i,Of as m};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./data-grid-overlay-editor-5eS53weu.js","./index-BMVQvedj.js","./index-wocATsGp.js","./marked.esm-0svxPciP.js","./throttle-7EuXLZa7.js","./_baseIteratee-WTHxv43n.js","./toConsumableArray-ppDpjNRJ.js","./iframe-vTKsg95g.js","./flatten-qRvRBp6y.js","./index.esm-Ejw8GwRl.js","./number-overlay-editor-BtPU24jQ.js","./react-number-format.es-2Vaki8Uh.js","./article-cell-editor-xzWafJD4.js","./article-cell-editor-y5CvUi2Y.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}